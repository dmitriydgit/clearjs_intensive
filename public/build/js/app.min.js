var galleryController=function(){"use strict";return class{constructor(t,e,s,i){this.model=t,this.view=e,this.observer=s,this.utils=i,this.init()}init(){console.log("gallery inited"),this.model.getData().then(t=>{this.view.init(t),console.log("gallery-data: ",t)}),this.initListeners()}initListeners(){this.view.DOMElements.addImgBtn.addEventListener("click",this.addImage.bind(this)),this.view.DOMElements.editBtn.addEventListener("click",this.editCard.bind(this)),this.view.DOMElements.resultBlock.addEventListener("click",this.showFormForEditing.bind(this)),this.view.DOMElements.resultBlock.addEventListener("click",this.deleteImage.bind(this))}addImage(t){if("add-img"==t.target.id){let t=this.view.createItemForAdd();this.model.saveData(t).then(t=>this.view.refreshGallery(t)),this.view.hideFormForAdding()}}showFormForEditing(t){if(t.target.classList.contains("edit")){scroll(0,0),this.view.toggleAddEditBtn();let e=t.target.closest(".gallery-card").id;this.model.getItem(e).then(t=>{this.view.fillFormForEdit(t),this.objectFromresponse=t}).catch(function(t){console.log(t)})}}editCard(t){if("edit-img"==t.target.id){let t=this.view.createItemForAdd(),e=this.objectFromresponse.id;this.model.editGallery(e,t).then(t=>this.view.refreshGallery(t)),this.view.hideFormForAdding()}}deleteImage(t){if(t.target.classList.contains("remove")){let e=t.target.closest(".gallery-card").id;this.model.removeItem(e).then(t=>this.view.refreshGallery(t))}}}}(),galleryModel=function(){"use strict";return class{constructor(){this.getUrl="http://localhost:3000/gallery"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}getItem(t){let e=`http://localhost:3000/gallery/${t}`;return fetch(e).then(t=>t.json())}saveData(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/gallery",e).then(t=>t.json())}editGallery(t,e){let s=`http://localhost:3000/gallery/${t}`,i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(s,i).then(t=>t.json())}removeItem(t){let e=`http://localhost:3000/gallery/${t}`;return fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>t.json())}}}(),galleryView=function(){"use strict";return class{constructor(t){this.DOMElements={resultBlock:document.querySelector("#result"),formForAdding:document.querySelector("#form-add-new"),addNewImgBtn:document.querySelector("#add-new-img"),addImgBtn:document.querySelector("#add-img"),editBtn:document.querySelector("#edit-img"),newName:document.querySelector("#new-name"),newUrl:document.querySelector("#new-url"),newDescription:document.querySelector("#new-descr")},this.utils=t,this.readyDataForGallery=[],this.visibleData=[]}init(t){this.initListeners(),this.refreshGallery(t)}initListeners(){this.DOMElements.addNewImgBtn.addEventListener("click",this.showFormForAdding.bind(this))}showFormForAdding(t){"add-new-img"==t.target.id&&(this.clearFormForAdd(),this.utils.showEl(this.DOMElements.formForAdding),this.utils.hideEl(this.DOMElements.editBtn))}clearFormForAdd(){this.DOMElements.newName.value="",this.DOMElements.newUrl.value="",this.DOMElements.newDescription.value=""}fillFormForEdit(t){let e=t;this.DOMElements.newName.value=e.name,this.DOMElements.newUrl.value=e.url,this.DOMElements.newDescription.value=e.description}hideFormForAdding(){this.utils.hideEl(this.DOMElements.formForAdding)}toggleAddEditBtn(){this.utils.showEl(this.DOMElements.formForAdding),this.utils.hideEl(this.DOMElements.addImgBtn)}refreshGallery(t){this.prepareData(t),this.biuldGallery(this.visibleData)}prepareData(t){this.visibleData=[],this.readyDataForGallery=[],t.forEach(t=>{if(!t.name)return!1;this.readyDataForGallery.push(t)}),this.readyDataForGallery.map((t,e)=>({url:this.urlFomat(t.url),name:this.nameFormat(t.name),description:t.description,itemID:t.id})),this.visibleData.push.apply(this.visibleData,this.readyDataForGallery)}biuldGallery(t){this.DOMElements.resultBlock.innerHTML="";for(let e=0;e<t.length;e++)this.DOMElements.resultBlock.innerHTML+=this.createGalleryItem(t[e])}createGalleryItem(t){return`<div class="col-md-4 gallery-card" id = ${t.id}>\n\t\t\t\t\t<div class="card mb-4 box-shadow gallery-item" >\n\t\t\t\t\t\t\t<img src="${t.url}" alt="${t.name}" class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">\n\t\t\t\t\t\t\t<div class="card-body">\n\t\t\t\t\t\t\t\t\t<div class="card-text mb-4">${t.name}</div>\n\t\t\t\t\t\t\t\t\t<div class="card-text mb-4">${this.descrFormat(t.description)}</div>\n\t\t\t\t\t\t\t\t\t<div name = "edit-img" class="btn btn-warning edit"  title = "Редактировать данное изображение">Редактировать</div>\n\t\t\t\t\t\t\t\t\t<div  name = "delete-img" class = "btn btn-danger remove"  title = "Удалить данное изображение"> Удалить </div>\n\t\t\t\t\t\t\t\t\t<div class="btn-group">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}createItemForAdd(){return{url:this.urlFomat(this.DOMElements.newUrl.value),name:this.nameFormat(this.DOMElements.newName.value),description:this.DOMElements.newDescription.value}}nameFormat(t){return t?t[0].toUpperCase()+t.substring(1).toLowerCase():"Lohn Doh"}urlFomat(t){return-1===t.indexOf("https://")?`https://${t}`:t}descrFormat(t){return t||""}}}(),observer=function(){"use strict";return class{constructor(){this.events={}}subscribeEvent(t,e){this.events[t]=e}callEvent(t,e){this.events[t]&&this.events[t](e)}}}(),loginController=function(){"use strict";return class{constructor(t,e,s){this.loginModel=t,this.loginView=e,this.utils=s,this.init()}init(){this.fillStartPageUserData(),this.bindEvents()}fillStartPageUserData(){1==this.loginModel.getCheckboxStatus()?this.loginModel.getData().then(t=>{this.loginView.DOMElements.checkBoxRemememberMe.checked=!0,this.loginView.DOMElements.email.value=t.login,this.loginView.DOMElements.password.value=t.password}):(this.loginView.DOMElements.checkBoxRemememberMe.checked=!1,this.loginView.DOMElements.email.value="",this.loginView.DOMElements.password.value="")}bindEvents(){this.loginView.DOMElements.submitBtn.addEventListener("click",this.initValidation.bind(this)),this.loginView.DOMElements.exitBtn.addEventListener("click",this.initLogOut.bind(this))}initValidation(t){if(t.preventDefault(),"submitBtn"==t.target.id){this.loginView.hideAlertMsgs();let t=this.loginView.getLogAndPass(),e=this.loginModel.checkFields(t.login,t.password);1==e?this.loginModel.logAndPassValidation(t).then(t=>{t.status?(this.getAndSetCheckboxStatus(),this.utils.navigateTo("mainPage"),this.loginView.showButtons(),this.loginView.hideEnterBtn()):this.loginView.showErrorMsg("1")}):this.loginView.showErrorMsg(e)}}initLogOut(){this.loginModel.logOut(),this.loginView.hideButtons(),this.loginView.showEnterBtn(),this.utils.navigateTo(""),this.getAndSetCheckboxStatus()}getAndSetCheckboxStatus(){1==this.loginView.DOMElements.checkBoxRemememberMe.checked?this.loginModel.setCheckboxStatus("true"):this.loginModel.setCheckboxStatus("false")}}}(),loginModel=function(){"use strict";return class{constructor(){this.urlAdminUser="http://localhost:3000/adminUser",this.urlLogin="http://localhost:3000/login"}getData(){return fetch(this.urlAdminUser).then(t=>t.json()).then(t=>(console.log("Initial data is loaded"),console.log(t),t))}getCheckboxStatus(){return"true"==localStorage.getItem("remember")}setCheckboxStatus(t){localStorage.setItem("remember",t)}checkSession(){return!!localStorage.getItem("credentials")}setUserInfo(t){localStorage.setItem("credentials",JSON.stringify(t))}logOut(){localStorage.removeItem("credentials")}logAndPassValidation(t){let e=this.urlLogin,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,s).then(t=>t.json()).then(e=>(e.status&&this.setUserInfo(t),e))}checkFields(t,e){return t?e?this.checkEmail(t)?!!this.checkPassword(e)||"5":"4":"3":"2"}checkEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}checkPassword(t){return t.length>=8}saveData(t){console.log("Saving item... "+t.name);let e={name:"Saved iPhone",price:12458,popular:!0,date:1467440203};return new Promise(function(t,s){t(e)})}updateData(t){return console.log("Updating item... "+t),Promise.resolve({name:"Saved Samsung",price:12458,popular:!0,date:1467440203})}setLocalStorGalleryInitStatus(t){localStorage.isGalleryInited=t}changeLocalStorLoggedInStatus(t){localStorage.isUserLoggedIn=t}getLocalStorageGalleryStatus(){return localStorage.isGalleryInited}getIsUserLoggedIn(){return localStorage.isUserLoggedIn}checkUser(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/login",e).then(t=>t.json())}}}(),loginView=function(){"use strict";return class{constructor(){this.DOMElements={submitBtn:document.querySelector("#submitBtn"),exitBtn:document.querySelector("#exitBtn"),email:document.querySelector("#inputEmail"),password:document.querySelector("#inputPassword"),checkBoxRemememberMe:document.querySelector("#inputRemember"),loginBtn:document.querySelector("#loginBtn"),mainPageBtn:document.querySelector("#mainPageBtn"),profileBtn:document.querySelector("#profileBtn"),galleryBtn:document.querySelector("#galleryBtn"),contactsBtn:document.querySelector("#contactsBtn"),showUserDataBtn:document.querySelector("#showUserDataBtn"),showGalleryBtn:document.querySelector("#showGalleryBtn"),alertMsg:document.querySelector("#alert-message"),notFilledEmailMsg:document.querySelector("#notFilledEmailMsg"),notFilledPassMsg:document.querySelector("#notFilledPassMsg"),wrongEmailMsg:document.querySelector("#wrongEmailMsg"),wrongPassMsg:document.querySelector("#wrongPassMsg")}}getLogAndPass(){return{login:this.DOMElements.email.value,password:this.DOMElements.password.value}}showErrorMsg(t){switch(t){case"1":this.showHide({show:[this.DOMElements.alertMsg]});break;case"2":this.showHide({show:[this.DOMElements.notFilledEmailMsg]});break;case"3":this.showHide({show:[this.DOMElements.notFilledPassMsg]});break;case"4":this.showHide({show:[this.DOMElements.wrongEmailMsg]});break;case"5":this.showHide({show:[this.DOMElements.wrongPassMsg]})}}hideAlertMsgs(){this.showHide({hide:[this.DOMElements.alertMsg,this.DOMElements.notFilledEmailMsg,this.DOMElements.notFilledPassMsg,this.DOMElements.wrongEmailMsg,this.DOMElements.wrongPassMsg]})}showAlertMsg(){this.showHide({show:[this.DOMElements.alertMsg]})}showNotFilledEmailMsg(){this.showHide({show:[this.DOMElements.notFilledEmailMsg]})}showNotFilledPasswordMsg(){this.showHide({show:[this.DOMElements.notFilledPassMsg]})}showBadLoginMsg(){this.showHide({show:[this.DOMElements.wrongEmailMsg]})}showBadPasswordMsg(){this.showHide({show:[this.DOMElements.wrongPassMsg]})}showButtons(){this.showEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideButtons(){this.hideEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideEnterBtn(){this.hideEls([this.DOMElements.loginBtn])}showEnterBtn(){this.showEls([this.DOMElements.loginBtn])}showHide(t){for(var e in t)t[e=e].forEach(t=>{t.classList.remove("show","hide"),t.classList.add(e)})}showEls(t){t.forEach(t=>{t.classList.remove("hide")})}hideEls(t){t.forEach(t=>{t.classList.add("hide")})}}}(),mainController=function(){"use strict";return class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init(),this.usersAvatars={}}init(){console.log("main inited"),this.model.getProfileData().then(t=>{this.view.profileData=t[0]}),this.model.getData().then(t=>{this.view.init(t),console.log("main-posts: ",t)}),this.model.getAvatars().then(t=>{this.usersAvatars=t}),this.bindEvents()}bindEvents(){this.view.DOMElements.addPostBtn.addEventListener("click",this.addPost.bind(this))}addPost(){let t=this.view.DOMElements.authorNewPost.value,e=this.view.DOMElements.textNewPost.value,s={name:t,date:moment(),url:this.chooseAvatar(this.view.DOMElements.authorNewPost.value,this.usersAvatars),text:e,images:this.view.DOMElements.newImage.value.split(/\s+/)};console.log("postData",s),this.model.savePost(s)}chooseAvatar(t,e){console.log("userAvetars",e);for(let s in e)if(s==t)return e[s]}}}(),mainModel=function(){"use strict";return class{constructor(){this.getUrl="http://localhost:3000/posts",this.avatarsUrl="http://localhost:3000/avatars",this.profileUrl="http://localhost:3000/profile"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}getAvatars(){return fetch(this.avatarsUrl).then(t=>t.json())}getProfileData(){return fetch(this.profileUrl).then(t=>t.json())}savePost(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/posts",e).then(t=>t.json()).then(t=>(console.log("saved post",t),t))}}}(),mainView=function(){"use strict";return class{constructor(){this.DOMElements={resultBlock:document.querySelector("#result-main"),addNewPostInput:document.querySelector("#addNewPostInput"),addNewForm:document.querySelector("#form-add-new"),addPostBtn:document.querySelector("#addPostnBtn"),authorNewPost:document.querySelector("#new-post-author"),textNewPost:document.querySelector("#new-text"),newImage:document.querySelector("#new-image"),emptyspace:document.querySelector("body"),wentToLink:document.querySelector("#wentTo"),friendsWithLink:document.querySelector("#friendsWith"),workedAtLink:document.querySelector("#workedAt"),livesInLink:document.querySelector("#livesIn"),fromLink:document.querySelector("#from")},this.utils=utils,this.readyData=[],this.profileData={}}init(t){this.initListeners(),this.refreshPosts(t),this.fillAbout(this.profileData)}initListeners(){this.DOMElements.addNewPostInput.addEventListener("click",this.showFormForAdding.bind(this)),window.addEventListener("click",this.hideFormForAdding.bind(this))}showFormForAdding(t){"addNewPostInput"==t.target.id&&this.utils.showEl(this.DOMElements.addNewForm)}hideFormForAdding(t){"emptyspace"==t.target.id&&(this.clearFormForAdd(),this.utils.hideEl(this.DOMElements.addNewForm))}clearFormForAdd(){this.DOMElements.authorNewPost.value="",this.DOMElements.textNewPost.value="",this.DOMElements.newImage.value=""}refreshPosts(t){this.readyData=t,this.biuldView(this.readyData)}biuldView(t){this.DOMElements.resultBlock.innerHTML="";for(let e=t.length-1;e>0;e--)this.DOMElements.resultBlock.innerHTML+=this.createPost(t[e])}createPost(t){let e="";return t.images.forEach(t=>{e+=`<img style="display: inline-block;  margin: 10px; vertical-align: bottom;" data-width="640" data-height="640" data-action="zoom" src="${t}">\n\t\t\t\t`}),`<li class="rv b agz">\n\t\t\t<img class="bos vb yb aff"  src= ${t.url}>\n\t\t\t<div class="rw">\n\t\t\t\t<div class="bpd">\n\t\t\t\t\t<div class="bpb">\n\t\t\t\t\t\t<small class="acx axc">${t.date}</small>\n\t\t\t\t\t\t<h6>${t.name}</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class="text-left">${t.text}</p>\n\t\t\t\t\t<div class="boy" data-grid="images">${e}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>`}fillAbout(t){this.DOMElements.wentToLink.innerHTML=t.wentTo,this.DOMElements.friendsWithLink.innerHTML=t.friends,this.DOMElements.workedAtLink.innerHTML=t.workPlace,this.DOMElements.livesInLink.innerHTML=t.country,this.DOMElements.fromLink.innerHTML=t.state}}}(),profileController=function(){"use strict";return class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("profile inited"),this.model.getProfileData().then(t=>{this.view.init(t)})}}}(),profileModel=function(){"use strict";return class{constructor(){this.url="http://localhost:3000/profile"}getProfileData(){return fetch(this.url).then(t=>t.json()).then(t=>(console.log("ProfileData is loaded"),t))}}}(),profileView=function(){"use strict";return class{constructor(){this.DOMElements={firstName:document.querySelector("#firstName"),lastName:document.querySelector("#lastName"),userName:document.querySelector("#username"),email:document.querySelector("#emailProfile"),address:document.querySelector("#addressProfile"),address2:document.querySelector("#address2Profile"),country:document.querySelector("#countryProfile"),state:document.querySelector("#stateProfile"),zip:document.querySelector("#zip")},this.readyData}init(t){this.readyData=t[0],this.buildView(this.readyData)}buildView(t){console.log(this.DOMElements),console.log(t),this.DOMElements.firstName.value=t.name,this.DOMElements.lastName.value=t.lastName,this.DOMElements.userName.value=t.userName,this.DOMElements.email.value=t.email,this.DOMElements.address.value=t.adress,this.DOMElements.address2.value=t.adress2,this.DOMElements.country.value=t.country,this.DOMElements.state.value=t.state,this.DOMElements.zip.value=t.zip}}}(),contactsController=function(){"use strict";return class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("contacts inited"),this.view.init(),this.initListeners(),this.model.getData().then(t=>{this.view.buildWall(t)})}initListeners(){this.view.DOMElements.sendInfoBTN.addEventListener("click",this.sendInfo.bind(this))}sendInfo(){let t={name:this.view.DOMElements.name.value,email:this.view.DOMElements.email.value,phone:this.view.DOMElements.phone.value,msg:this.view.DOMElements.msg.value,date:moment()};console.log(t),this.model.saveMsg(t)}}}(),contactsModel=function(){"use strict";return class{constructor(){this.url="http://localhost:3000/wall"}getData(){return fetch(this.url).then(t=>t.json()).then(t=>t)}saveMsg(t){console.log(t);let e=this.url,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,s).then(t=>t.json())}}}(),contactsView=function(){"use strict";return class{constructor(){this.DOMElements={googleMap:document.querySelector("#googleMap"),name:document.querySelector("#contactsName"),email:document.querySelector("#contactsEmail"),phone:document.querySelector("#contactsTel"),msg:document.querySelector("#contactsMessage"),sendInfoBTN:document.querySelector("#sendInfoBTN"),wall:document.querySelector("#wall")}}init(){this.buildGoogleMap()}buildGoogleMap(){var t=this.DOMElements.googleMap,e={center:new google.maps.LatLng(43.6,-79.3),zoom:8};new google.maps.Map(t,e)}buildWall(t){let e=t;console.log(e);for(let t=e.length-1;t>=0;t--)this.DOMElements.wall.innerHTML+=this.createWallItem(e[t])}createWallItem(t){return`<div class="col-md-12" id = ${t.id}>\n\n\t\t\t\t\t\t\t\t<div class="wall-item">\n\t\t\t\t\t\t\t\t\t<div class ="col-md-4">\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>User</b>: ${t.name}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>Email</b>: ${t.email}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>Phone</b>: ${t.phone}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>Date</b>: ${t.date}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="text-left col-md-8"> <strong>${t.msg}</strong></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<hr class="mb-4">\n\t\t\t\t\t\t\t</div>`}}}();!function(){"use strict";class t{constructor(){this.sortingConfig={A:t=>(t.sort((t,e)=>t.email>e.email?1:-1),t),Z:t=>(t.sort((t,e)=>t.email<e.email?1:-1),t),Admin:t=>t.filter(t=>"Admin"==t.role),User:t=>t.filter(t=>"User"==t.role),Find:t=>{let e=new RegExp(event.target.value,"i");return t.filter(t=>e.test(t.name))}}}static initTemplate(t,e){var s=document.querySelector(`#${e}`).content.cloneNode(!0);t.innerHTML="",t.appendChild(s)}static showView(t){t.forEach(t=>{t.classList.remove("hide")})}static hideView(t){t.forEach(t=>{t.classList.add("hide")})}static navigateTo(t){window.location.hash="#"+t}static isLoggedIn(){return!0}static activateBtn(t){t.forEach(t=>{t.parentElement.classList.add("active")})}static disactivateBtn(t){t.forEach(t=>{t.parentElement.classList.remove("active")})}static showHide(t){for(var e in t){t[e=e].forEach(t=>{t.classList.remove("show","hide"),t.classList.add(e)})}}static showEl(t){t.classList.remove("hide")}static hideEl(t){t.classList.add("hide")}}document.querySelector("#login-view"),document.querySelector("#main-view"),document.querySelector("#profile-view"),document.querySelector("#gallery-view"),document.querySelector("#mainPageBtn"),document.querySelector("#profileBtn"),document.querySelector("#galleryBtn");const e=document.querySelector("#wrapper");let s={"":()=>{t.initTemplate(e,"login-view"),new class{constructor(t,e,s){this.loginModel=t,this.loginView=e,this.utils=s,this.init()}init(){this.fillStartPageUserData(),this.bindEvents()}fillStartPageUserData(){1==this.loginModel.getCheckboxStatus()?this.loginModel.getData().then(t=>{this.loginView.DOMElements.checkBoxRemememberMe.checked=!0,this.loginView.DOMElements.email.value=t.login,this.loginView.DOMElements.password.value=t.password}):(this.loginView.DOMElements.checkBoxRemememberMe.checked=!1,this.loginView.DOMElements.email.value="",this.loginView.DOMElements.password.value="")}bindEvents(){this.loginView.DOMElements.submitBtn.addEventListener("click",this.initValidation.bind(this)),this.loginView.DOMElements.exitBtn.addEventListener("click",this.initLogOut.bind(this))}initValidation(t){if(t.preventDefault(),"submitBtn"==t.target.id){this.loginView.hideAlertMsgs();let t=this.loginView.getLogAndPass(),e=this.loginModel.checkFields(t.login,t.password);1==e?this.loginModel.logAndPassValidation(t).then(t=>{t.status?(this.getAndSetCheckboxStatus(),this.utils.navigateTo("mainPage"),this.loginView.showButtons(),this.loginView.hideEnterBtn()):this.loginView.showErrorMsg("1")}):this.loginView.showErrorMsg(e)}}initLogOut(){this.loginModel.logOut(),this.loginView.hideButtons(),this.loginView.showEnterBtn(),this.utils.navigateTo(""),this.getAndSetCheckboxStatus()}getAndSetCheckboxStatus(){1==this.loginView.DOMElements.checkBoxRemememberMe.checked?this.loginModel.setCheckboxStatus("true"):this.loginModel.setCheckboxStatus("false")}}(new class{constructor(){this.urlAdminUser="http://localhost:3000/adminUser",this.urlLogin="http://localhost:3000/login"}getData(){return fetch(this.urlAdminUser).then(t=>t.json()).then(t=>(console.log("Initial data is loaded"),console.log(t),t))}getCheckboxStatus(){return"true"==localStorage.getItem("remember")}setCheckboxStatus(t){localStorage.setItem("remember",t)}checkSession(){return!!localStorage.getItem("credentials")}setUserInfo(t){localStorage.setItem("credentials",JSON.stringify(t))}logOut(){localStorage.removeItem("credentials")}logAndPassValidation(t){let e=this.urlLogin,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,s).then(t=>t.json()).then(e=>(e.status&&this.setUserInfo(t),e))}checkFields(t,e){return t?e?this.checkEmail(t)?!!this.checkPassword(e)||"5":"4":"3":"2"}checkEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}checkPassword(t){return t.length>=8}saveData(t){console.log("Saving item... "+t.name);let e={name:"Saved iPhone",price:12458,popular:!0,date:1467440203};return new Promise(function(t,s){t(e)})}updateData(t){return console.log("Updating item... "+t),Promise.resolve({name:"Saved Samsung",price:12458,popular:!0,date:1467440203})}setLocalStorGalleryInitStatus(t){localStorage.isGalleryInited=t}changeLocalStorLoggedInStatus(t){localStorage.isUserLoggedIn=t}getLocalStorageGalleryStatus(){return localStorage.isGalleryInited}getIsUserLoggedIn(){return localStorage.isUserLoggedIn}checkUser(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/login",e).then(t=>t.json())}},new class{constructor(){this.DOMElements={submitBtn:document.querySelector("#submitBtn"),exitBtn:document.querySelector("#exitBtn"),email:document.querySelector("#inputEmail"),password:document.querySelector("#inputPassword"),checkBoxRemememberMe:document.querySelector("#inputRemember"),loginBtn:document.querySelector("#loginBtn"),mainPageBtn:document.querySelector("#mainPageBtn"),profileBtn:document.querySelector("#profileBtn"),galleryBtn:document.querySelector("#galleryBtn"),contactsBtn:document.querySelector("#contactsBtn"),showUserDataBtn:document.querySelector("#showUserDataBtn"),showGalleryBtn:document.querySelector("#showGalleryBtn"),alertMsg:document.querySelector("#alert-message"),notFilledEmailMsg:document.querySelector("#notFilledEmailMsg"),notFilledPassMsg:document.querySelector("#notFilledPassMsg"),wrongEmailMsg:document.querySelector("#wrongEmailMsg"),wrongPassMsg:document.querySelector("#wrongPassMsg")}}getLogAndPass(){return{login:this.DOMElements.email.value,password:this.DOMElements.password.value}}showErrorMsg(t){switch(t){case"1":this.showHide({show:[this.DOMElements.alertMsg]});break;case"2":this.showHide({show:[this.DOMElements.notFilledEmailMsg]});break;case"3":this.showHide({show:[this.DOMElements.notFilledPassMsg]});break;case"4":this.showHide({show:[this.DOMElements.wrongEmailMsg]});break;case"5":this.showHide({show:[this.DOMElements.wrongPassMsg]})}}hideAlertMsgs(){this.showHide({hide:[this.DOMElements.alertMsg,this.DOMElements.notFilledEmailMsg,this.DOMElements.notFilledPassMsg,this.DOMElements.wrongEmailMsg,this.DOMElements.wrongPassMsg]})}showAlertMsg(){this.showHide({show:[this.DOMElements.alertMsg]})}showNotFilledEmailMsg(){this.showHide({show:[this.DOMElements.notFilledEmailMsg]})}showNotFilledPasswordMsg(){this.showHide({show:[this.DOMElements.notFilledPassMsg]})}showBadLoginMsg(){this.showHide({show:[this.DOMElements.wrongEmailMsg]})}showBadPasswordMsg(){this.showHide({show:[this.DOMElements.wrongPassMsg]})}showButtons(){this.showEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideButtons(){this.hideEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideEnterBtn(){this.hideEls([this.DOMElements.loginBtn])}showEnterBtn(){this.showEls([this.DOMElements.loginBtn])}showHide(t){for(var e in t)t[e=e].forEach(t=>{t.classList.remove("show","hide"),t.classList.add(e)})}showEls(t){t.forEach(t=>{t.classList.remove("hide")})}hideEls(t){t.forEach(t=>{t.classList.add("hide")})}},t)},mainPage:()=>{t.initTemplate(e,"mainPage-view"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init(),this.usersAvatars={}}init(){console.log("main inited"),this.model.getProfileData().then(t=>{this.view.profileData=t[0]}),this.model.getData().then(t=>{this.view.init(t),console.log("main-posts: ",t)}),this.model.getAvatars().then(t=>{this.usersAvatars=t}),this.bindEvents()}bindEvents(){this.view.DOMElements.addPostBtn.addEventListener("click",this.addPost.bind(this))}addPost(){let t=this.view.DOMElements.authorNewPost.value,e=this.view.DOMElements.textNewPost.value,s={name:t,date:moment(),url:this.chooseAvatar(this.view.DOMElements.authorNewPost.value,this.usersAvatars),text:e,images:this.view.DOMElements.newImage.value.split(/\s+/)};console.log("postData",s),this.model.savePost(s)}chooseAvatar(t,e){console.log("userAvetars",e);for(let s in e)if(s==t)return e[s]}}(new class{constructor(){this.getUrl="http://localhost:3000/posts",this.avatarsUrl="http://localhost:3000/avatars",this.profileUrl="http://localhost:3000/profile"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}getAvatars(){return fetch(this.avatarsUrl).then(t=>t.json())}getProfileData(){return fetch(this.profileUrl).then(t=>t.json())}savePost(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/posts",e).then(t=>t.json()).then(t=>(console.log("saved post",t),t))}},new class{constructor(){this.DOMElements={resultBlock:document.querySelector("#result-main"),addNewPostInput:document.querySelector("#addNewPostInput"),addNewForm:document.querySelector("#form-add-new"),addPostBtn:document.querySelector("#addPostnBtn"),authorNewPost:document.querySelector("#new-post-author"),textNewPost:document.querySelector("#new-text"),newImage:document.querySelector("#new-image"),emptyspace:document.querySelector("body"),wentToLink:document.querySelector("#wentTo"),friendsWithLink:document.querySelector("#friendsWith"),workedAtLink:document.querySelector("#workedAt"),livesInLink:document.querySelector("#livesIn"),fromLink:document.querySelector("#from")},this.utils=utils,this.readyData=[],this.profileData={}}init(t){this.initListeners(),this.refreshPosts(t),this.fillAbout(this.profileData)}initListeners(){this.DOMElements.addNewPostInput.addEventListener("click",this.showFormForAdding.bind(this)),window.addEventListener("click",this.hideFormForAdding.bind(this))}showFormForAdding(t){"addNewPostInput"==t.target.id&&this.utils.showEl(this.DOMElements.addNewForm)}hideFormForAdding(t){"emptyspace"==t.target.id&&(this.clearFormForAdd(),this.utils.hideEl(this.DOMElements.addNewForm))}clearFormForAdd(){this.DOMElements.authorNewPost.value="",this.DOMElements.textNewPost.value="",this.DOMElements.newImage.value=""}refreshPosts(t){this.readyData=t,this.biuldView(this.readyData)}biuldView(t){this.DOMElements.resultBlock.innerHTML="";for(let e=t.length-1;e>0;e--)this.DOMElements.resultBlock.innerHTML+=this.createPost(t[e])}createPost(t){let e="";return t.images.forEach(t=>{e+=`<img style="display: inline-block;  margin: 10px; vertical-align: bottom;" data-width="640" data-height="640" data-action="zoom" src="${t}">\n\t\t\t\t`}),`<li class="rv b agz">\n\t\t\t<img class="bos vb yb aff"  src= ${t.url}>\n\t\t\t<div class="rw">\n\t\t\t\t<div class="bpd">\n\t\t\t\t\t<div class="bpb">\n\t\t\t\t\t\t<small class="acx axc">${t.date}</small>\n\t\t\t\t\t\t<h6>${t.name}</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class="text-left">${t.text}</p>\n\t\t\t\t\t<div class="boy" data-grid="images">${e}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>`}fillAbout(t){this.DOMElements.wentToLink.innerHTML=t.wentTo,this.DOMElements.friendsWithLink.innerHTML=t.friends,this.DOMElements.workedAtLink.innerHTML=t.workPlace,this.DOMElements.livesInLink.innerHTML=t.country,this.DOMElements.fromLink.innerHTML=t.state}}(t),t)},profile:()=>{t.initTemplate(e,"profile-view"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("profile inited"),this.model.getProfileData().then(t=>{this.view.init(t)})}}(new class{constructor(){this.url="http://localhost:3000/profile"}getProfileData(){return fetch(this.url).then(t=>t.json()).then(t=>(console.log("ProfileData is loaded"),t))}},new class{constructor(){this.DOMElements={firstName:document.querySelector("#firstName"),lastName:document.querySelector("#lastName"),userName:document.querySelector("#username"),email:document.querySelector("#emailProfile"),address:document.querySelector("#addressProfile"),address2:document.querySelector("#address2Profile"),country:document.querySelector("#countryProfile"),state:document.querySelector("#stateProfile"),zip:document.querySelector("#zip")},this.readyData}init(t){this.readyData=t[0],this.buildView(this.readyData)}buildView(t){console.log(this.DOMElements),console.log(t),this.DOMElements.firstName.value=t.name,this.DOMElements.lastName.value=t.lastName,this.DOMElements.userName.value=t.userName,this.DOMElements.email.value=t.email,this.DOMElements.address.value=t.adress,this.DOMElements.address2.value=t.adress2,this.DOMElements.country.value=t.country,this.DOMElements.state.value=t.state,this.DOMElements.zip.value=t.zip}},new t)},gallery:()=>{t.initTemplate(e,"gallery-view");let s=new class{constructor(){this.events={}}subscribeEvent(t,e){this.events[t]=e}callEvent(t,e){this.events[t]&&this.events[t](e)}};new class{constructor(t,e,s,i){this.model=t,this.view=e,this.observer=s,this.utils=i,this.init()}init(){console.log("gallery inited"),this.model.getData().then(t=>{this.view.init(t),console.log("gallery-data: ",t)}),this.initListeners()}initListeners(){this.view.DOMElements.addImgBtn.addEventListener("click",this.addImage.bind(this)),this.view.DOMElements.editBtn.addEventListener("click",this.editCard.bind(this)),this.view.DOMElements.resultBlock.addEventListener("click",this.showFormForEditing.bind(this)),this.view.DOMElements.resultBlock.addEventListener("click",this.deleteImage.bind(this))}addImage(t){if("add-img"==t.target.id){let t=this.view.createItemForAdd();this.model.saveData(t).then(t=>this.view.refreshGallery(t)),this.view.hideFormForAdding()}}showFormForEditing(t){if(t.target.classList.contains("edit")){scroll(0,0),this.view.toggleAddEditBtn();let e=t.target.closest(".gallery-card").id;this.model.getItem(e).then(t=>{this.view.fillFormForEdit(t),this.objectFromresponse=t}).catch(function(t){console.log(t)})}}editCard(t){if("edit-img"==t.target.id){let t=this.view.createItemForAdd(),e=this.objectFromresponse.id;this.model.editGallery(e,t).then(t=>this.view.refreshGallery(t)),this.view.hideFormForAdding()}}deleteImage(t){if(t.target.classList.contains("remove")){let e=t.target.closest(".gallery-card").id;this.model.removeItem(e).then(t=>this.view.refreshGallery(t))}}}(new class{constructor(){this.getUrl="http://localhost:3000/gallery"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}getItem(t){let e=`http://localhost:3000/gallery/${t}`;return fetch(e).then(t=>t.json())}saveData(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/gallery",e).then(t=>t.json())}editGallery(t,e){let s=`http://localhost:3000/gallery/${t}`,i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(s,i).then(t=>t.json())}removeItem(t){let e=`http://localhost:3000/gallery/${t}`;return fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>t.json())}},new class{constructor(t){this.DOMElements={resultBlock:document.querySelector("#result"),formForAdding:document.querySelector("#form-add-new"),addNewImgBtn:document.querySelector("#add-new-img"),addImgBtn:document.querySelector("#add-img"),editBtn:document.querySelector("#edit-img"),newName:document.querySelector("#new-name"),newUrl:document.querySelector("#new-url"),newDescription:document.querySelector("#new-descr")},this.utils=t,this.readyDataForGallery=[],this.visibleData=[]}init(t){this.initListeners(),this.refreshGallery(t)}initListeners(){this.DOMElements.addNewImgBtn.addEventListener("click",this.showFormForAdding.bind(this))}showFormForAdding(t){"add-new-img"==t.target.id&&(this.clearFormForAdd(),this.utils.showEl(this.DOMElements.formForAdding),this.utils.hideEl(this.DOMElements.editBtn))}clearFormForAdd(){this.DOMElements.newName.value="",this.DOMElements.newUrl.value="",this.DOMElements.newDescription.value=""}fillFormForEdit(t){let e=t;this.DOMElements.newName.value=e.name,this.DOMElements.newUrl.value=e.url,this.DOMElements.newDescription.value=e.description}hideFormForAdding(){this.utils.hideEl(this.DOMElements.formForAdding)}toggleAddEditBtn(){this.utils.showEl(this.DOMElements.formForAdding),this.utils.hideEl(this.DOMElements.addImgBtn)}refreshGallery(t){this.prepareData(t),this.biuldGallery(this.visibleData)}prepareData(t){this.visibleData=[],this.readyDataForGallery=[],t.forEach(t=>{if(!t.name)return!1;this.readyDataForGallery.push(t)}),this.readyDataForGallery.map((t,e)=>({url:this.urlFomat(t.url),name:this.nameFormat(t.name),description:t.description,itemID:t.id})),this.visibleData.push.apply(this.visibleData,this.readyDataForGallery)}biuldGallery(t){this.DOMElements.resultBlock.innerHTML="";for(let e=0;e<t.length;e++)this.DOMElements.resultBlock.innerHTML+=this.createGalleryItem(t[e])}createGalleryItem(t){return`<div class="col-md-4 gallery-card" id = ${t.id}>\n\t\t\t\t\t<div class="card mb-4 box-shadow gallery-item" >\n\t\t\t\t\t\t\t<img src="${t.url}" alt="${t.name}" class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">\n\t\t\t\t\t\t\t<div class="card-body">\n\t\t\t\t\t\t\t\t\t<div class="card-text mb-4">${t.name}</div>\n\t\t\t\t\t\t\t\t\t<div class="card-text mb-4">${this.descrFormat(t.description)}</div>\n\t\t\t\t\t\t\t\t\t<div name = "edit-img" class="btn btn-warning edit"  title = "Редактировать данное изображение">Редактировать</div>\n\t\t\t\t\t\t\t\t\t<div  name = "delete-img" class = "btn btn-danger remove"  title = "Удалить данное изображение"> Удалить </div>\n\t\t\t\t\t\t\t\t\t<div class="btn-group">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}createItemForAdd(){return{url:this.urlFomat(this.DOMElements.newUrl.value),name:this.nameFormat(this.DOMElements.newName.value),description:this.DOMElements.newDescription.value}}nameFormat(t){return t?t[0].toUpperCase()+t.substring(1).toLowerCase():"Lohn Doh"}urlFomat(t){return-1===t.indexOf("https://")?`https://${t}`:t}descrFormat(t){return t||""}}(t),s,new t)},contacts:()=>{t.initTemplate(e,"contact-view"),console.log("Contacts route is loaded"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("contacts inited"),this.view.init(),this.initListeners(),this.model.getData().then(t=>{this.view.buildWall(t)})}initListeners(){this.view.DOMElements.sendInfoBTN.addEventListener("click",this.sendInfo.bind(this))}sendInfo(){let t={name:this.view.DOMElements.name.value,email:this.view.DOMElements.email.value,phone:this.view.DOMElements.phone.value,msg:this.view.DOMElements.msg.value,date:moment()};console.log(t),this.model.saveMsg(t)}}(new class{constructor(){this.url="http://localhost:3000/wall"}getData(){return fetch(this.url).then(t=>t.json()).then(t=>t)}saveMsg(t){console.log(t);let e=this.url,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,s).then(t=>t.json())}},new class{constructor(){this.DOMElements={googleMap:document.querySelector("#googleMap"),name:document.querySelector("#contactsName"),email:document.querySelector("#contactsEmail"),phone:document.querySelector("#contactsTel"),msg:document.querySelector("#contactsMessage"),sendInfoBTN:document.querySelector("#sendInfoBTN"),wall:document.querySelector("#wall")}}init(){this.buildGoogleMap()}buildGoogleMap(){var t=this.DOMElements.googleMap,e={center:new google.maps.LatLng(43.6,-79.3),zoom:8};new google.maps.Map(t,e)}buildWall(t){let e=t;console.log(e);for(let t=e.length-1;t>=0;t--)this.DOMElements.wall.innerHTML+=this.createWallItem(e[t])}createWallItem(t){return`<div class="col-md-12" id = ${t.id}>\n\n\t\t\t\t\t\t\t\t<div class="wall-item">\n\t\t\t\t\t\t\t\t\t<div class ="col-md-4">\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>User</b>: ${t.name}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>Email</b>: ${t.email}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>Phone</b>: ${t.phone}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>Date</b>: ${t.date}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="text-left col-md-8"> <strong>${t.msg}</strong></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<hr class="mb-4">\n\t\t\t\t\t\t\t</div>`}},new t)}};function i(){let e=document.location.hash.replace(/^#/,"");e&&!t.isLoggedIn()?t.navigateTo(""):function(t){let e=s[t];e&&e()}(e)}window.addEventListener("load",i),window.addEventListener("hashchange",i)}();var router=function(t){"use strict";class e{constructor(){this.sortingConfig={A:t=>(t.sort((t,e)=>t.email>e.email?1:-1),t),Z:t=>(t.sort((t,e)=>t.email<e.email?1:-1),t),Admin:t=>t.filter(t=>"Admin"==t.role),User:t=>t.filter(t=>"User"==t.role),Find:t=>{let e=new RegExp(event.target.value,"i");return t.filter(t=>e.test(t.name))}}}static initTemplate(t,e){var s=document.querySelector(`#${e}`).content.cloneNode(!0);t.innerHTML="",t.appendChild(s)}static showView(t){t.forEach(t=>{t.classList.remove("hide")})}static hideView(t){t.forEach(t=>{t.classList.add("hide")})}static navigateTo(t){window.location.hash="#"+t}static isLoggedIn(){return!0}static activateBtn(t){t.forEach(t=>{t.parentElement.classList.add("active")})}static disactivateBtn(t){t.forEach(t=>{t.parentElement.classList.remove("active")})}static showHide(t){for(var e in t){t[e=e].forEach(t=>{t.classList.remove("show","hide"),t.classList.add(e)})}}static showEl(t){t.classList.remove("hide")}static hideEl(t){t.classList.add("hide")}}document.querySelector("#login-view"),document.querySelector("#main-view"),document.querySelector("#profile-view"),document.querySelector("#gallery-view"),document.querySelector("#mainPageBtn"),document.querySelector("#profileBtn"),document.querySelector("#galleryBtn");const s=document.querySelector("#wrapper");let i={"":()=>{e.initTemplate(s,"login-view"),new class{constructor(t,e,s){this.loginModel=t,this.loginView=e,this.utils=s,this.init()}init(){this.fillStartPageUserData(),this.bindEvents()}fillStartPageUserData(){1==this.loginModel.getCheckboxStatus()?this.loginModel.getData().then(t=>{this.loginView.DOMElements.checkBoxRemememberMe.checked=!0,this.loginView.DOMElements.email.value=t.login,this.loginView.DOMElements.password.value=t.password}):(this.loginView.DOMElements.checkBoxRemememberMe.checked=!1,this.loginView.DOMElements.email.value="",this.loginView.DOMElements.password.value="")}bindEvents(){this.loginView.DOMElements.submitBtn.addEventListener("click",this.initValidation.bind(this)),this.loginView.DOMElements.exitBtn.addEventListener("click",this.initLogOut.bind(this))}initValidation(t){if(t.preventDefault(),"submitBtn"==t.target.id){this.loginView.hideAlertMsgs();let t=this.loginView.getLogAndPass(),e=this.loginModel.checkFields(t.login,t.password);1==e?this.loginModel.logAndPassValidation(t).then(t=>{t.status?(this.getAndSetCheckboxStatus(),this.utils.navigateTo("mainPage"),this.loginView.showButtons(),this.loginView.hideEnterBtn()):this.loginView.showErrorMsg("1")}):this.loginView.showErrorMsg(e)}}initLogOut(){this.loginModel.logOut(),this.loginView.hideButtons(),this.loginView.showEnterBtn(),this.utils.navigateTo(""),this.getAndSetCheckboxStatus()}getAndSetCheckboxStatus(){1==this.loginView.DOMElements.checkBoxRemememberMe.checked?this.loginModel.setCheckboxStatus("true"):this.loginModel.setCheckboxStatus("false")}}(new class{constructor(){this.urlAdminUser="http://localhost:3000/adminUser",this.urlLogin="http://localhost:3000/login"}getData(){return fetch(this.urlAdminUser).then(t=>t.json()).then(t=>(console.log("Initial data is loaded"),console.log(t),t))}getCheckboxStatus(){return"true"==localStorage.getItem("remember")}setCheckboxStatus(t){localStorage.setItem("remember",t)}checkSession(){return!!localStorage.getItem("credentials")}setUserInfo(t){localStorage.setItem("credentials",JSON.stringify(t))}logOut(){localStorage.removeItem("credentials")}logAndPassValidation(t){let e=this.urlLogin,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,s).then(t=>t.json()).then(e=>(e.status&&this.setUserInfo(t),e))}checkFields(t,e){return t?e?this.checkEmail(t)?!!this.checkPassword(e)||"5":"4":"3":"2"}checkEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}checkPassword(t){return t.length>=8}saveData(t){console.log("Saving item... "+t.name);let e={name:"Saved iPhone",price:12458,popular:!0,date:1467440203};return new Promise(function(t,s){t(e)})}updateData(t){return console.log("Updating item... "+t),Promise.resolve({name:"Saved Samsung",price:12458,popular:!0,date:1467440203})}setLocalStorGalleryInitStatus(t){localStorage.isGalleryInited=t}changeLocalStorLoggedInStatus(t){localStorage.isUserLoggedIn=t}getLocalStorageGalleryStatus(){return localStorage.isGalleryInited}getIsUserLoggedIn(){return localStorage.isUserLoggedIn}checkUser(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/login",e).then(t=>t.json())}},new class{constructor(){this.DOMElements={submitBtn:document.querySelector("#submitBtn"),exitBtn:document.querySelector("#exitBtn"),email:document.querySelector("#inputEmail"),password:document.querySelector("#inputPassword"),checkBoxRemememberMe:document.querySelector("#inputRemember"),loginBtn:document.querySelector("#loginBtn"),mainPageBtn:document.querySelector("#mainPageBtn"),profileBtn:document.querySelector("#profileBtn"),galleryBtn:document.querySelector("#galleryBtn"),contactsBtn:document.querySelector("#contactsBtn"),showUserDataBtn:document.querySelector("#showUserDataBtn"),showGalleryBtn:document.querySelector("#showGalleryBtn"),alertMsg:document.querySelector("#alert-message"),notFilledEmailMsg:document.querySelector("#notFilledEmailMsg"),notFilledPassMsg:document.querySelector("#notFilledPassMsg"),wrongEmailMsg:document.querySelector("#wrongEmailMsg"),wrongPassMsg:document.querySelector("#wrongPassMsg")}}getLogAndPass(){return{login:this.DOMElements.email.value,password:this.DOMElements.password.value}}showErrorMsg(t){switch(t){case"1":this.showHide({show:[this.DOMElements.alertMsg]});break;case"2":this.showHide({show:[this.DOMElements.notFilledEmailMsg]});break;case"3":this.showHide({show:[this.DOMElements.notFilledPassMsg]});break;case"4":this.showHide({show:[this.DOMElements.wrongEmailMsg]});break;case"5":this.showHide({show:[this.DOMElements.wrongPassMsg]})}}hideAlertMsgs(){this.showHide({hide:[this.DOMElements.alertMsg,this.DOMElements.notFilledEmailMsg,this.DOMElements.notFilledPassMsg,this.DOMElements.wrongEmailMsg,this.DOMElements.wrongPassMsg]})}showAlertMsg(){this.showHide({show:[this.DOMElements.alertMsg]})}showNotFilledEmailMsg(){this.showHide({show:[this.DOMElements.notFilledEmailMsg]})}showNotFilledPasswordMsg(){this.showHide({show:[this.DOMElements.notFilledPassMsg]})}showBadLoginMsg(){this.showHide({show:[this.DOMElements.wrongEmailMsg]})}showBadPasswordMsg(){this.showHide({show:[this.DOMElements.wrongPassMsg]})}showButtons(){this.showEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideButtons(){this.hideEls([this.DOMElements.mainPageBtn,this.DOMElements.profileBtn,this.DOMElements.galleryBtn,this.DOMElements.contactsBtn,this.DOMElements.exitBtn])}hideEnterBtn(){this.hideEls([this.DOMElements.loginBtn])}showEnterBtn(){this.showEls([this.DOMElements.loginBtn])}showHide(t){for(var e in t)t[e=e].forEach(t=>{t.classList.remove("show","hide"),t.classList.add(e)})}showEls(t){t.forEach(t=>{t.classList.remove("hide")})}hideEls(t){t.forEach(t=>{t.classList.add("hide")})}},e)},mainPage:()=>{e.initTemplate(s,"mainPage-view"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init(),this.usersAvatars={}}init(){console.log("main inited"),this.model.getProfileData().then(t=>{this.view.profileData=t[0]}),this.model.getData().then(t=>{this.view.init(t),console.log("main-posts: ",t)}),this.model.getAvatars().then(t=>{this.usersAvatars=t}),this.bindEvents()}bindEvents(){this.view.DOMElements.addPostBtn.addEventListener("click",this.addPost.bind(this))}addPost(){let t=this.view.DOMElements.authorNewPost.value,e=this.view.DOMElements.textNewPost.value,s={name:t,date:moment(),url:this.chooseAvatar(this.view.DOMElements.authorNewPost.value,this.usersAvatars),text:e,images:this.view.DOMElements.newImage.value.split(/\s+/)};console.log("postData",s),this.model.savePost(s)}chooseAvatar(t,e){console.log("userAvetars",e);for(let s in e)if(s==t)return e[s]}}(new class{constructor(){this.getUrl="http://localhost:3000/posts",this.avatarsUrl="http://localhost:3000/avatars",this.profileUrl="http://localhost:3000/profile"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}getAvatars(){return fetch(this.avatarsUrl).then(t=>t.json())}getProfileData(){return fetch(this.profileUrl).then(t=>t.json())}savePost(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/posts",e).then(t=>t.json()).then(t=>(console.log("saved post",t),t))}},new class{constructor(){this.DOMElements={resultBlock:document.querySelector("#result-main"),addNewPostInput:document.querySelector("#addNewPostInput"),addNewForm:document.querySelector("#form-add-new"),addPostBtn:document.querySelector("#addPostnBtn"),authorNewPost:document.querySelector("#new-post-author"),textNewPost:document.querySelector("#new-text"),newImage:document.querySelector("#new-image"),emptyspace:document.querySelector("body"),wentToLink:document.querySelector("#wentTo"),friendsWithLink:document.querySelector("#friendsWith"),workedAtLink:document.querySelector("#workedAt"),livesInLink:document.querySelector("#livesIn"),fromLink:document.querySelector("#from")},this.utils=utils,this.readyData=[],this.profileData={}}init(t){this.initListeners(),this.refreshPosts(t),this.fillAbout(this.profileData)}initListeners(){this.DOMElements.addNewPostInput.addEventListener("click",this.showFormForAdding.bind(this)),window.addEventListener("click",this.hideFormForAdding.bind(this))}showFormForAdding(t){"addNewPostInput"==t.target.id&&this.utils.showEl(this.DOMElements.addNewForm)}hideFormForAdding(t){"emptyspace"==t.target.id&&(this.clearFormForAdd(),this.utils.hideEl(this.DOMElements.addNewForm))}clearFormForAdd(){this.DOMElements.authorNewPost.value="",this.DOMElements.textNewPost.value="",this.DOMElements.newImage.value=""}refreshPosts(t){this.readyData=t,this.biuldView(this.readyData)}biuldView(t){this.DOMElements.resultBlock.innerHTML="";for(let e=t.length-1;e>0;e--)this.DOMElements.resultBlock.innerHTML+=this.createPost(t[e])}createPost(t){let e="";return t.images.forEach(t=>{e+=`<img style="display: inline-block;  margin: 10px; vertical-align: bottom;" data-width="640" data-height="640" data-action="zoom" src="${t}">\n\t\t\t\t`}),`<li class="rv b agz">\n\t\t\t<img class="bos vb yb aff"  src= ${t.url}>\n\t\t\t<div class="rw">\n\t\t\t\t<div class="bpd">\n\t\t\t\t\t<div class="bpb">\n\t\t\t\t\t\t<small class="acx axc">${t.date}</small>\n\t\t\t\t\t\t<h6>${t.name}</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p class="text-left">${t.text}</p>\n\t\t\t\t\t<div class="boy" data-grid="images">${e}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>`}fillAbout(t){this.DOMElements.wentToLink.innerHTML=t.wentTo,this.DOMElements.friendsWithLink.innerHTML=t.friends,this.DOMElements.workedAtLink.innerHTML=t.workPlace,this.DOMElements.livesInLink.innerHTML=t.country,this.DOMElements.fromLink.innerHTML=t.state}}(e),e)},profile:()=>{e.initTemplate(s,"profile-view"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("profile inited"),this.model.getProfileData().then(t=>{this.view.init(t)})}}(new class{constructor(){this.url="http://localhost:3000/profile"}getProfileData(){return fetch(this.url).then(t=>t.json()).then(t=>(console.log("ProfileData is loaded"),t))}},new class{constructor(){this.DOMElements={firstName:document.querySelector("#firstName"),lastName:document.querySelector("#lastName"),userName:document.querySelector("#username"),email:document.querySelector("#emailProfile"),address:document.querySelector("#addressProfile"),address2:document.querySelector("#address2Profile"),country:document.querySelector("#countryProfile"),state:document.querySelector("#stateProfile"),zip:document.querySelector("#zip")},this.readyData}init(t){this.readyData=t[0],this.buildView(this.readyData)}buildView(t){console.log(this.DOMElements),console.log(t),this.DOMElements.firstName.value=t.name,this.DOMElements.lastName.value=t.lastName,this.DOMElements.userName.value=t.userName,this.DOMElements.email.value=t.email,this.DOMElements.address.value=t.adress,this.DOMElements.address2.value=t.adress2,this.DOMElements.country.value=t.country,this.DOMElements.state.value=t.state,this.DOMElements.zip.value=t.zip}},new e)},gallery:()=>{e.initTemplate(s,"gallery-view");let t=new class{constructor(){this.events={}}subscribeEvent(t,e){this.events[t]=e}callEvent(t,e){this.events[t]&&this.events[t](e)}};new class{constructor(t,e,s,i){this.model=t,this.view=e,this.observer=s,this.utils=i,this.init()}init(){console.log("gallery inited"),this.model.getData().then(t=>{this.view.init(t),console.log("gallery-data: ",t)}),this.initListeners()}initListeners(){this.view.DOMElements.addImgBtn.addEventListener("click",this.addImage.bind(this)),this.view.DOMElements.editBtn.addEventListener("click",this.editCard.bind(this)),this.view.DOMElements.resultBlock.addEventListener("click",this.showFormForEditing.bind(this)),this.view.DOMElements.resultBlock.addEventListener("click",this.deleteImage.bind(this))}addImage(t){if("add-img"==t.target.id){let t=this.view.createItemForAdd();this.model.saveData(t).then(t=>this.view.refreshGallery(t)),this.view.hideFormForAdding()}}showFormForEditing(t){if(t.target.classList.contains("edit")){scroll(0,0),this.view.toggleAddEditBtn();let e=t.target.closest(".gallery-card").id;this.model.getItem(e).then(t=>{this.view.fillFormForEdit(t),this.objectFromresponse=t}).catch(function(t){console.log(t)})}}editCard(t){if("edit-img"==t.target.id){let t=this.view.createItemForAdd(),e=this.objectFromresponse.id;this.model.editGallery(e,t).then(t=>this.view.refreshGallery(t)),this.view.hideFormForAdding()}}deleteImage(t){if(t.target.classList.contains("remove")){let e=t.target.closest(".gallery-card").id;this.model.removeItem(e).then(t=>this.view.refreshGallery(t))}}}(new class{constructor(){this.getUrl="http://localhost:3000/gallery"}getData(){return fetch(this.getUrl).then(t=>t.json()).then(t=>(console.log("Gallery is loaded"),this.usersListData=t,t))}getItem(t){let e=`http://localhost:3000/gallery/${t}`;return fetch(e).then(t=>t.json())}saveData(t){let e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch("http://localhost:3000/gallery",e).then(t=>t.json())}editGallery(t,e){let s=`http://localhost:3000/gallery/${t}`,i={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};return fetch(s,i).then(t=>t.json())}removeItem(t){let e=`http://localhost:3000/gallery/${t}`;return fetch(e,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(t=>t.json())}},new class{constructor(t){this.DOMElements={resultBlock:document.querySelector("#result"),formForAdding:document.querySelector("#form-add-new"),addNewImgBtn:document.querySelector("#add-new-img"),addImgBtn:document.querySelector("#add-img"),editBtn:document.querySelector("#edit-img"),newName:document.querySelector("#new-name"),newUrl:document.querySelector("#new-url"),newDescription:document.querySelector("#new-descr")},this.utils=t,this.readyDataForGallery=[],this.visibleData=[]}init(t){this.initListeners(),this.refreshGallery(t)}initListeners(){this.DOMElements.addNewImgBtn.addEventListener("click",this.showFormForAdding.bind(this))}showFormForAdding(t){"add-new-img"==t.target.id&&(this.clearFormForAdd(),this.utils.showEl(this.DOMElements.formForAdding),this.utils.hideEl(this.DOMElements.editBtn))}clearFormForAdd(){this.DOMElements.newName.value="",this.DOMElements.newUrl.value="",this.DOMElements.newDescription.value=""}fillFormForEdit(t){let e=t;this.DOMElements.newName.value=e.name,this.DOMElements.newUrl.value=e.url,this.DOMElements.newDescription.value=e.description}hideFormForAdding(){this.utils.hideEl(this.DOMElements.formForAdding)}toggleAddEditBtn(){this.utils.showEl(this.DOMElements.formForAdding),this.utils.hideEl(this.DOMElements.addImgBtn)}refreshGallery(t){this.prepareData(t),this.biuldGallery(this.visibleData)}prepareData(t){this.visibleData=[],this.readyDataForGallery=[],t.forEach(t=>{if(!t.name)return!1;this.readyDataForGallery.push(t)}),this.readyDataForGallery.map((t,e)=>({url:this.urlFomat(t.url),name:this.nameFormat(t.name),description:t.description,itemID:t.id})),this.visibleData.push.apply(this.visibleData,this.readyDataForGallery)}biuldGallery(t){this.DOMElements.resultBlock.innerHTML="";for(let e=0;e<t.length;e++)this.DOMElements.resultBlock.innerHTML+=this.createGalleryItem(t[e])}createGalleryItem(t){return`<div class="col-md-4 gallery-card" id = ${t.id}>\n\t\t\t\t\t<div class="card mb-4 box-shadow gallery-item" >\n\t\t\t\t\t\t\t<img src="${t.url}" alt="${t.name}" class="card-img-top" data-src="holder.js/100px225?theme=thumb&amp;bg=55595c&amp;fg=eceeef&amp;text=Thumbnail" data-holder-rendered="true" style="height: 225px; width: 100%; display: block;">\n\t\t\t\t\t\t\t<div class="card-body">\n\t\t\t\t\t\t\t\t\t<div class="card-text mb-4">${t.name}</div>\n\t\t\t\t\t\t\t\t\t<div class="card-text mb-4">${this.descrFormat(t.description)}</div>\n\t\t\t\t\t\t\t\t\t<div name = "edit-img" class="btn btn-warning edit"  title = "Редактировать данное изображение">Редактировать</div>\n\t\t\t\t\t\t\t\t\t<div  name = "delete-img" class = "btn btn-danger remove"  title = "Удалить данное изображение"> Удалить </div>\n\t\t\t\t\t\t\t\t\t<div class="btn-group">\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t</div>\n\t\t\t\t</div>`}createItemForAdd(){return{url:this.urlFomat(this.DOMElements.newUrl.value),name:this.nameFormat(this.DOMElements.newName.value),description:this.DOMElements.newDescription.value}}nameFormat(t){return t?t[0].toUpperCase()+t.substring(1).toLowerCase():"Lohn Doh"}urlFomat(t){return-1===t.indexOf("https://")?`https://${t}`:t}descrFormat(t){return t||""}}(e),t,new e)},contacts:()=>{e.initTemplate(s,"contact-view"),console.log("Contacts route is loaded"),new class{constructor(t,e,s){this.model=t,this.view=e,this.utils=s,this.init()}init(){console.log("contacts inited"),this.view.init(),this.initListeners(),this.model.getData().then(t=>{this.view.buildWall(t)})}initListeners(){this.view.DOMElements.sendInfoBTN.addEventListener("click",this.sendInfo.bind(this))}sendInfo(){let t={name:this.view.DOMElements.name.value,email:this.view.DOMElements.email.value,phone:this.view.DOMElements.phone.value,msg:this.view.DOMElements.msg.value,date:moment()};console.log(t),this.model.saveMsg(t)}}(new class{constructor(){this.url="http://localhost:3000/wall"}getData(){return fetch(this.url).then(t=>t.json()).then(t=>t)}saveMsg(t){console.log(t);let e=this.url,s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return fetch(e,s).then(t=>t.json())}},new class{constructor(){this.DOMElements={googleMap:document.querySelector("#googleMap"),name:document.querySelector("#contactsName"),email:document.querySelector("#contactsEmail"),phone:document.querySelector("#contactsTel"),msg:document.querySelector("#contactsMessage"),sendInfoBTN:document.querySelector("#sendInfoBTN"),wall:document.querySelector("#wall")}}init(){this.buildGoogleMap()}buildGoogleMap(){var t=this.DOMElements.googleMap,e={center:new google.maps.LatLng(43.6,-79.3),zoom:8};new google.maps.Map(t,e)}buildWall(t){let e=t;console.log(e);for(let t=e.length-1;t>=0;t--)this.DOMElements.wall.innerHTML+=this.createWallItem(e[t])}createWallItem(t){return`<div class="col-md-12" id = ${t.id}>\n\n\t\t\t\t\t\t\t\t<div class="wall-item">\n\t\t\t\t\t\t\t\t\t<div class ="col-md-4">\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>User</b>: ${t.name}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>Email</b>: ${t.email}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>Phone</b>: ${t.phone}</div>\n\t\t\t\t\t\t\t\t\t\t<div class="text-left"><b>Date</b>: ${t.date}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="text-left col-md-8"> <strong>${t.msg}</strong></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<hr class="mb-4">\n\t\t\t\t\t\t\t</div>`}},new e)}};return t.updateRoute=function(){let t=document.location.hash.replace(/^#/,"");t&&!e.isLoggedIn()?e.navigateTo(""):function(t){let e=i[t];e&&e()}(t)},t}({}),utils=function(){"use strict";return class{constructor(){this.sortingConfig={A:t=>(t.sort((t,e)=>t.email>e.email?1:-1),t),Z:t=>(t.sort((t,e)=>t.email<e.email?1:-1),t),Admin:t=>t.filter(t=>"Admin"==t.role),User:t=>t.filter(t=>"User"==t.role),Find:t=>{let e=new RegExp(event.target.value,"i");return t.filter(t=>e.test(t.name))}}}static initTemplate(t,e){var s=document.querySelector(`#${e}`).content.cloneNode(!0);t.innerHTML="",t.appendChild(s)}static showView(t){t.forEach(t=>{t.classList.remove("hide")})}static hideView(t){t.forEach(t=>{t.classList.add("hide")})}static navigateTo(t){window.location.hash="#"+t}static isLoggedIn(){return!0}static activateBtn(t){t.forEach(t=>{t.parentElement.classList.add("active")})}static disactivateBtn(t){t.forEach(t=>{t.parentElement.classList.remove("active")})}static showHide(t){for(var e in t)t[e=e].forEach(t=>{t.classList.remove("show","hide"),t.classList.add(e)})}static showEl(t){t.classList.remove("hide")}static hideEl(t){t.classList.add("hide")}}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbGxlcnkuY29udHJvbGxlci5qcyIsImdhbGxlcnkubW9kZWwuanMiLCJnYWxsZXJ5LnZpZXcuanMiLCJvYnNlcnZlci5qcyIsImxvZ2luLmNvbnRyb2xsZXIuanMiLCJsb2dpbi5tb2RlbC5qcyIsImxvZ2luLnZpZXcuanMiLCJtYWluLmNvbnRyb2xsZXIuanMiLCJtYWluLm1vZGVsLmpzIiwibWFpbi52aWV3LmpzIiwicHJvZmlsZS5jb250cm9sbGVyLmpzIiwicHJvZmlsZS5tb2RlbC5qcyIsInByb2ZpbGUudmlldy5qcyIsImNvbnRhY3RzLmNvbnRyb2xsZXIuanMiLCJjb250YWN0cy5tb2RlbC5qcyIsImNvbnRhY3RzLnZpZXcuanMiLCJ1dGlscy5qcyIsInJvdXRlci5qcyIsImxvZ2luL2xvZ2luLmNvbnRyb2xsZXIuanMiLCJsb2dpbi9sb2dpbi5tb2RlbC5qcyIsImxvZ2luL2xvZ2luLnZpZXcuanMiLCJtYWluUGFnZS9tYWluLmNvbnRyb2xsZXIuanMiLCJtYWluUGFnZS9tYWluLm1vZGVsLmpzIiwibWFpblBhZ2UvbWFpbi52aWV3LmpzIiwicHJvZmlsZS9wcm9maWxlLmNvbnRyb2xsZXIuanMiLCJwcm9maWxlL3Byb2ZpbGUubW9kZWwuanMiLCJwcm9maWxlL3Byb2ZpbGUudmlldy5qcyIsImdhbGxlcnkvb2JzZXJ2ZXIuanMiLCJnYWxsZXJ5L2dhbGxlcnkuY29udHJvbGxlci5qcyIsImdhbGxlcnkvZ2FsbGVyeS5tb2RlbC5qcyIsImdhbGxlcnkvZ2FsbGVyeS52aWV3LmpzIiwiY29udGFjdHMvY29udGFjdHMuY29udHJvbGxlci5qcyIsImNvbnRhY3RzL2NvbnRhY3RzLm1vZGVsLmpzIiwiY29udGFjdHMvY29udGFjdHMudmlldy5qcyIsImFwcC5qcyJdLCJuYW1lcyI6WyJtb2RlbCIsInZpZXciLCJvYnNlcnZlciIsInV0aWxzIiwiaW5pdCIsImxvZyIsImdldERhdGEiLCJ0aGVuIiwiZGF0YSIsImluaXRMaXN0ZW5lcnMiLCJET01FbGVtZW50cyIsImFkZEltZ0J0biIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0aGlzIiwiYWRkSW1hZ2UiLCJiaW5kIiwiZWRpdEJ0biIsImVkaXRDYXJkIiwicmVzdWx0QmxvY2siLCJzaG93Rm9ybUZvckVkaXRpbmciLCJkZWxldGVJbWFnZSIsImV2ZW50IiwidGFyZ2V0IiwiaWQiLCJpdGVtIiwiY3JlYXRlSXRlbUZvckFkZCIsInNhdmVEYXRhIiwicmVmcmVzaEdhbGxlcnkiLCJoaWRlRm9ybUZvckFkZGluZyIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwidG9nZ2xlQWRkRWRpdEJ0biIsIml0ZW1JZCIsImNsb3Nlc3QiLCJnZXRJdGVtIiwiZmlsbEZvcm1Gb3JFZGl0Iiwib2JqZWN0RnJvbXJlc3BvbnNlIiwiY2F0Y2giLCJlcnJvciIsImVkaXRHYWxsZXJ5IiwicmVtb3ZlSXRlbSIsImdldFVybCIsImZldGNoIiwicmVzcG9uY2UiLCJqc29uIiwidXNlcnNMaXN0RGF0YSIsInVybCIsInJlc3BvbnNlIiwicGFyYW1zIiwiSlNPTiIsInN0cmluZ2lmeSIsIkNvbnRlbnQtVHlwZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJlYWR5RGF0YUZvckdhbGxlcnkiLCJ2aXNpYmxlRGF0YSIsImFkZE5ld0ltZ0J0biIsInNob3dGb3JtRm9yQWRkaW5nIiwiY2xlYXJGb3JtRm9yQWRkIiwic2hvd0VsIiwiZm9ybUZvckFkZGluZyIsImhpZGVFbCIsIm5ld05hbWUiLCJ2YWx1ZSIsIm5ld1VybCIsIm5ld0Rlc2NyaXB0aW9uIiwibmFtZSIsImRlc2NyaXB0aW9uIiwicHJlcGFyZURhdGEiLCJiaXVsZEdhbGxlcnkiLCJmb3JFYWNoIiwiZWxlbWVudCIsInB1c2giLCJtYXAiLCJpbmRleCIsInVybEZvbWF0IiwibmFtZUZvcm1hdCIsImFwcGx5IiwiaW5uZXJIVE1MIiwiaSIsImxlbmd0aCIsImNyZWF0ZUdhbGxlcnlJdGVtIiwiZGVzY3JGb3JtYXQiLCJ0b1VwcGVyQ2FzZSIsInN1YnN0cmluZyIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsImQiLCJldmVudHMiLCJmdW5jIiwiYXJnIiwibG9naW5Nb2RlbCIsImxvZ2luVmlldyIsImZpbGxTdGFydFBhZ2VVc2VyRGF0YSIsImJpbmRFdmVudHMiLCJnZXRDaGVja2JveFN0YXR1cyIsImNoZWNrQm94UmVtZW1lbWJlck1lIiwiY2hlY2tlZCIsImVtYWlsIiwibG9naW4iLCJwYXNzd29yZCIsInN1Ym1pdEJ0biIsImluaXRWYWxpZGF0aW9uIiwiZXhpdEJ0biIsImluaXRMb2dPdXQiLCJwcmV2ZW50RGVmYXVsdCIsImhpZGVBbGVydE1zZ3MiLCJjcmVkZW50aWFscyIsImdldExvZ0FuZFBhc3MiLCJ2YWxpZFJlc3VsdCIsImNoZWNrRmllbGRzIiwibG9nQW5kUGFzc1ZhbGlkYXRpb24iLCJzdGF0dXMiLCJnZXRBbmRTZXRDaGVja2JveFN0YXR1cyIsIm5hdmlnYXRlVG8iLCJzaG93QnV0dG9ucyIsImhpZGVFbnRlckJ0biIsInNob3dFcnJvck1zZyIsImxvZ091dCIsImhpZGVCdXR0b25zIiwic2hvd0VudGVyQnRuIiwic2V0Q2hlY2tib3hTdGF0dXMiLCJ1cmxBZG1pblVzZXIiLCJ1cmxMb2dpbiIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJvYmoiLCJzZXRVc2VySW5mbyIsInBhc3MiLCJjaGVja0VtYWlsIiwiY2hlY2tQYXNzd29yZCIsInRlc3QiLCJpcGhvbmUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImNvdW50ZXIiLCJpc0dhbGxlcnlJbml0ZWQiLCJpc1VzZXJMb2dnZWRJbiIsInVzZXJEYXRhIiwibXNnQ29kZSIsInNob3dIaWRlIiwic2hvdyIsImFsZXJ0TXNnIiwibm90RmlsbGVkRW1haWxNc2ciLCJub3RGaWxsZWRQYXNzTXNnIiwid3JvbmdFbWFpbE1zZyIsIndyb25nUGFzc01zZyIsImhpZGUiLCJzaG93RWxzIiwibWFpblBhZ2VCdG4iLCJwcm9maWxlQnRuIiwiZ2FsbGVyeUJ0biIsImNvbnRhY3RzQnRuIiwiaGlkZUVscyIsImxvZ2luQnRuIiwib2JqZWN0Iiwia2V5IiwiRE9NRWxlbSIsInJlbW92ZSIsImFkZCIsImFyciIsInVzZXJzQXZhdGFycyIsImdldFByb2ZpbGVEYXRhIiwicHJvZmlsZURhdGEiLCJnZXRBdmF0YXJzIiwiYWRkUG9zdEJ0biIsImFkZFBvc3QiLCJhdXRob3JOZXdQb3N0IiwidGV4dE5ld1Bvc3QiLCJwb3N0RGF0YSIsIm1vbWVudCIsImNob29zZUF2YXRhciIsIm5ld0ltYWdlIiwic3BsaXQiLCJzYXZlUG9zdCIsImF2YXRhcnNVcmwiLCJwcm9maWxlVXJsIiwicmVhZHlEYXRhIiwicmVmcmVzaFBvc3RzIiwiZmlsbEFib3V0IiwiYWRkTmV3UG9zdElucHV0IiwiYWRkTmV3Rm9ybSIsImJpdWxkVmlldyIsImNyZWF0ZVBvc3QiLCJpbWdzIiwiaW1hZ2VzIiwiZGF0ZSIsInRleHQiLCJ3ZW50VG9MaW5rIiwid2VudFRvIiwiZnJpZW5kc1dpdGhMaW5rIiwiZnJpZW5kcyIsIndvcmtlZEF0TGluayIsIndvcmtQbGFjZSIsImxpdmVzSW5MaW5rIiwiY291bnRyeSIsImZyb21MaW5rIiwic3RhdGUiLCJidWlsZFZpZXciLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsInVzZXJOYW1lIiwiYWRkcmVzcyIsImFkcmVzcyIsImFkZHJlc3MyIiwiYWRyZXNzMiIsInppcCIsImJ1aWxkV2FsbCIsInNlbmRJbmZvQlROIiwic2VuZEluZm8iLCJwaG9uZSIsIm1zZyIsInNhdmVNc2ciLCJidWlsZEdvb2dsZU1hcCIsIm1hcENhbnZhcyIsImdvb2dsZU1hcCIsIm1hcE9wdGlvbnMiLCJnb29nbGUiLCJtYXBzIiwiTGF0TG5nIiwiem9vbSIsIk1hcCIsIndhbGxEYXRhIiwid2FsbCIsImNyZWF0ZVdhbGxJdGVtIiwiVXRpbHMiLCJzb3J0aW5nQ29uZmlnIiwicGFnZSIsInNvcnQiLCJhIiwiYiIsImZpbHRlciIsInJvbGUiLCJleHAiLCJSZWdFeHAiLCJ3cmFwcGVyRWwiLCJ0ZW1wbGF0ZUlkIiwiY2xvbiIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJhcHBlbmRDaGlsZCIsInZpZXdzIiwicm91dGVOYW1lIiwibG9jYXRpb24iLCJoYXNoIiwiYnRucyIsInBhcmVudEVsZW1lbnQiLCJlbCIsIndyYXBwZXIiLCJyb3V0ZUNvbmZpZyIsImluaXRUZW1wbGF0ZSIsInVwZGF0ZVJvdXRlIiwicmVwbGFjZSIsImlzTG9nZ2VkSW4iLCJyb3V0ZSIsIndpbmRvdyJdLCJtYXBwaW5ncyI6InVFQUNhQSxFQUFPQyxFQUFNQyxFQUFVQyxRQUM3QkgsTUFBUUEsT0FDUkMsS0FBT0EsT0FDUEMsU0FBV0EsT0FDWEMsTUFBUUEsT0FDUkMsc0JBSUlDLElBQUksdUJBQ05MLE1BQU1NLFVBQVVDLEtBQU1DLFNBQ3JCUCxLQUFLRyxLQUFLSSxXQUNQSCxJQUFJLGlCQUFrQkcsVUFFMUJDLHFDQUlEUixLQUFLUyxZQUFZQyxVQUFVQyxpQkFBaUIsUUFBU0MsS0FBS0MsU0FBU0MsS0FBS0YsWUFDeEVaLEtBQUtTLFlBQVlNLFFBQVFKLGlCQUFpQixRQUFTQyxLQUFLSSxTQUFTRixLQUFLRixZQUN0RVosS0FBS1MsWUFBWVEsWUFBWU4saUJBQWlCLFFBQVNDLEtBQUtNLG1CQUFtQkosS0FBS0YsWUFDcEZaLEtBQUtTLFlBQVlRLFlBQVlOLGlCQUFpQixRQUFTQyxLQUFLTyxZQUFZTCxLQUFLRixnQkFJekVRLE1BQ2EsV0FBbkJBLEVBQU1DLE9BQU9DLEdBQWlCLEtBQzVCQyxFQUFPWCxLQUFLWixLQUFLd0Isd0JBQ2hCekIsTUFBTTBCLFNBQVNGLEdBQ25CakIsS0FBS0MsR0FBUUssS0FBS1osS0FBSzBCLGVBQWVuQixTQUNsQ1AsS0FBSzJCLHdDQUlPUCxNQUNmQSxFQUFNQyxPQUFPTyxVQUFVQyxTQUFTLFFBQVEsUUFDbEMsRUFBRSxRQUNKN0IsS0FBSzhCLHVCQUNOQyxFQUFTWCxFQUFNQyxPQUFPVyxRQUFRLGlCQUFpQlYsUUFDOUN2QixNQUFNa0MsUUFBUUYsR0FDbEJ6QixLQUFLQyxTQUNBUCxLQUFLa0MsZ0JBQWdCM0IsUUFDckI0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TSxFQUFNLElBQUlDLE9BQU90TixNQUFNQyxPQUFPeUMsTUFBTyxZQUNsQ3FLLEVBQUtJLE9BQU9oTixHQUNSa04sRUFBSXZHLEtBQUszRyxFQUFLMEMsNkJBTW5CMEssRUFBV0MsT0FFMUJDLEVBRFcxTCxTQUFTQyxrQkFBa0J3TCxLQUN0QkUsUUFBUUMsV0FBVSxLQUM1QmxLLFVBQVksS0FDWm1LLFlBQVlILG1CQUdMSSxLQUNONUssUUFBUUMsTUFDRjFDLFVBQVVrSSxPQUFPLDBCQUlqQm1GLEtBQ041SyxRQUFRQyxNQUNGMUMsVUFBVW1JLElBQUksNEJBSVptRixVQUNQQyxTQUFTQyxLQUFNLElBQU1GLDZCQVNyQixxQkFHTUcsS0FDWmhMLFFBQVFDLE1BQ0dnTCxjQUFjMU4sVUFBVW1JLElBQUksa0NBR3hCc0YsS0FDZmhMLFFBQVFDLE1BQ0dnTCxjQUFjMU4sVUFBVWtJLE9BQU8sNEJBR2pDSCxPQUNYLElBQUlDLEtBQU9ELEVBRURBLEVBRFJDLEVBQU1BLEdBRUp2RixRQUFRd0YsTUFDRmpJLFVBQVVrSSxPQUFPLE9BQVMsVUFDMUJsSSxVQUFVbUksSUFBSUgsbUJBS2QyRixLQUNYM04sVUFBVWtJLE9BQU8sc0JBRVB5RixLQUNWM04sVUFBVW1JLElBQUkiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbGxlcnlDb250cm9sbGVyIHsgXHJcblx0Y29uc3RydWN0b3IobW9kZWwsIHZpZXcsIG9ic2VydmVyLCB1dGlscykge1xyXG5cdFx0dGhpcy5tb2RlbCA9IG1vZGVsO1xyXG5cdFx0dGhpcy52aWV3ID0gdmlldztcclxuXHRcdHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcdFxyXG5cdFx0dGhpcy51dGlscyA9IHV0aWxzO1xyXG5cdFx0dGhpcy5pbml0KCk7XHJcbiAgICB9ICAgICAgICBcclxuXHRcdFxyXG5cdFx0aW5pdCgpe1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcImdhbGxlcnkgaW5pdGVkXCIpXHJcblx0XHRcdFx0dGhpcy5tb2RlbC5nZXREYXRhKCkudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRcdFx0dGhpcy52aWV3LmluaXQoZGF0YSk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcImdhbGxlcnktZGF0YTogXCIsIGRhdGEpXHJcblx0XHRcdFx0fSk7IFx0XHJcblx0XHRcdFx0dGhpcy5pbml0TGlzdGVuZXJzKClcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aW5pdExpc3RlbmVycygpIHtcclxuXHRcdFx0dGhpcy52aWV3LkRPTUVsZW1lbnRzLmFkZEltZ0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5hZGRJbWFnZS5iaW5kKHRoaXMpKTtcclxuXHRcdFx0dGhpcy52aWV3LkRPTUVsZW1lbnRzLmVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZWRpdENhcmQuYmluZCh0aGlzKSk7XHJcblx0XHRcdHRoaXMudmlldy5ET01FbGVtZW50cy5yZXN1bHRCbG9jay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5zaG93Rm9ybUZvckVkaXRpbmcuYmluZCh0aGlzKSk7XHJcblx0XHRcdHRoaXMudmlldy5ET01FbGVtZW50cy5yZXN1bHRCbG9jay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kZWxldGVJbWFnZS5iaW5kKHRoaXMpKTsgXHJcblx0XHRcclxuXHRcdH1cclxuXHJcblx0XHRhZGRJbWFnZSAoZXZlbnQpe1xyXG5cdFx0XHRpZihldmVudC50YXJnZXQuaWQgPT0gXCJhZGQtaW1nXCIgKXtcclxuXHRcdFx0XHRsZXQgaXRlbSA9IHRoaXMudmlldy5jcmVhdGVJdGVtRm9yQWRkKCk7XHJcblx0XHRcdFx0dGhpcy5tb2RlbC5zYXZlRGF0YShpdGVtKVxyXG5cdFx0XHRcdC50aGVuKGRhdGEgPT4gdGhpcy52aWV3LnJlZnJlc2hHYWxsZXJ5KGRhdGEpKSBcclxuXHRcdFx0XHR0aGlzLnZpZXcuaGlkZUZvcm1Gb3JBZGRpbmcoKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRzaG93Rm9ybUZvckVkaXRpbmcoZXZlbnQpeyAgLy9cclxuXHRcdFx0aWYoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImVkaXRcIikpe1xyXG5cdFx0XHRcdFx0c2Nyb2xsKDAsMCk7XHJcblx0XHRcdFx0XHR0aGlzLnZpZXcudG9nZ2xlQWRkRWRpdEJ0bigpO1xyXG5cdFx0XHRcdFx0bGV0IGl0ZW1JZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmdhbGxlcnktY2FyZFwiKS5pZDtcclxuXHRcdFx0XHRcdHRoaXMubW9kZWwuZ2V0SXRlbShpdGVtSWQpXHJcblx0XHRcdFx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy52aWV3LmZpbGxGb3JtRm9yRWRpdChkYXRhKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5vYmplY3RGcm9tcmVzcG9uc2UgPSBkYXRhO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdC5jYXRjaChmdW5jdGlvbihlcnJvcikge1xyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhlcnJvcik7XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0fTtcclxuXHJcblx0XHRcclxuXHRcdGVkaXRDYXJkKGV2ZW50KXtcclxuXHRcdFx0aWYoZXZlbnQudGFyZ2V0LmlkID09IFwiZWRpdC1pbWdcIiApe1xyXG5cdFx0XHRcdGxldCBpdGVtID0gdGhpcy52aWV3LmNyZWF0ZUl0ZW1Gb3JBZGQoKTtcclxuXHRcdFx0XHRsZXQgaWQgPVx0dGhpcy5vYmplY3RGcm9tcmVzcG9uc2UuaWQ7XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHJcblx0XHRcdFx0dGhpcy5tb2RlbC5lZGl0R2FsbGVyeShpZCAsIGl0ZW0pXHJcblx0XHRcdFx0LnRoZW4oZGF0YSA9PiB0aGlzLnZpZXcucmVmcmVzaEdhbGxlcnkoZGF0YSkpIFxyXG5cdFx0XHRcdHRoaXMudmlldy5oaWRlRm9ybUZvckFkZGluZygpO1xyXG5cdFx0XHR9XHRcclxuXHRcdH07XHJcblx0XHJcblx0XHRkZWxldGVJbWFnZShldmVudCl7XHJcblx0XHRcdGlmKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJyZW1vdmVcIikpe1xyXG5cdFx0XHRcdGxldCBpZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmdhbGxlcnktY2FyZFwiKS5pZDtcclxuXHRcdFx0XHR0aGlzLm1vZGVsLnJlbW92ZUl0ZW0oaWQpXHJcblx0XHRcdFx0LnRoZW4oZGF0YSA9PiB0aGlzLnZpZXcucmVmcmVzaEdhbGxlcnkoZGF0YSkpIFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHJcbiAgICBcclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FsbGVyeU1vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZ2V0VXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9nYWxsZXJ5JztcclxuICAgIH1cclxuXHJcbiAgICBnZXREYXRhKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLmdldFVybCkudGhlbihyZXNwb25jZSA9PiByZXNwb25jZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiR2FsbGVyeSBpcyBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgIHRoaXMudXNlcnNMaXN0RGF0YSA9IGRhdGE7XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH0pICAgICAgICAgXHJcblx0XHR9XHJcblx0XHRnZXRJdGVtKGl0ZW1JZCl7XHJcblx0XHRcdGxldCB1cmwgPSBgaHR0cDovL2xvY2FsaG9zdDozMDAwL2dhbGxlcnkvJHtpdGVtSWR9YDtcclxuXHRcdFx0cmV0dXJuIGZldGNoKHVybCkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0XHR9XHJcblx0XHRzYXZlRGF0YShkYXRhKSB7XHJcblx0XHRcdGxldCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9nYWxsZXJ5XCI7XHJcblx0XHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeShkYXRhKVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gZmV0Y2godXJsICwgcGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHRcdH07XHJcblxyXG5cdFx0ZWRpdEdhbGxlcnkoaWQgLCBpdGVtKXtcclxuXHRcdFx0bGV0IHVybCA9IGBodHRwOi8vbG9jYWxob3N0OjMwMDAvZ2FsbGVyeS8ke2lkfWA7XHJcblx0XHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdFx0XHRcdG1ldGhvZDogJ1BVVCcsXHJcblx0XHRcdFx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSxcclxuXHRcdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoaXRlbSlcclxuXHRcdFx0fTtcclxuXHRcdFx0cmV0dXJuIGZldGNoKHVybCAsIHBhcmFtcykudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0XHQgXHJcblx0IH07XHJcblxyXG5cdCByZW1vdmVJdGVtKGlkKXtcclxuXHRcdGxldCB1cmwgPSBgaHR0cDovL2xvY2FsaG9zdDozMDAwL2dhbGxlcnkvJHtpZH1gO1xyXG5cdFx0bGV0IHBhcmFtcyA9IHtcclxuXHRcdFx0bWV0aG9kOiAnREVMRVRFJyxcclxuXHRcdFx0aGVhZGVyczogeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9XHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGZldGNoKHVybCAsIHBhcmFtcykudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0IH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYWxsZXJ5VmlldyB7ICAgICAgICBcclxuICAgIGNvbnN0cnVjdG9yKHV0aWxzKSB7XHJcbiAgICAgICAgdGhpcy5ET01FbGVtZW50cyA9IHtcclxuXHRcdFx0XHRcdHJlc3VsdEJsb2NrOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyZXN1bHQnKSxcclxuXHRcdFx0XHRcdGZvcm1Gb3JBZGRpbmc6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybS1hZGQtbmV3XCIpLFxyXG5cdFx0XHRcdFx0YWRkTmV3SW1nQnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1uZXctaW1nXCIpLFxyXG5cdFx0XHRcdFx0YWRkSW1nQnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1pbWdcIiksXHJcblx0XHRcdFx0XHRlZGl0QnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtaW1nXCIpLFxyXG5cdFx0XHRcdFx0bmV3TmFtZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctbmFtZVwiKSxcclxuXHRcdFx0XHRcdG5ld1VybDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctdXJsXCIpLFxyXG5cdFx0XHRcdFx0bmV3RGVzY3JpcHRpb246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LWRlc2NyXCIpLFxyXG5cdFx0XHRcdH07ICBcclxuXHRcdFx0XHR0aGlzLnV0aWxzID0gdXRpbHM7ICAgXHJcblx0XHRcdCBcdHRoaXMucmVhZHlEYXRhRm9yR2FsbGVyeSA9IFtdO1xyXG5cdFx0XHQgXHR0aGlzLnZpc2libGVEYXRhID0gW107XHJcbiAgICAgICAgXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGluaXQoZGF0YSl7XHJcblx0XHRcdHRoaXMuaW5pdExpc3RlbmVycygpO1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hHYWxsZXJ5KGRhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGluaXRMaXN0ZW5lcnMoKXtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5hZGROZXdJbWdCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuc2hvd0Zvcm1Gb3JBZGRpbmcuYmluZCh0aGlzKSk7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0c2hvd0Zvcm1Gb3JBZGRpbmcoZXZlbnQpe1xyXG5cdFx0XHRpZihldmVudC50YXJnZXQuaWQgPT0gXCJhZGQtbmV3LWltZ1wiKXtcclxuXHRcdFx0XHR0aGlzLmNsZWFyRm9ybUZvckFkZCgpO1xyXG5cdFx0XHRcdHRoaXMudXRpbHMuc2hvd0VsKHRoaXMuRE9NRWxlbWVudHMuZm9ybUZvckFkZGluZyk7XHJcblx0XHRcdFx0dGhpcy51dGlscy5oaWRlRWwodGhpcy5ET01FbGVtZW50cy5lZGl0QnRuKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGNsZWFyRm9ybUZvckFkZCgpe1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLm5ld05hbWUudmFsdWUgPSBcIlwiO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLm5ld1VybC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubmV3RGVzY3JpcHRpb24udmFsdWUgPSBcIlwiO1xyXG5cdFx0fVxyXG5cdFx0ZmlsbEZvcm1Gb3JFZGl0KGRhdGEpe1xyXG5cdFx0XHRsZXQgcmVzcG9uc2UgPSBkYXRhO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLm5ld05hbWUudmFsdWUgPSByZXNwb25zZS5uYW1lO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLm5ld1VybC52YWx1ZSA9IHJlc3BvbnNlLnVybDtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5uZXdEZXNjcmlwdGlvbi52YWx1ZSA9IHJlc3BvbnNlLmRlc2NyaXB0aW9uO1xyXG5cdFx0fTtcclxuXHRcdFxyXG5cdFx0aGlkZUZvcm1Gb3JBZGRpbmcoKXtcclxuXHRcdFx0dGhpcy51dGlscy5oaWRlRWwodGhpcy5ET01FbGVtZW50cy5mb3JtRm9yQWRkaW5nKVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHR0b2dnbGVBZGRFZGl0QnRuKCl7XHJcblx0XHRcdHRoaXMudXRpbHMuc2hvd0VsKHRoaXMuRE9NRWxlbWVudHMuZm9ybUZvckFkZGluZyk7XHJcblx0XHRcdHRoaXMudXRpbHMuaGlkZUVsKHRoaXMuRE9NRWxlbWVudHMuYWRkSW1nQnRuKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZWZyZXNoR2FsbGVyeShkYXRhKXtcclxuXHRcdFx0dGhpcy5wcmVwYXJlRGF0YShkYXRhKTtcclxuXHRcdFx0dGhpcy5iaXVsZEdhbGxlcnkodGhpcy52aXNpYmxlRGF0YSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdHByZXBhcmVEYXRhIChkYXRhKSB7XHJcblx0XHRcdHRoaXMudmlzaWJsZURhdGEgPSBbXTtcclxuXHRcdFx0dGhpcy5yZWFkeURhdGFGb3JHYWxsZXJ5ID0gW107XHJcblx0XHRcdGRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuXHRcdFx0XHRpZighZWxlbWVudC5uYW1lKXtyZXR1cm4gZmFsc2V9XHJcblx0XHRcdFx0ZWxzZXt0aGlzLnJlYWR5RGF0YUZvckdhbGxlcnkucHVzaChlbGVtZW50KSB9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHRcclxuXHRcdFx0dGhpcy5yZWFkeURhdGFGb3JHYWxsZXJ5Lm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcclxuXHRcdFx0ICAgICAgICAgICAgICAgICBcclxuXHRcdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR1cmw6IHRoaXMudXJsRm9tYXQoaXRlbS51cmwpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRuYW1lOiB0aGlzLm5hbWVGb3JtYXQoaXRlbS5uYW1lKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246IGl0ZW0uZGVzY3JpcHRpb24sXHJcblx0XHRcdFx0XHRcdFx0XHRcdGl0ZW1JRDogaXRlbS5pZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR0aGlzLnZpc2libGVEYXRhLnB1c2guYXBwbHkodGhpcy52aXNpYmxlRGF0YSxcdHRoaXMucmVhZHlEYXRhRm9yR2FsbGVyeSk7XHJcblx0XHR9O1xyXG5cclxuXHRcdGJpdWxkR2FsbGVyeSAodmlzaWJsZURhdGEpeyAgXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMucmVzdWx0QmxvY2suaW5uZXJIVE1MID0gXCJcIjtcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB2aXNpYmxlRGF0YS5sZW5ndGg7IGkrKykgeyAgICBcclxuXHRcdFx0XHRcdHRoaXMuRE9NRWxlbWVudHMucmVzdWx0QmxvY2suaW5uZXJIVE1MICs9IHRoaXMuY3JlYXRlR2FsbGVyeUl0ZW0odmlzaWJsZURhdGFbaV0pOyBcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGNyZWF0ZUdhbGxlcnlJdGVtIChpdGVtKSB7XHJcblx0XHRcdHJldHVybiBcdGA8ZGl2IGNsYXNzPVwiY29sLW1kLTQgZ2FsbGVyeS1jYXJkXCIgaWQgPSAke2l0ZW0uaWR9PlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmQgbWItNCBib3gtc2hhZG93IGdhbGxlcnktaXRlbVwiID5cclxuXHRcdFx0XHRcdFx0XHQ8aW1nIHNyYz1cIiR7aXRlbS51cmx9XCIgYWx0PVwiJHtpdGVtLm5hbWV9XCIgY2xhc3M9XCJjYXJkLWltZy10b3BcIiBkYXRhLXNyYz1cImhvbGRlci5qcy8xMDBweDIyNT90aGVtZT10aHVtYiZhbXA7Ymc9NTU1OTVjJmFtcDtmZz1lY2VlZWYmYW1wO3RleHQ9VGh1bWJuYWlsXCIgZGF0YS1ob2xkZXItcmVuZGVyZWQ9XCJ0cnVlXCIgc3R5bGU9XCJoZWlnaHQ6IDIyNXB4OyB3aWR0aDogMTAwJTsgZGlzcGxheTogYmxvY2s7XCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC10ZXh0IG1iLTRcIj4ke2l0ZW0ubmFtZX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmQtdGV4dCBtYi00XCI+JHt0aGlzLmRlc2NyRm9ybWF0KGl0ZW0uZGVzY3JpcHRpb24pfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IG5hbWUgPSBcImVkaXQtaW1nXCIgY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcgZWRpdFwiICB0aXRsZSA9IFwi0KDQtdC00LDQutGC0LjRgNC+0LLQsNGC0Ywg0LTQsNC90L3QvtC1INC40LfQvtCx0YDQsNC20LXQvdC40LVcIj7QoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2ICBuYW1lID0gXCJkZWxldGUtaW1nXCIgY2xhc3MgPSBcImJ0biBidG4tZGFuZ2VyIHJlbW92ZVwiICB0aXRsZSA9IFwi0KPQtNCw0LvQuNGC0Ywg0LTQsNC90L3QvtC1INC40LfQvtCx0YDQsNC20LXQvdC40LVcIj4g0KPQtNCw0LvQuNGC0YwgPC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJidG4tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5gO1xyXG5cdFx0fTtcclxuXHJcblx0XHRjcmVhdGVJdGVtRm9yQWRkKCl7XHJcblx0XHRcdGxldCBpdGVtID0ge1xyXG5cdFx0XHRcdFwidXJsXCIgOiB0aGlzLnVybEZvbWF0KHRoaXMuRE9NRWxlbWVudHMubmV3VXJsLnZhbHVlKSxcclxuXHRcdFx0XHRcIm5hbWVcIjogdGhpcy5uYW1lRm9ybWF0KHRoaXMuRE9NRWxlbWVudHMubmV3TmFtZS52YWx1ZSksXHJcblx0XHRcdFx0XCJkZXNjcmlwdGlvblwiOiB0aGlzLkRPTUVsZW1lbnRzLm5ld0Rlc2NyaXB0aW9uLnZhbHVlLFxyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBpdGVtO1xyXG5cdFx0fVxyXG5cclxuXHRcdG5hbWVGb3JtYXQgKG5hbWUpe1xyXG5cdFx0XHRyZXR1cm4gIG5hbWUgPyBuYW1lWzBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnN1YnN0cmluZygxKS50b0xvd2VyQ2FzZSgpIDogXCJMb2huIERvaFwiO1xyXG5cdFx0fTtcclxuXHRcdHVybEZvbWF0ICAodXJsKXtcclxuXHRcdFx0XHRyZXR1cm4gICh1cmwuaW5kZXhPZihcImh0dHBzOi8vXCIpKSA9PT0gLTEgPyBgaHR0cHM6Ly8ke3VybH1gIDogIHVybDsgXHJcblx0XHR9O1xyXG5cdFx0ZGVzY3JGb3JtYXQoZCl7XHJcblx0XHRcdGlmICghZCkge1xyXG5cdFx0XHRcdHJldHVybiBcIlwiO1xyXG5cdFx0XHR9IGVsc2Uge3JldHVybiAgZH1cclxuXHRcdH1cclxuXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE9ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudHMgPSB7fTtcbiAgICB9XG5cbiAgICBzdWJzY3JpYmVFdmVudChuYW1lLCBmdW5jKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzW25hbWVdID0gZnVuYztcbiAgICB9XG4gICAgXG4gICAgY2FsbEV2ZW50KG5hbWUsIGFyZykge1xuICAgICAgICBpZiAodGhpcy5ldmVudHNbbmFtZV0pIHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzW25hbWVdKGFyZyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2dpbkNvbnRyb2xsZXIgeyBcclxuXHRjb25zdHJ1Y3Rvcihtb2RlbCwgdmlldywgdXRpbHMpIHtcclxuXHRcdHRoaXMubG9naW5Nb2RlbCA9IG1vZGVsO1xyXG5cdFx0dGhpcy5sb2dpblZpZXcgPSB2aWV3O1xyXG5cdFx0dGhpcy51dGlscyA9IHV0aWxzO1xyXG5cdFx0dGhpcy5pbml0KCk7XHJcblx0XHQvL3RoaXMudXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvbG9naW4vXCJcclxuXHR9ICAgIFxyXG5cclxuXHRpbml0KCkge1xyXG5cdFx0Ly90aGlzLmxvZ2luVmlldy5oaWRlQnV0dG9ucygpO1xyXG5cdFx0dGhpcy5maWxsU3RhcnRQYWdlVXNlckRhdGEoKTtcclxuXHRcdHRoaXMuYmluZEV2ZW50cygpO1xyXG5cclxuXHR9XHJcblxyXG5cdGZpbGxTdGFydFBhZ2VVc2VyRGF0YSAoKXtcclxuXHRcdGxldCBjaGVja0JveFN0YXR1cyA9IHRoaXMubG9naW5Nb2RlbC5nZXRDaGVja2JveFN0YXR1cygpO1xyXG5cdFx0aWYgKGNoZWNrQm94U3RhdHVzID09IHRydWUpe1xyXG5cdFx0XHR0aGlzLmxvZ2luTW9kZWwuZ2V0RGF0YSgpLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0dGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuY2hlY2tCb3hSZW1lbWVtYmVyTWUuY2hlY2tlZCA9IHRydWU7XHRcclxuXHRcdFx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5lbWFpbC52YWx1ZSA9IGRhdGEubG9naW47ICAgIFxyXG5cdFx0XHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLnBhc3N3b3JkLnZhbHVlID0gZGF0YS5wYXNzd29yZDtcclxuXHRcdFx0fSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLmNoZWNrQm94UmVtZW1lbWJlck1lLmNoZWNrZWQgPSBmYWxzZTtcdFxyXG5cdFx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5lbWFpbC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLnBhc3N3b3JkLnZhbHVlID0gXCJcIjtcclxuXHRcdH1cclxuXHR9O1xyXG5cdFx0XHJcblx0YmluZEV2ZW50cygpIHtcclxuXHRcdC8vdGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuZW50ZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaW5pdFZhbGlkYXRpb24uYmluZCh0aGlzKSk7XHJcblx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5zdWJtaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaW5pdFZhbGlkYXRpb24uYmluZCh0aGlzKSk7XHJcblx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5leGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmluaXRMb2dPdXQuYmluZCh0aGlzKSk7XHJcblx0fVxyXG5cclxuXHRpbml0VmFsaWRhdGlvbihldmVudCl7XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0aWYoZXZlbnQudGFyZ2V0LmlkID09ICdzdWJtaXRCdG4nKXtcclxuXHRcdFx0dGhpcy5sb2dpblZpZXcuaGlkZUFsZXJ0TXNncygpO1xyXG5cdFx0XHRsZXQgY3JlZGVudGlhbHMgPSB0aGlzLmxvZ2luVmlldy5nZXRMb2dBbmRQYXNzKCk7XHJcblx0XHRcdGxldCB2YWxpZFJlc3VsdCA9IHRoaXMubG9naW5Nb2RlbC5jaGVja0ZpZWxkcyAoY3JlZGVudGlhbHMubG9naW4sIGNyZWRlbnRpYWxzLnBhc3N3b3JkKTtcclxuXHRcdFx0aWYodmFsaWRSZXN1bHQgPT0gdHJ1ZSl7XHJcblx0XHRcdFx0dGhpcy5sb2dpbk1vZGVsLmxvZ0FuZFBhc3NWYWxpZGF0aW9uKGNyZWRlbnRpYWxzKVxyXG5cdFx0XHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0aWYgKGRhdGEuc3RhdHVzKSB7XHJcblx0XHRcdFx0XHRcdHRoaXMuZ2V0QW5kU2V0Q2hlY2tib3hTdGF0dXMoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy51dGlscy5uYXZpZ2F0ZVRvKFwibWFpblBhZ2VcIik7XHJcblx0XHRcdFx0XHRcdHRoaXMubG9naW5WaWV3LnNob3dCdXR0b25zKCk7XHJcblx0XHRcdFx0XHRcdHRoaXMubG9naW5WaWV3LmhpZGVFbnRlckJ0bigpO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHR0aGlzLmxvZ2luVmlldy5zaG93RXJyb3JNc2coXCIxXCIpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5sb2dpblZpZXcuc2hvd0Vycm9yTXNnKHZhbGlkUmVzdWx0KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdGluaXRMb2dPdXQoKXtcclxuXHRcdHRoaXMubG9naW5Nb2RlbC5sb2dPdXQoKTtcclxuXHRcdHRoaXMubG9naW5WaWV3LmhpZGVCdXR0b25zKCk7XHJcblx0XHR0aGlzLmxvZ2luVmlldy5zaG93RW50ZXJCdG4oKTtcclxuXHRcdHRoaXMudXRpbHMubmF2aWdhdGVUbyhcIlwiKTtcclxuXHRcdHRoaXMuZ2V0QW5kU2V0Q2hlY2tib3hTdGF0dXMoKTtcclxuXHR9XHJcblx0Z2V0QW5kU2V0Q2hlY2tib3hTdGF0dXMoKXtcclxuXHRcdGlmKHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLmNoZWNrQm94UmVtZW1lbWJlck1lLmNoZWNrZWQgPT0gdHJ1ZSl7XHJcblx0XHRcdHRoaXMubG9naW5Nb2RlbC5zZXRDaGVja2JveFN0YXR1cygndHJ1ZScpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5sb2dpbk1vZGVsLnNldENoZWNrYm94U3RhdHVzKCdmYWxzZScpO1xyXG5cdFx0fVxyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdFx0Y2xhc3MgTG9naW5Nb2RlbCB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLnVybEFkbWluVXNlciA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FkbWluVXNlclwiO1xyXG5cdFx0dGhpcy51cmxMb2dpbiA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2xvZ2luXCI7O1xyXG5cdH1cclxuXHRcdFxyXG5cdGdldERhdGEoKSB7XHJcblx0XHRyZXR1cm4gZmV0Y2godGhpcy51cmxBZG1pblVzZXIpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG5cdFx0LnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coXCJJbml0aWFsIGRhdGEgaXMgbG9hZGVkXCIpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0fSkgICAgICAgICBcclxuXHR9XHJcblx0XHRcclxuXHRcclxuXHRnZXRDaGVja2JveFN0YXR1cygpe1xyXG5cdFx0aWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJyZW1lbWJlclwiKSA9PSBcInRydWVcIil7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblx0XHRcclxuXHR9XHJcblx0c2V0Q2hlY2tib3hTdGF0dXMoY2hlY2tlZCl7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInJlbWVtYmVyXCIsIGNoZWNrZWQgKTtcclxuXHR9XHJcblxyXG5cdGNoZWNrU2Vzc2lvbigpIHtcclxuXHRcdGxldCBjcmVkZW50aWFscyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjcmVkZW50aWFscycpO1xyXG5cdFx0aWYoY3JlZGVudGlhbHMpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fVxyXG5cdFxyXG5cdHNldFVzZXJJbmZvKG9iail7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImNyZWRlbnRpYWxzXCIgLCBKU09OLnN0cmluZ2lmeShvYmopKVxyXG5cdH07XHJcblxyXG5cdGxvZ091dCgpe1xyXG5cdFx0bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ2NyZWRlbnRpYWxzJyk7XHJcblx0fVxyXG5cclxuXHJcblx0bG9nQW5kUGFzc1ZhbGlkYXRpb24gKGNyZWRlbnRpYWxzKSB7XHJcblx0XHRsZXQgdXJsID0gdGhpcy51cmxMb2dpbjtcclxuXHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeShjcmVkZW50aWFscylcclxuXHRcdH07XHJcblx0XHRcdFxyXG5cdFx0cmV0dXJuIGZldGNoKHVybCAsIHBhcmFtcylcclxuXHRcdC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdGlmIChkYXRhLnN0YXR1cykge1xyXG5cdFx0XHRcdFx0dGhpcy5zZXRVc2VySW5mbyhjcmVkZW50aWFscylcclxuXHRcdFx0XHRcdFx0Ly9sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY3JlZGVudGlhbHMnLCBKU09OLnN0cmluZ2lmeShjcmVkZW50aWFscykpO1xyXG5cdFx0XHRcdH0gXHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9KTtcclxuXHJcblxyXG5cdH07XHJcblxyXG5cdGNoZWNrRmllbGRzIChlbWFpbCwgcGFzcyl7XHJcblx0XHRpZighZW1haWwpe3JldHVybiAnMid9XHJcblx0XHRpZighcGFzcyl7cmV0dXJuICczJ31cclxuXHRcdGlmKCF0aGlzLmNoZWNrRW1haWwoZW1haWwpKXtyZXR1cm4gJzQnfVxyXG5cdFx0aWYoIXRoaXMuY2hlY2tQYXNzd29yZChwYXNzKSl7cmV0dXJuICc1J31cclxuXHRcdGVsc2Uge3JldHVybiB0cnVlfVxyXG5cdH07XHJcblx0XHJcblx0Y2hlY2tFbWFpbCAoZW1haWwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcblx0XHRsZXQgcmVnID0gL15bXlxcc0BdK0BbXlxcc0BdK1xcLlteXFxzQF0rJC87XHJcblx0XHRyZXR1cm4gcmVnLnRlc3QoZW1haWwpO1xyXG5cdH07XHJcblx0Y2hlY2tQYXNzd29yZChwYXNzd29yZCl7XHJcblx0XHRpZihwYXNzd29yZC5sZW5ndGggPj0gOCl7XHJcblx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2UgeyBcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0XHJcblxyXG5cdHNhdmVEYXRhKGl0ZW0pIHsgICAgICAgICBcclxuXHRcdGNvbnNvbGUubG9nKFwiU2F2aW5nIGl0ZW0uLi4gXCIgKyBpdGVtLm5hbWUpO1xyXG5cdFx0bGV0IGlwaG9uZSA9IHtcclxuXHRcdFx0XCJuYW1lXCI6IFwiU2F2ZWQgaVBob25lXCIsXHJcblx0XHRcdFwicHJpY2VcIjogMTI0NTgsXHJcblx0XHRcdFwicG9wdWxhclwiOiB0cnVlLFxyXG5cdFx0XHRcImRhdGVcIjogMTQ2NzQ0MDIwM1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKFxyXG5cdFx0XHRmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHsgICAgICAgICAgICBcclxuXHRcdFx0XHRyZXNvbHZlKGlwaG9uZSk7ICAgICAgICAgIFxyXG5cdFx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHRcclxuXHR1cGRhdGVEYXRhKGNvdW50ZXIpIHtcclxuXHRcdGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgaXRlbS4uLiBcIiArIGNvdW50ZXIpO1xyXG5cdFx0bGV0IHNhbXN1bmcgPSB7XHJcblx0XHRcdFwibmFtZVwiOiBcIlNhdmVkIFNhbXN1bmdcIixcclxuXHRcdFx0XCJwcmljZVwiOiAxMjQ1OCxcclxuXHRcdFx0XCJwb3B1bGFyXCI6IHRydWUsXHJcblx0XHRcdFwiZGF0ZVwiOiAxNDY3NDQwMjAzXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHNhbXN1bmcpO1xyXG5cdH1cclxuXHRzZXRMb2NhbFN0b3JHYWxsZXJ5SW5pdFN0YXR1cyhzdGF0dXMpe1xyXG5cdFx0bG9jYWxTdG9yYWdlLmlzR2FsbGVyeUluaXRlZCA9IHN0YXR1cztcclxuXHR9XHJcblx0Y2hhbmdlTG9jYWxTdG9yTG9nZ2VkSW5TdGF0dXMoc3RhdHVzKXtcclxuXHRcdGxvY2FsU3RvcmFnZS5pc1VzZXJMb2dnZWRJbiA9IHN0YXR1cztcclxuXHR9XHJcblx0Z2V0TG9jYWxTdG9yYWdlR2FsbGVyeVN0YXR1cygpe1xyXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZS5pc0dhbGxlcnlJbml0ZWQ7XHJcblx0fVxyXG5cdGdldElzVXNlckxvZ2dlZEluKCl7XHJcblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlLmlzVXNlckxvZ2dlZEluO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tVc2VyKHVzZXJEYXRhKXtcclxuXHRcdGxldCB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2xvZ2luJztcclxuXHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRoZWFkZXJzOiB7XHJcblx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyRGF0YSlcclxuXHRcdH07XHJcblxyXG5cdFx0cmV0dXJuIGZldGNoKHVybCAsIHBhcmFtcykudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0XHRcclxuXHR9XHJcblxyXG5cdFx0XHRcclxuXHRcdFx0XHJcblx0XHRcdFxyXG59XHJcblx0XHJcbiBcclxuIiwiZXhwb3J0IGRlZmF1bHRcdGNsYXNzIExvZ2luVmlldyB7XHJcblx0Y29uc3RydWN0b3IgKCl7XHJcblx0XHR0aGlzLkRPTUVsZW1lbnRzID0ge1xyXG5cdFx0XHRzdWJtaXRCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N1Ym1pdEJ0blwiKSxcclxuXHRcdFx0Ly9lbnRlckJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW50ZXJCdG5cIiksXHJcblx0XHRcdGV4aXRCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2V4aXRCdG5cIiksXHJcblx0XHRcdGVtYWlsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dEVtYWlsXCIpLFxyXG5cdFx0XHRwYXNzd29yZCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRQYXNzd29yZFwiKSxcclxuXHRcdFx0Y2hlY2tCb3hSZW1lbWVtYmVyTWUgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0UmVtZW1iZXJcIiksXHJcblx0XHRcdFxyXG5cdFx0XHRsb2dpbkJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW5CdG5cIiksXHJcblx0XHRcdG1haW5QYWdlQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluUGFnZUJ0blwiKSxcclxuXHRcdFx0cHJvZmlsZUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZUJ0blwiKSxcclxuXHRcdFx0Z2FsbGVyeUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZ2FsbGVyeUJ0blwiKSxcclxuXHRcdFx0Y29udGFjdHNCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhY3RzQnRuXCIpLFxyXG5cdFx0XHRcclxuXHJcblx0XHRcdHNob3dVc2VyRGF0YUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2hvd1VzZXJEYXRhQnRuXCIpLFxyXG5cdFx0XHRzaG93R2FsbGVyeUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc2hvd0dhbGxlcnlCdG5cIiksXHJcblxyXG5cclxuXHRcdFx0YWxlcnRNc2cgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FsZXJ0LW1lc3NhZ2VcIiksIFxyXG5cdFx0XHRub3RGaWxsZWRFbWFpbE1zZyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbm90RmlsbGVkRW1haWxNc2dcIiksXHJcblx0XHRcdG5vdEZpbGxlZFBhc3NNc2cgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25vdEZpbGxlZFBhc3NNc2dcIiksXHJcblx0XHRcdHdyb25nRW1haWxNc2cgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3dyb25nRW1haWxNc2dcIiksXHJcblx0XHRcdHdyb25nUGFzc01zZyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd3JvbmdQYXNzTXNnXCIpXHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHRnZXRMb2dBbmRQYXNzKCl7XHJcblx0XHRsZXQgY3JlZGVudGlhbHMgPSB7XHJcblx0XHRcdFwibG9naW5cIiA6IHRoaXMuRE9NRWxlbWVudHMuZW1haWwudmFsdWUsXHJcblx0XHRcdFwicGFzc3dvcmRcIiA6IHRoaXMuRE9NRWxlbWVudHMucGFzc3dvcmQudmFsdWVcclxuXHRcdH1cclxuXHRcdHJldHVybiBjcmVkZW50aWFscztcclxuXHR9O1xyXG5cdFxyXG5cdHNob3dFcnJvck1zZyhtc2dDb2RlKXtcclxuXHRcdHN3aXRjaChtc2dDb2RlKXtcclxuXHRcdFx0Y2FzZSAnMSc6XHJcblx0XHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMuYWxlcnRNc2ddfSk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHJcblx0XHRcdGNhc2UgJzInOlxyXG5cdFx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLm5vdEZpbGxlZEVtYWlsTXNnXX0pXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcclxuXHRcdFx0Y2FzZSAnMyc6XHJcblx0XHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMubm90RmlsbGVkUGFzc01zZ119KVxyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRcdGNhc2UgJzQnOlxyXG5cdFx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLndyb25nRW1haWxNc2ddfSlcclxuXHRcdFx0YnJlYWs7XHJcblxyXG5cdFx0XHRjYXNlICc1JzpcclxuXHRcdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy53cm9uZ1Bhc3NNc2ddfSlcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRoaWRlQWxlcnRNc2dzKCl7XHJcblx0XHR0aGlzLnNob3dIaWRlKHtcImhpZGVcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLmFsZXJ0TXNnLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLm5vdEZpbGxlZEVtYWlsTXNnLCBcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5ub3RGaWxsZWRQYXNzTXNnLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLndyb25nRW1haWxNc2csXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMud3JvbmdQYXNzTXNnXX0pO1xyXG5cdH07XHJcblx0XHJcblx0XHJcblx0c2hvd0FsZXJ0TXNnKCl7XHJcblx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLmFsZXJ0TXNnXX0pXHJcblx0fVxyXG5cdHNob3dOb3RGaWxsZWRFbWFpbE1zZygpe1xyXG5cdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy5ub3RGaWxsZWRFbWFpbE1zZ119KVxyXG5cdH1cclxuXHRzaG93Tm90RmlsbGVkUGFzc3dvcmRNc2coKXtcclxuXHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMubm90RmlsbGVkUGFzc01zZ119KVxyXG5cdH1cclxuXHRzaG93QmFkTG9naW5Nc2coKXtcclxuXHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMud3JvbmdFbWFpbE1zZ119KVxyXG5cdH07XHJcblx0XHJcblx0c2hvd0JhZFBhc3N3b3JkTXNnKCl7XHJcblx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLndyb25nUGFzc01zZ119KVxyXG5cdH07XHJcblx0LypcclxuXHRtYWluUGFnZUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjbWFpblBhZ2VcIiksXHJcblx0XHRcdHByb2ZpbGVCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI3Byb2ZpbGVCdG5cIiksXHJcblx0XHRcdGdhbGxlcnlCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2dhbGxlcnlCdG5cIiksXHJcblx0XHRcdGNvbnRhY3RzQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNjb250YWN0c0J0blwiKSxcclxuXHQqL1xyXG5cdHNob3dCdXR0b25zKCl7XHJcblx0XHR0aGlzLnNob3dFbHMoW3RoaXMuRE9NRWxlbWVudHMubWFpblBhZ2VCdG4sXHJcblx0XHR0aGlzLkRPTUVsZW1lbnRzLnByb2ZpbGVCdG4sXHJcblx0XHR0aGlzLkRPTUVsZW1lbnRzLmdhbGxlcnlCdG4sXHJcblx0XHR0aGlzLkRPTUVsZW1lbnRzLmNvbnRhY3RzQnRuLFxyXG5cdFx0dGhpcy5ET01FbGVtZW50cy5leGl0QnRuXSlcclxuXHR9XHJcblx0XHJcblx0aGlkZUJ1dHRvbnMoKXtcclxuXHRcdHRoaXMuaGlkZUVscyhbdGhpcy5ET01FbGVtZW50cy5tYWluUGFnZUJ0bixcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5wcm9maWxlQnRuLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmdhbGxlcnlCdG4sXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuY29udGFjdHNCdG4sXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuZXhpdEJ0bl0pXHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdGhpZGVFbnRlckJ0bigpe1xyXG5cdFx0dGhpcy5oaWRlRWxzKFt0aGlzLkRPTUVsZW1lbnRzLmxvZ2luQnRuXSk7XHJcblx0fVxyXG5cdHNob3dFbnRlckJ0bigpe1xyXG5cdFx0dGhpcy5zaG93RWxzKFt0aGlzLkRPTUVsZW1lbnRzLmxvZ2luQnRuXSk7XHJcblx0fVxyXG5cdHNob3dIaWRlKG9iamVjdCl7ICAgIFxyXG5cdFx0Zm9yKHZhciBrZXkgaW4gb2JqZWN0KSB7IFxyXG5cdFx0XHR2YXIga2V5ID0ga2V5O1xyXG5cdFx0XHR2YXIgdmFsdWUgPSBvYmplY3Rba2V5XTsgXHJcblx0XHRcdHZhbHVlLmZvckVhY2goRE9NRWxlbSA9PiB7XHJcblx0XHRcdFx0RE9NRWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiICwgXCJoaWRlXCIpO1xyXG5cdFx0XHRcdERPTUVsZW0uY2xhc3NMaXN0LmFkZChrZXkpO1xyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdHNob3dFbHMoYXJyKXtcclxuXHRcdGFyci5mb3JFYWNoKERPTUVsZW0gPT4ge1xyXG5cdFx0XHRcdERPTUVsZW0uY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XHJcblx0XHR9KVxyXG5cdH1cclxuXHRoaWRlRWxzKGFycil7XHJcblx0XHRhcnIuZm9yRWFjaChET01FbGVtID0+IHtcclxuXHRcdFx0XHRET01FbGVtLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xyXG5cdFx0fSlcclxuXHR9XHJcblxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluQ29udHJvbGxlciB7IFxyXG4gICAgY29uc3RydWN0b3IobW9kZWwsIHZpZXcsIHV0aWxzKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlbCA9IG1vZGVsO1xyXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XHJcblx0XHRcdFx0dGhpcy51dGlscyA9IHV0aWxzO1xyXG5cdFx0XHRcdHRoaXMuaW5pdCgpO1xyXG5cdFx0XHRcdHRoaXMudXNlcnNBdmF0YXJzID0ge307XHJcblx0XHRcdFx0XHJcbiAgICB9ICAgICAgICBcclxuXHJcblx0XHJcblx0aW5pdCgpe1xyXG5cdFx0Y29uc29sZS5sb2coXCJtYWluIGluaXRlZFwiKVxyXG5cdFx0XHJcblx0XHR0aGlzLm1vZGVsLmdldFByb2ZpbGVEYXRhKCkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0dGhpcy52aWV3LnByb2ZpbGVEYXRhID0gZGF0YVswXTtcclxuXHRcdH0pOyBcdFxyXG5cdFx0dGhpcy5tb2RlbC5nZXREYXRhKCkudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHR0aGlzLnZpZXcuaW5pdChkYXRhKTtcclxuXHRcdFx0Y29uc29sZS5sb2coXCJtYWluLXBvc3RzOiBcIiwgZGF0YSlcclxuXHRcdH0pOyBcclxuXHRcdHRoaXMubW9kZWwuZ2V0QXZhdGFycygpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0dGhpcy51c2Vyc0F2YXRhcnMgPSBkYXRhO1xyXG5cdFx0fSk7IFxyXG5cdFx0dGhpcy5iaW5kRXZlbnRzKCk7XHJcblx0fVxyXG5cclxuXHRiaW5kRXZlbnRzKCl7XHJcblx0XHR0aGlzLnZpZXcuRE9NRWxlbWVudHMuYWRkUG9zdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiAsIHRoaXMuYWRkUG9zdC5iaW5kKHRoaXMpKVxyXG5cdFx0XHJcblx0fVxyXG5cdFxyXG5cdGFkZFBvc3QgKCl7XHJcblx0XHRsZXQgYXV0aG9yTmV3UG9zdCA9IFx0dGhpcy52aWV3LkRPTUVsZW1lbnRzLmF1dGhvck5ld1Bvc3QudmFsdWU7XHJcblx0XHRsZXQgdGV4dE5ld1Bvc3QgPSB0aGlzLnZpZXcuRE9NRWxlbWVudHMudGV4dE5ld1Bvc3QudmFsdWU7XHJcblx0XHRsZXQgbmV3RGF0ZSA9IG1vbWVudCgpO1xyXG5cdFx0bGV0IGF2YXRhciA9IHRoaXMuY2hvb3NlQXZhdGFyKHRoaXMudmlldy5ET01FbGVtZW50cy5hdXRob3JOZXdQb3N0LnZhbHVlICwgdGhpcy51c2Vyc0F2YXRhcnMpO1xyXG5cdFx0bGV0IHJlID0gL1xccysvO1xyXG5cdFx0XHJcblx0XHRsZXQgbmV3SW1hZ2UgPSB0aGlzLnZpZXcuRE9NRWxlbWVudHMubmV3SW1hZ2UudmFsdWUuc3BsaXQocmUpOztcclxuXHRcdC8vbGV0IG5hbWVMaXN0ID0gbmFtZXMuc3BsaXQocmUpO1xyXG5cclxuXHRcdFxyXG5cdFx0XHJcblx0XHRsZXQgcG9zdERhdGEgPSB7XHJcblx0XHRcdFwibmFtZVwiIDogYXV0aG9yTmV3UG9zdCxcclxuXHRcdFx0XCJkYXRlXCIgOiBuZXdEYXRlLFxyXG5cdFx0XHRcInVybFwiIDogYXZhdGFyLFxyXG5cdFx0XHRcInRleHRcIjogdGV4dE5ld1Bvc3QsIFxyXG5cdFx0XHRcImltYWdlc1wiIDogbmV3SW1hZ2VcclxuXHRcdH1cclxuXHRcdGNvbnNvbGUubG9nKFwicG9zdERhdGFcIiwgcG9zdERhdGEpXHJcblx0XHR0aGlzLm1vZGVsLnNhdmVQb3N0KHBvc3REYXRhKVxyXG5cdH07XHJcblxyXG5cdGNob29zZUF2YXRhcih2YWx1ZSAsIG9iail7XHJcblx0XHRjb25zb2xlLmxvZyhcInVzZXJBdmV0YXJzXCIsIG9iailcclxuXHRcdGZvcihsZXQga2V5IGluIG9iail7XHJcblx0XHRcdGlmIChrZXkgPT0gdmFsdWUpe1xyXG5cdFx0XHRcdHJldHVybiBvYmpba2V5XTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHQvLyBpZih2YWx1ZSA9PSBcIkpvaG55XCIpe3JldHVybiBcImltZy9hdmF0YXItZGhnLnBuZ1wifVxyXG5cdFx0Ly8gaWYodmFsdWUgPT0gXCJHYXJyeVwiKXtyZXR1cm4gXCJpbWcvYXZhdGFyLWZhdC5qcGdcIn1cclxuXHRcdC8vIGlmKHZhbHVlID09IFwiSmFjb2IgVGhvcm50b25cIil7cmV0dXJuIFwiaW1nL2F2YXRhci1tZG8ucG5nXCJ9XHJcblx0XHQvLyBpZih2YWx1ZSA9PSBcIkNhcmxvc1wiKXtyZXR1cm4gXCJpbWcvc2N1bGwuanBnXCJ9XHJcblx0fTtcclxuXHJcblx0Ly8ge1xyXG5cdC8vIFx0XHRcIkpvaG55XCIgOiBcImltZy9hdmF0YXItZGhnLnBuZ1wiLFxyXG5cdC8vIFx0XCJHYXJyeVwiIDogXCJpbWcvYXZhdGFyLWZhdC5qcGdcIixcclxuXHQvLyBcdFwiSmFjb2IgVGhvcm50b25cIiA6IFwiaW1nL2F2YXRhci1tZG8ucG5nXCIsXHJcblx0Ly8gXHRcIkNhcmxvc1wiIDogXCJpbWcvc2N1bGwuanBnXCJcclxuXHQvLyB9XHJcblxyXG5cclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFpbk1vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0XHR0aGlzLmdldFVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvcG9zdHMnO1xyXG5cdFx0XHR0aGlzLmF2YXRhcnNVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F2YXRhcnMnOyBcclxuXHRcdFx0dGhpcy5wcm9maWxlVXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9maWxlJzsgXHJcbiAgICB9XHJcblxyXG5cdFx0Z2V0RGF0YSgpIHtcclxuXHRcdFx0cmV0dXJuIGZldGNoKHRoaXMuZ2V0VXJsKS50aGVuKHJlc3BvbmNlID0+IHJlc3BvbmNlLmpzb24oKSlcclxuXHRcdFx0LnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIkdhbGxlcnkgaXMgbG9hZGVkXCIpO1xyXG5cdFx0XHRcdFx0dGhpcy51c2Vyc0xpc3REYXRhID0gZGF0YTtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9KSAgICAgICAgIFxyXG5cdH1cclxuXHJcblx0Z2V0QXZhdGFycygpe1xyXG5cdFx0cmV0dXJuIGZldGNoKHRoaXMuYXZhdGFyc1VybCkudGhlbihyZXNwb25jZSA9PiByZXNwb25jZS5qc29uKCkpXHJcblx0fVxyXG5cclxuXHRnZXRQcm9maWxlRGF0YSgpe1xyXG5cdFx0cmV0dXJuIGZldGNoKHRoaXMucHJvZmlsZVVybCkudGhlbihyZXNwb25jZSA9PiByZXNwb25jZS5qc29uKCkpXHJcblx0fVxyXG5cclxuXHRzYXZlUG9zdChwb3N0RGF0YSl7XHJcblx0XHRsZXQgdXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvcG9zdHNcIjtcclxuXHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcclxuXHRcdFx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KHBvc3REYXRhKVxyXG5cdFx0fTtcclxuXHRcdHJldHVybiBmZXRjaCh1cmwgLCBwYXJhbXMpLnRoZW4ocmVzcG9uY2UgPT4gcmVzcG9uY2UuanNvbigpKVxyXG5cdFx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwic2F2ZWQgcG9zdFwiICwgZGF0YSlcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHR9KSAgIFxyXG5cdH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluVmlldyB7ICAgICAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuRE9NRWxlbWVudHMgPSB7XHJcblx0XHRcdFx0XHRyZXN1bHRCbG9jayA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmVzdWx0LW1haW5cIiksXHJcblx0XHRcdFx0XHRhZGROZXdQb3N0SW5wdXQgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZE5ld1Bvc3RJbnB1dFwiKSxcclxuXHRcdFx0XHRcdGFkZE5ld0Zvcm0gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm0tYWRkLW5ld1wiKSxcclxuXHRcdFx0XHRcdGFkZFBvc3RCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZFBvc3RuQnRuXCIpLFxyXG5cdFx0XHRcdFx0Ly9uYW1lTmV3UG9zdCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LW5hbWVcIiksXHJcblx0XHRcdFx0XHRhdXRob3JOZXdQb3N0IDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctcG9zdC1hdXRob3JcIiksXHJcblx0XHRcdFx0XHR0ZXh0TmV3UG9zdCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LXRleHRcIiksXHJcblx0XHRcdFx0XHRuZXdJbWFnZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3LWltYWdlXCIpLFxyXG5cdFx0XHRcdFx0ZW1wdHlzcGFjZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpLFxyXG5cdFx0XHRcdFx0d2VudFRvTGluayA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd2VudFRvXCIpLFxyXG5cdFx0XHRcdFx0ZnJpZW5kc1dpdGhMaW5rIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmcmllbmRzV2l0aFwiKSxcclxuXHRcdFx0XHRcdHdvcmtlZEF0TGluayA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd29ya2VkQXRcIiksXHJcblx0XHRcdFx0XHRsaXZlc0luTGluayA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGl2ZXNJblwiKSxcclxuXHRcdFx0XHRcdGZyb21MaW5rIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmcm9tXCIpLFxyXG5cdFx0XHRcdFx0Ly9mcmllbmRzV2l0aExpbmsgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZyaWVuZHNXaXRoXCIpLFxyXG5cclxuXHRcdFx0XHR9OyBcclxuXHRcdFx0XHR0aGlzLnV0aWxzID0gdXRpbHM7ICAgIFxyXG5cdFx0XHRcdHRoaXMucmVhZHlEYXRhID0gW107XHJcblx0XHRcdFx0dGhpcy5wcm9maWxlRGF0YSA9IHt9O1xyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpbml0KGRhdGEpe1xyXG5cdFx0XHR0aGlzLmluaXRMaXN0ZW5lcnMoKTtcclxuXHRcdFx0dGhpcy5yZWZyZXNoUG9zdHMoZGF0YSk7XHJcblx0XHRcdHRoaXMuZmlsbEFib3V0KHRoaXMucHJvZmlsZURhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGluaXRMaXN0ZW5lcnMoKXtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5hZGROZXdQb3N0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIgLCB0aGlzLnNob3dGb3JtRm9yQWRkaW5nLmJpbmQodGhpcykpXHJcblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiAsIHRoaXMuaGlkZUZvcm1Gb3JBZGRpbmcuYmluZCh0aGlzKSlcclxuXHRcdH1cclxuXHJcblx0XHRzaG93Rm9ybUZvckFkZGluZyhldmVudCl7XHJcblx0XHRcdGlmKGV2ZW50LnRhcmdldC5pZCA9PSBcImFkZE5ld1Bvc3RJbnB1dFwiKXtcclxuXHRcdFx0XHQvL3RoaXMuY2xlYXJGb3JtRm9yQWRkKCk7XHJcblx0XHRcdFx0dGhpcy51dGlscy5zaG93RWwodGhpcy5ET01FbGVtZW50cy5hZGROZXdGb3JtKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGhpZGVGb3JtRm9yQWRkaW5nKGV2ZW50KXtcclxuXHRcdFx0aWYoZXZlbnQudGFyZ2V0LmlkID09IFwiZW1wdHlzcGFjZVwiKXtcclxuXHRcdFx0XHR0aGlzLmNsZWFyRm9ybUZvckFkZCgpO1xyXG5cdFx0XHRcdHRoaXMudXRpbHMuaGlkZUVsKHRoaXMuRE9NRWxlbWVudHMuYWRkTmV3Rm9ybSk7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRjbGVhckZvcm1Gb3JBZGQoKXtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5hdXRob3JOZXdQb3N0LnZhbHVlID0gXCJcIjtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy50ZXh0TmV3UG9zdC52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubmV3SW1hZ2UudmFsdWUgPSBcIlwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlZnJlc2hQb3N0cyhkYXRhKXtcclxuXHRcdFx0dGhpcy5yZWFkeURhdGEgPSBkYXRhO1xyXG5cdFx0XHR0aGlzLmJpdWxkVmlldyh0aGlzLnJlYWR5RGF0YSk7XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHJcblx0XHRiaXVsZFZpZXcgKHJlYWR5RGF0YSl7ICBcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5yZXN1bHRCbG9jay5pbm5lckhUTUwgPSBcIlwiO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gcmVhZHlEYXRhLmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pIHsgICAgXHJcblx0XHRcdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnJlc3VsdEJsb2NrLmlubmVySFRNTCArPSB0aGlzLmNyZWF0ZVBvc3QocmVhZHlEYXRhW2ldKTsgXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblxyXG5cdFx0Y3JlYXRlUG9zdCAoaXRlbSkge1xyXG5cdFx0XHRsZXQgaW1ncyA9IGBgO1xyXG5cdFx0XHRpdGVtLmltYWdlcy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG5cdFx0XHRcdGltZ3MgKz0gXHJcblx0XHRcdFx0XHRgPGltZyBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jazsgIG1hcmdpbjogMTBweDsgdmVydGljYWwtYWxpZ246IGJvdHRvbTtcIiBkYXRhLXdpZHRoPVwiNjQwXCIgZGF0YS1oZWlnaHQ9XCI2NDBcIiBkYXRhLWFjdGlvbj1cInpvb21cIiBzcmM9XCIke2VsZW1lbnR9XCI+XHJcblx0XHRcdFx0YFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0XHRyZXR1cm4gXHRgPGxpIGNsYXNzPVwicnYgYiBhZ3pcIj5cclxuXHRcdFx0PGltZyBjbGFzcz1cImJvcyB2YiB5YiBhZmZcIiAgc3JjPSAke2l0ZW0udXJsfT5cclxuXHRcdFx0PGRpdiBjbGFzcz1cInJ3XCI+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImJwZFwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJwYlwiPlxyXG5cdFx0XHRcdFx0XHQ8c21hbGwgY2xhc3M9XCJhY3ggYXhjXCI+JHtpdGVtLmRhdGV9PC9zbWFsbD5cclxuXHRcdFx0XHRcdFx0PGg2PiR7aXRlbS5uYW1lfTwvaDY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDxwIGNsYXNzPVwidGV4dC1sZWZ0XCI+JHtpdGVtLnRleHR9PC9wPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJveVwiIGRhdGEtZ3JpZD1cImltYWdlc1wiPiR7aW1nc308L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdDwvbGk+YFxyXG5cdFx0fTtcclxuXHJcblx0XHRmaWxsQWJvdXQob2JqKXtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy53ZW50VG9MaW5rLmlubmVySFRNTCA9IG9iai53ZW50VG87XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuZnJpZW5kc1dpdGhMaW5rLmlubmVySFRNTCA9IG9iai5mcmllbmRzO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLndvcmtlZEF0TGluay5pbm5lckhUTUwgPSBvYmoud29ya1BsYWNlO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmxpdmVzSW5MaW5rLmlubmVySFRNTCA9IG9iai5jb3VudHJ5O1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmZyb21MaW5rLmlubmVySFRNTCA9IG9iai5zdGF0ZTtcclxuXHRcdH1cclxuXHJcbi8qXHJcbntcclxuICAgICAgXCJuYW1lXCI6IFwiRGF2ZVwiLFxyXG4gICAgICBcImxhc3ROYW1lXCI6IFwiR2FtYWNoZVwiLFxyXG4gICAgICBcInVzZXJOYW1lXCI6IFwiUmVhY2h5XCIsXHJcbiAgICAgIFwiZW1haWxcIjogXCJkYXZlLmdhbWFjaGVAZ21haWwuY29tXCIsXHJcbiAgICAgIFwiYWRyZXNzXCI6IFwiRmlyc3QgYXZlLCBibGQgMTIsIGFwcCAzXCIsXHJcbiAgICAgIFwiYWRyZXNzMlwiOiBcImhvc3RlbFwiLHN0YXRlXHJcbiAgICAgIFwid29ya1BsYWNlXCI6IFwiR2l0aHViXCIsXHJcbiAgICAgIFwiY291bnRyeVwiOiBcIkNhbmFkYVwiLFxyXG4gICAgICBcIlwiOiBcIlRvcm9udG9cIixcclxuICAgICAgXCJ6aXBcIjogXCIyMjMzMjJcIixcclxuICAgICAgXCJmcmllbmRzXCI6IFwiT2JhbWFcIlxyXG4gICAgfVxyXG4qL1xyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9maWxlQ29udHJvbGxlciB7IFxyXG5cdGNvbnN0cnVjdG9yKG1vZGVsLCB2aWV3LCB1dGlscykge1xyXG5cdFx0XHR0aGlzLm1vZGVsID0gbW9kZWw7XHJcblx0XHRcdHRoaXMudmlldyA9IHZpZXc7XHJcblx0XHRcdHRoaXMudXRpbHMgPSB1dGlscztcclxuXHRcdFx0dGhpcy5pbml0KCk7XHJcblx0XHRcdFxyXG5cdH1cclxuICAgXHJcblx0XHRpbml0KCl7XHJcblx0XHRjb25zb2xlLmxvZyhcInByb2ZpbGUgaW5pdGVkXCIpO1xyXG4gICAgICAgIHRoaXMubW9kZWwuZ2V0UHJvZmlsZURhdGEoKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIC8vdGhpcy5pbml0TGlzdGVuZXJzKClcclxuICAgICAgICAgICAgdGhpcy52aWV3LmluaXQoZGF0YSk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5pc0xhc3RQYWdlKCk7XHJcbiAgICAgICAgfSk7IFx0XHJcblx0fVxyXG4gICAgXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2ZpbGVNb2RlbCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdFx0dGhpcy51cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wcm9maWxlXCJcclxuICAgIH1cclxuXHJcblx0XHRnZXRQcm9maWxlRGF0YSgpe1xyXG5cdFx0XHRyZXR1cm4gZmV0Y2godGhpcy51cmwpLnRoZW4ocmVzcG9uY2UgPT4gcmVzcG9uY2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJQcm9maWxlRGF0YSBpcyBsb2FkZWRcIik7XHJcblx0XHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuICAgICAgICB9KSBcclxuXHRcdH1cclxuXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmlsZVZpZXcgeyAgICAgICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkRPTUVsZW1lbnRzID0ge1xyXG5cdFx0XHRcdFx0Zmlyc3ROYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmaXJzdE5hbWVcIiksXHJcblx0XHRcdFx0XHRsYXN0TmFtZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGFzdE5hbWVcIiksXHJcblx0XHRcdFx0XHR1c2VyTmFtZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdXNlcm5hbWVcIiksXHJcblx0XHRcdFx0XHRlbWFpbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZW1haWxQcm9maWxlXCIpLFxyXG5cdFx0XHRcdFx0YWRkcmVzcyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkcmVzc1Byb2ZpbGVcIiksXHJcblx0XHRcdFx0XHRhZGRyZXNzMiA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkcmVzczJQcm9maWxlXCIpLFxyXG5cdFx0XHRcdFx0Y291bnRyeSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY291bnRyeVByb2ZpbGVcIiksXHJcblx0XHRcdFx0XHRzdGF0ZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3RhdGVQcm9maWxlXCIpLFx0XHJcblx0XHRcdFx0XHR6aXAgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3ppcFwiKVxyXG4gICAgICAgIH07ICAgICBcclxuICAgICAgICB0aGlzLnJlYWR5RGF0YTtcclxuICAgIH1cclxuXHJcblx0XHRpbml0KGRhdGEpe1xyXG5cdFx0XHR0aGlzLnJlYWR5RGF0YSA9IGRhdGFbMF07XHJcblx0XHRcdHRoaXMuYnVpbGRWaWV3KHRoaXMucmVhZHlEYXRhKTtcclxuXHRcdH1cclxuXHJcblx0XHRidWlsZFZpZXcoZGF0YSl7XHJcblx0XHRcdGNvbnNvbGUubG9nKHRoaXMuRE9NRWxlbWVudHMpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5maXJzdE5hbWUudmFsdWUgPSBkYXRhLm5hbWU7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubGFzdE5hbWUudmFsdWUgPSBkYXRhLmxhc3ROYW1lO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnVzZXJOYW1lLnZhbHVlID0gZGF0YS51c2VyTmFtZTtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5lbWFpbC52YWx1ZSA9IGRhdGEuZW1haWw7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuYWRkcmVzcy52YWx1ZSA9IGRhdGEuYWRyZXNzO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmFkZHJlc3MyLnZhbHVlID0gZGF0YS5hZHJlc3MyO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmNvdW50cnkudmFsdWUgPSBkYXRhLmNvdW50cnk7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuc3RhdGUudmFsdWUgPSBkYXRhLnN0YXRlO1x0XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuemlwLnZhbHVlID0gZGF0YS56aXA7XHJcblx0XHR9XHJcbiAgICBcclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGFjdHNDb250cm9sbGVyIHsgXHJcblx0Y29uc3RydWN0b3IobW9kZWwsIHZpZXcsIHV0aWxzKSB7XHJcblx0XHRcdHRoaXMubW9kZWwgPSBtb2RlbDtcclxuXHRcdFx0dGhpcy52aWV3ID0gdmlldztcclxuXHRcdFx0dGhpcy51dGlscyA9IHV0aWxzO1xyXG5cdFx0XHR0aGlzLmluaXQoKTtcclxuXHRcdFx0XHJcblx0fVxyXG5cdCBcdFxyXG5cdGluaXQoKXtcclxuXHRcdGNvbnNvbGUubG9nKFwiY29udGFjdHMgaW5pdGVkXCIpO1xyXG5cdFx0dGhpcy52aWV3LmluaXQoKTtcclxuXHRcdHRoaXMuaW5pdExpc3RlbmVycygpO1xyXG5cdFx0dGhpcy5tb2RlbC5nZXREYXRhKCkudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMudmlldy5idWlsZFdhbGwoZGF0YSk7XHJcblx0XHR9KTsgXHRcclxuXHQgfVxyXG5cdCBcclxuXHQgaW5pdExpc3RlbmVycygpe1xyXG5cdFx0dGhpcy52aWV3LkRPTUVsZW1lbnRzLnNlbmRJbmZvQlROLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiICwgdGhpcy5zZW5kSW5mby5iaW5kKHRoaXMpKVxyXG5cdH1cclxuXHJcblx0c2VuZEluZm8oKXtcclxuXHRcdGxldCBvYmogPSB7XHJcblx0XHRcdG5hbWUgOiB0aGlzLnZpZXcuRE9NRWxlbWVudHMubmFtZS52YWx1ZSxcclxuXHRcdFx0ZW1haWwgOiB0aGlzLnZpZXcuRE9NRWxlbWVudHMuZW1haWwudmFsdWUsXHJcblx0XHRcdHBob25lIDogdGhpcy52aWV3LkRPTUVsZW1lbnRzLnBob25lLnZhbHVlLFxyXG5cdFx0XHRtc2cgOiB0aGlzLnZpZXcuRE9NRWxlbWVudHMubXNnLnZhbHVlLFxyXG5cdFx0XHRkYXRlOiBtb21lbnQoKVxyXG5cdFx0fVxyXG5cdFx0Y29uc29sZS5sb2cob2JqKTtcclxuXHRcdHRoaXMubW9kZWwuc2F2ZU1zZyhvYmopO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRhY3RzTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblx0XHRcdHRoaXMudXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvd2FsbFwiXHJcbiAgICB9XHJcblxyXG5cdFx0Z2V0RGF0YSgpe1xyXG5cdFx0XHRyZXR1cm4gZmV0Y2godGhpcy51cmwpLnRoZW4ocmVzcG9uY2UgPT4gcmVzcG9uY2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSkgXHJcblx0XHR9XHJcblxyXG5cdFx0c2F2ZU1zZyhvYmope1xyXG5cdFx0XHRjb25zb2xlLmxvZyhvYmopO1xyXG5cdFx0XHRsZXQgdXJsID0gdGhpcy51cmw7XHJcblx0XHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkob2JqKVxyXG5cdH07XHJcblxyXG5cdFx0cmV0dXJuIGZldGNoKHVybCAsIHBhcmFtcykudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcblxyXG5cdFx0fVxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250YWN0c1ZpZXcgeyAgICAgICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkRPTUVsZW1lbnRzID0ge1xyXG5cdFx0XHRcdFx0Z29vZ2xlTWFwIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnb29nbGVNYXBcIiksXHJcblx0XHRcdFx0XHRuYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250YWN0c05hbWVcIiksXHJcblx0XHRcdFx0XHRlbWFpbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFjdHNFbWFpbFwiKSxcclxuXHRcdFx0XHRcdHBob25lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250YWN0c1RlbFwiKSxcclxuXHRcdFx0XHRcdG1zZyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFjdHNNZXNzYWdlXCIpLFxyXG5cdFx0XHRcdFx0c2VuZEluZm9CVE4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlbmRJbmZvQlROXCIpLFxyXG5cdFx0XHRcdFx0d2FsbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd2FsbFwiKSxcclxuXHRcdFx0XHRcdC8vIGxhc3ROYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsYXN0TmFtZVwiKSxcclxuXHRcdFx0XHRcdC8vIGFkZHJlc3MgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZHJlc3NQcm9maWxlXCIpLFxyXG5cdFx0XHRcdFx0Ly8gYWRkcmVzczIgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZHJlc3MyUHJvZmlsZVwiKSxcclxuXHRcdFx0XHRcdC8vIGNvdW50cnkgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvdW50cnlQcm9maWxlXCIpLFxyXG5cdFx0XHRcdFx0Ly8gc3RhdGUgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N0YXRlUHJvZmlsZVwiKSxcdFxyXG5cdFx0XHRcdFx0Ly8gemlwIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN6aXBcIilcclxuICAgICAgICB9OyAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG5cdFx0aW5pdCgpe1xyXG5cdFx0XHR0aGlzLmJ1aWxkR29vZ2xlTWFwKCk7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0XHJcblxyXG5cdFx0YnVpbGRHb29nbGVNYXAoKXtcclxuXHRcdFx0dmFyIG1hcENhbnZhcyA9IHRoaXMuRE9NRWxlbWVudHMuZ29vZ2xlTWFwO1xyXG4gIFx0XHR2YXIgbWFwT3B0aW9ucyA9IHtcclxuICAgIFx0XHRjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoNDMuNiwgLTc5LjMpLCB6b29tOiA4XHJcbiAgXHRcdH07XHJcbiAgXHRcdHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcENhbnZhcywgbWFwT3B0aW9ucyk7XHJcblx0XHR9XHJcblxyXG5cdFx0YnVpbGRXYWxsKGRhdGEpe1xyXG5cdFx0XHRsZXQgd2FsbERhdGEgPSBkYXRhO1xyXG5cdFx0XHRjb25zb2xlLmxvZyh3YWxsRGF0YSk7XHJcblx0XHRcdGZvciAobGV0IGkgPSB3YWxsRGF0YS5sZW5ndGggLTE7IGkgPj0gMDsgaS0tKSB7ICAgIFxyXG5cdFx0XHRcdHRoaXMuRE9NRWxlbWVudHMud2FsbC5pbm5lckhUTUwgKz0gdGhpcy5jcmVhdGVXYWxsSXRlbSh3YWxsRGF0YVtpXSk7IFxyXG5cdFx0fVxyXG5cdFx0XHQvL3RoaXMuRE9NRWxlbWVudHMud2FsbC5pbm5lckhUTUwgKz0gZGF0YTtcclxuXHRcdH1cclxuXHJcblx0XHRjcmVhdGVXYWxsSXRlbShpdGVtKXtcclxuXHRcdFx0cmV0dXJuIFx0YDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIiBpZCA9ICR7aXRlbS5pZH0+XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIndhbGwtaXRlbVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzID1cImNvbC1tZC00XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtbGVmdFwiPjxiPlVzZXI8L2I+OiAke2l0ZW0ubmFtZX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC1sZWZ0XCI+PGI+RW1haWw8L2I+OiAke2l0ZW0uZW1haWx9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtbGVmdFwiPjxiPlBob25lPC9iPjogJHtpdGVtLnBob25lfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LWxlZnRcIj48Yj5EYXRlPC9iPjogJHtpdGVtLmRhdGV9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC1sZWZ0IGNvbC1tZC04XCI+IDxzdHJvbmc+JHtpdGVtLm1zZ308L3N0cm9uZz48L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PGhyIGNsYXNzPVwibWItNFwiPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PmA7XHJcblx0XHR9XHJcbiAgICBcclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXRpbHMge1xuXG4gICAgY29uc3RydWN0b3IoKXtcblx0XHRcdFxuXG4gICAgICAgIHRoaXMuc29ydGluZ0NvbmZpZyA9IHtcbiAgICAgICAgICAgXCJBXCI6IHBhZ2UgPT4ge1xuICAgICAgICAgICAgICAgIHBhZ2Uuc29ydCgoYSwgYikgPT57XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmVtYWlsID4gYi5lbWFpbCA/IDEgOiAtMTtcbiAgICAgICAgICAgICAgICB9KTsgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhZ2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJaXCI6IHBhZ2UgPT4ge1xuICAgICAgICAgICAgICAgIHBhZ2Uuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5lbWFpbCA8IGIuZW1haWwgPyAxIDogLTE7O1xuICAgICAgICAgICAgICAgIH0pOyBcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcIkFkbWluXCI6IHBhZ2UgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlLmZpbHRlcigoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5yb2xlID09IFwiQWRtaW5cIjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiVXNlclwiOiBwYWdlID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFnZS5maWx0ZXIoKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ucm9sZSA9PSBcIlVzZXJcIjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiRmluZFwiOiBwYWdlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZXhwID0gbmV3IFJlZ0V4cChldmVudC50YXJnZXQudmFsdWUsIFwiaVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBwYWdlLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV4cC50ZXN0KGl0ZW0ubmFtZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXHRcdH1cblx0XHRcblx0XHRzdGF0aWMgaW5pdFRlbXBsYXRlKHdyYXBwZXJFbCwgdGVtcGxhdGVJZCkge1xuXHRcdFx0dmFyIHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7dGVtcGxhdGVJZH1gKTtcblx0XHRcdHZhciBjbG9uID0gdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0XHR3cmFwcGVyRWwuaW5uZXJIVE1MID0gJyc7XG5cdFx0XHR3cmFwcGVyRWwuYXBwZW5kQ2hpbGQoY2xvbik7XG5cdFx0fVxuXG4gICAgc3RhdGljIHNob3dWaWV3KHZpZXdzKSB7XG4gICAgICAgIHZpZXdzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgaGlkZVZpZXcodmlld3MpIHtcbiAgICAgICAgdmlld3MuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBuYXZpZ2F0ZVRvKHJvdXRlTmFtZSkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaGFzaD0gXCIjXCIgKyByb3V0ZU5hbWU7XG4gICAgfVxuXG4gICAgLy8gc3RhdGljIGlzTG9nZ2VkSW4oKSB7XG4gICAgLy8gICAgIGxldCBjcmVkZW50aWFscyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NyZWRlbnRpYWxzJykpO1xuICAgIC8vICAgICByZXR1cm4gISFjcmVkZW50aWFscztcbiAgICAvLyB9XG5cdFx0c3RhdGljIGlzTG9nZ2VkSW4oKSB7XG4gICAgICAgIC8vbGV0IGNyZWRlbnRpYWxzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY3JlZGVudGlhbHMnKSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXHRcdHN0YXRpYyBhY3RpdmF0ZUJ0bihidG5zKXtcblx0XHRcdFx0YnRucy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG4gICAgICAgIH0pO1xuXHRcdH1cblx0XHRzdGF0aWMgZGlzYWN0aXZhdGVCdG4oYnRucyl7XG5cdFx0XHRcdGJ0bnMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuICAgICAgICB9KTtcblx0XHR9XG5cdFx0c3RhdGljIHNob3dIaWRlKG9iamVjdCl7ICAgIFxuXHRcdFx0Zm9yKHZhciBrZXkgaW4gb2JqZWN0KSB7IFxuXHRcdFx0XHRcdHZhciBrZXkgPSBrZXk7XG5cdFx0XHRcdFx0dmFyIHZhbHVlID0gb2JqZWN0W2tleV07IFxuXHRcdFx0XHRcdHZhbHVlLmZvckVhY2goRE9NRWxlbSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRET01FbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIgLCBcImhpZGVcIik7XG5cdFx0XHRcdFx0XHRcdFx0XHRET01FbGVtLmNsYXNzTGlzdC5hZGQoa2V5KTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0fVxuXHRcdH07XG5cbiBcdFx0c3RhdGljIHNob3dFbChlbCl7ICAgIFxuXHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZShcImhpZGVcIik7XG5cdFx0fTtcblx0XHRzdGF0aWMgaGlkZUVsKGVsKXsgICAgXG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcblx0XHR9O1xuXG5cbn1cbiIsImltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCBPYnNlcnZlciBmcm9tICcuL2dhbGxlcnkvb2JzZXJ2ZXIuanMnO1xuXG5pbXBvcnQgTG9naW5Db250cm9sbGVyIGZyb20gJy4vbG9naW4vbG9naW4uY29udHJvbGxlci5qcyc7XG5pbXBvcnQgTG9naW5Nb2RlbCBmcm9tICcuL2xvZ2luL2xvZ2luLm1vZGVsLmpzJztcbmltcG9ydCBMb2dpblZpZXcgZnJvbSAnLi9sb2dpbi9sb2dpbi52aWV3LmpzJztcblxuaW1wb3J0XHRNYWluTW9kZWwgZnJvbVx0Jy4vbWFpblBhZ2UvbWFpbi5tb2RlbC5qcyc7XG5pbXBvcnRcdE1haW5WaWV3IGZyb21cdCcuL21haW5QYWdlL21haW4udmlldy5qcyc7XG5pbXBvcnRcdE1haW5Db250cm9sbGVyIGZyb21cdCcuL21haW5QYWdlL21haW4uY29udHJvbGxlci5qcyc7XG5cbmltcG9ydCBQcm9maWxlQ29udHJvbGxlciBmcm9tICcuL3Byb2ZpbGUvcHJvZmlsZS5jb250cm9sbGVyLmpzJztcbmltcG9ydCBQcm9maWxlTW9kZWwgZnJvbSAnLi9wcm9maWxlL3Byb2ZpbGUubW9kZWwuanMnO1xuaW1wb3J0IFByb2ZpbGVWaWV3IGZyb20gJy4vcHJvZmlsZS9wcm9maWxlLnZpZXcuanMnO1xuXG5cbmltcG9ydCBHYWxsZXJ5Q29udHJvbGxlciBmcm9tICcuL2dhbGxlcnkvZ2FsbGVyeS5jb250cm9sbGVyLmpzJztcbmltcG9ydCBHYWxsZXJ5TW9kZWwgZnJvbSAnLi9nYWxsZXJ5L2dhbGxlcnkubW9kZWwuanMnO1xuaW1wb3J0IEdhbGxlcnlWaWV3IGZyb20gJy4vZ2FsbGVyeS9nYWxsZXJ5LnZpZXcuanMnO1xuXG5pbXBvcnQgQ29udGFjdHNDb250cm9sbGVyIGZyb20gJy4vY29udGFjdHMvY29udGFjdHMuY29udHJvbGxlci5qcyc7XG5pbXBvcnQgQ29udGFjdHNNb2RlbCBmcm9tICcuL2NvbnRhY3RzL2NvbnRhY3RzLm1vZGVsLmpzJztcbmltcG9ydCBDb250YWN0c1ZpZXcgZnJvbSAnLi9jb250YWN0cy9jb250YWN0cy52aWV3LmpzJztcblxuXG5cbmxldCBsb2dpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4tdmlld1wiKTtcbmxldCBtYWluUGFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWFpbi12aWV3XCIpO1xubGV0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdmlld1wiKTtcbmxldCBnYWxsZXJ5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYWxsZXJ5LXZpZXdcIik7XG5cblxubGV0IG1haW5QYWdlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYWluUGFnZUJ0blwiKTtcbmxldCBwcm9maWxlQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlQnRuXCIpO1xubGV0IGdhbGxlcnlCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2dhbGxlcnlCdG5cIik7XG4vL2xldCBsb2dpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbG9naW4tdmlld1wiKTtcbi8vbGV0IGNvbnRhY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvbnRhY3Qtdmlld1wiKTtcblxuY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd3JhcHBlclwiKTtcblxubGV0IHJvdXRlQ29uZmlnID0ge1xuICAgIFwiXCIgOiAoKSA9PiB7XG4gICAgICAgIHV0aWxzLmluaXRUZW1wbGF0ZSh3cmFwcGVyLCBcImxvZ2luLXZpZXdcIik7XG4gICAgICAgIGxldCBtb2RlbCA9IG5ldyBMb2dpbk1vZGVsO1xuICAgICAgICBsZXQgdmlldyA9IG5ldyBMb2dpblZpZXc7XG4gICAgICAgIG5ldyBMb2dpbkNvbnRyb2xsZXIobW9kZWwsIHZpZXcsIHV0aWxzKTtcblx0XHR9LFxuXHRcdFwibWFpblBhZ2VcIjogKCkgPT4ge1xuXHRcdFx0dXRpbHMuaW5pdFRlbXBsYXRlKHdyYXBwZXIsIFwibWFpblBhZ2Utdmlld1wiKTtcblx0XHRcdGxldCBtb2RlbCA9IG5ldyBNYWluTW9kZWwoKTtcblx0XHRcdGxldCB2aWV3ID0gbmV3IE1haW5WaWV3KHV0aWxzKTtcblx0XHRcdG5ldyBNYWluQ29udHJvbGxlcihtb2RlbCwgdmlldywgdXRpbHMpXG5cdFx0fSxcblx0XHRcInByb2ZpbGVcIiA6ICgpID0+IHtcblx0XHRcdHV0aWxzLmluaXRUZW1wbGF0ZSh3cmFwcGVyLCBcInByb2ZpbGUtdmlld1wiKTtcblx0XHRcdGxldCBtb2RlbCA9IG5ldyBQcm9maWxlTW9kZWw7XG5cdFx0XHRsZXQgdmlldyA9IG5ldyBQcm9maWxlVmlldztcblx0XHRcdG5ldyBQcm9maWxlQ29udHJvbGxlcihtb2RlbCwgdmlldywgbmV3IHV0aWxzKVxuXHRcdH0sXG4gICAgXCJnYWxsZXJ5XCIgOiAoKSA9PiB7XG4gICAgICAgIHV0aWxzLmluaXRUZW1wbGF0ZSh3cmFwcGVyLCBcImdhbGxlcnktdmlld1wiKTtcbiAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyO1xuICAgICAgICBsZXQgbW9kZWwgPSBuZXcgR2FsbGVyeU1vZGVsO1xuICAgICAgICBsZXQgdmlldyA9IG5ldyBHYWxsZXJ5Vmlldyh1dGlscyk7XG4gICAgICAgIG5ldyBHYWxsZXJ5Q29udHJvbGxlcihtb2RlbCwgdmlldywgb2JzZXJ2ZXIsIG5ldyB1dGlscylcbiAgICB9LFxuICAgIFwiY29udGFjdHNcIiA6ICgpID0+IHtcbiAgICAgICAgdXRpbHMuaW5pdFRlbXBsYXRlKHdyYXBwZXIsIFwiY29udGFjdC12aWV3XCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRhY3RzIHJvdXRlIGlzIGxvYWRlZFwiKVxuXHRcdFx0XHRsZXQgbW9kZWwgPSBuZXcgQ29udGFjdHNNb2RlbDtcblx0XHRcdFx0bGV0IHZpZXcgPSBuZXcgQ29udGFjdHNWaWV3O1xuXHRcdFx0XHRuZXcgQ29udGFjdHNDb250cm9sbGVyKG1vZGVsLCB2aWV3LCBuZXcgdXRpbHMpXG4gICAgfVxufVxuXG5mdW5jdGlvbiBhY3RpdmF0ZVJvdXRlKHJvdXRlTmFtZSl7XG4gICAgbGV0IHJvdXRlID0gcm91dGVDb25maWdbcm91dGVOYW1lXTtcbiAgICByb3V0ZSAmJiByb3V0ZSgpOyAgICBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVJvdXRlKCkge1xuICAgIGxldCByb3V0ZU5hbWUgPSBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoL14jLywgJycpO1xuICAgIGlmKHJvdXRlTmFtZSAmJiAhdXRpbHMuaXNMb2dnZWRJbigpKSB7XG4gICAgICAgIHV0aWxzLm5hdmlnYXRlVG8oXCJcIik7IFxuICAgIH0gZWxzZSB7XG4gICAgICAgIGFjdGl2YXRlUm91dGUocm91dGVOYW1lKTtcbiAgICB9XG5cbi8vIGxldCBhY3RpdmF0ZWRSb3V0ZXMgPSB7fTtcblxuLy8gbGV0IHJvdXRlQ29uZmlnID0ge1xuLy8gICAgIFwibWFpblBhZ2VcIiA6IHtcbi8vICAgICAgICAgc2hvdyA6ICgpID0+IHtcbi8vIFx0XHRcdFx0XHRcdFV0aWxzLnNob3dWaWV3KFttYWluUGFnZV0pO1xuLy8gICAgICAgICAgICAgVXRpbHMuaGlkZVZpZXcoW3Byb2ZpbGUsIGdhbGxlcnldKTtcbi8vIFx0XHRcdFx0XHRcdFV0aWxzLmFjdGl2YXRlQnRuKFttYWluUGFnZUJ0bl0pO1xuLy8gXHRcdFx0XHRcdFx0VXRpbHMuZGlzYWN0aXZhdGVCdG4oW3Byb2ZpbGVCdG4sIGdhbGxlcnlCdG5dKTtcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgaW5pdCA6ICgpID0+IHtcbi8vICAgICAgICAgICAgIGxldCBtb2RlbCA9IG5ldyBNYWluTW9kZWw7XG4vLyAgICAgICAgICAgICBsZXQgdmlldyA9IG5ldyBNYWluVmlldztcbi8vIFx0XHRcdFx0XHRcdGxldCB1dGlscyA9IG5ldyBVdGlscztcbi8vICAgICAgICAgICAgIGxldCBtYWluQ29udGVyb2xsZXIgPSBuZXcgTWFpbkNvbnRyb2xsZXIobW9kZWwsIHZpZXcsIHV0aWxzKTtcbi8vIFx0XHRcdFx0XHRcdG1haW5Db250ZXJvbGxlci5pbml0KCk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9LFxuLy8gICAgIFwicHJvZmlsZVwiIDoge1xuLy8gICAgICAgICBzaG93IDogKCkgPT4ge1xuLy8gICAgICAgICAgICAgVXRpbHMuc2hvd1ZpZXcoW3Byb2ZpbGVdKTtcbi8vICAgICAgICAgICAgIFV0aWxzLmhpZGVWaWV3KFttYWluUGFnZSwgZ2FsbGVyeV0pO1xuLy8gXHRcdFx0XHRcdFx0VXRpbHMuYWN0aXZhdGVCdG4oW3Byb2ZpbGVCdG5dKTtcbi8vIFx0XHRcdFx0XHRcdFV0aWxzLmRpc2FjdGl2YXRlQnRuKFttYWluUGFnZUJ0biwgZ2FsbGVyeUJ0bl0pO1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb250YWN0cyByb3V0ZSBpcyBsb2FkZWRcIilcbi8vICAgICAgICAgfSxcbi8vICAgICAgICAgaW5pdCA6ICgpID0+IHtcbi8vICAgICAgICAgICAgIGxldCBtb2RlbCA9IG5ldyBQcm9maWxlTW9kZWw7XG4vLyAgICAgICAgICAgICBsZXQgdmlldyA9IG5ldyBQcm9maWxlVmlldztcbi8vIFx0XHRcdFx0XHRcdGxldCB1dGlscyA9IG5ldyBVdGlscztcbi8vICAgICAgICAgICAgIG5ldyBQcm9maWxlQ29udHJvbGxlcihtb2RlbCwgdmlldywgdXRpbHMpXG4vLyAgICAgICAgIH1cbi8vICAgICB9LFxuLy8gICAgIFwiZ2FsbGVyeVwiIDoge1xuLy8gICAgICAgICBzaG93IDogKCkgPT4ge1xuLy8gICAgICAgICAgICAgVXRpbHMuc2hvd1ZpZXcoW2dhbGxlcnldKTtcbi8vICAgICAgICAgICAgIFV0aWxzLmhpZGVWaWV3KFttYWluUGFnZSwgcHJvZmlsZV0pO1xuLy8gXHRcdFx0XHRcdFx0VXRpbHMuYWN0aXZhdGVCdG4oW2dhbGxlcnlCdG5dKTtcbi8vIFx0XHRcdFx0XHRcdFV0aWxzLmRpc2FjdGl2YXRlQnRuKFttYWluUGFnZUJ0biwgcHJvZmlsZUJ0bl0pO1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coXCJNYWluIHJvdXRlIGlzIGxvYWRlZFwiKVxuLy8gICAgICAgICB9LFxuLy8gICAgICAgICBpbml0IDogKCkgPT4ge1xuLy8gICAgICAgICAgICAgbGV0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyO1xuLy8gICAgICAgICAgICAgbGV0IG1vZGVsID0gbmV3IEdhbGxlcnlNb2RlbDtcbi8vICAgICAgICAgICAgIGxldCB2aWV3ID0gbmV3IEdhbGxlcnlWaWV3O1xuLy8gICAgICAgICAgICAgbmV3IEdhbGxlcnlDb250cm9sbGVyKG1vZGVsLCB2aWV3LCBvYnNlcnZlciwgbmV3IFV0aWxzKVxuLy8gICAgICAgICB9XG4vLyAgICAgfVxuLy8gfVxuXG4vLyBmdW5jdGlvbiBhY3RpdmF0ZVJvdXRlKHJvdXRlTmFtZSl7XG4vLyAgICAgaWYgKGFjdGl2YXRlZFJvdXRlc1tyb3V0ZU5hbWVdKSB7XG4vLyAgICAgICAgIGFjdGl2YXRlZFJvdXRlc1tyb3V0ZU5hbWVdKCk7XG4vLyAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgbGV0IHJvdXRlID0gcm91dGVDb25maWdbcm91dGVOYW1lXTtcbi8vICAgICAgICAgaWYgKHJvdXRlKSB7XG4vLyAgICAgICAgICAgICByb3V0ZS5pbml0KCk7XG4vLyAgICAgICAgICAgICByb3V0ZS5zaG93KCk7XG4vLyAgICAgICAgICAgICBhY3RpdmF0ZWRSb3V0ZXNbcm91dGVOYW1lXSA9IHJvdXRlLnNob3c7XG4vLyAgICAgICAgIH1cbi8vICAgICB9IFxuLy8gfVxuXG4vLyBleHBvcnQgZnVuY3Rpb24gdXBkYXRlUm91dGUoKSB7XG4vLyAgICAgbGV0IHJvdXRlTmFtZSA9IGRvY3VtZW50LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgvXiMvLCAnJyk7XG4vLyAgICAgaWYocm91dGVOYW1lICYmICFVdGlscy5pc0xvZ2dlZEluKCkpIHtcbi8vICAgICAgICAgVXRpbHMubmF2aWdhdGVUbyhcIlwiKTsgXG4vLyAgICAgfSBlbHNlIHtcbi8vICAgICAgICAgYWN0aXZhdGVSb3V0ZShyb3V0ZU5hbWUpO1xuLy8gICAgIH1cbiAgICBcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIExvZ2luQ29udHJvbGxlciB7IFxyXG5cdGNvbnN0cnVjdG9yKG1vZGVsLCB2aWV3LCB1dGlscykge1xyXG5cdFx0dGhpcy5sb2dpbk1vZGVsID0gbW9kZWw7XHJcblx0XHR0aGlzLmxvZ2luVmlldyA9IHZpZXc7XHJcblx0XHR0aGlzLnV0aWxzID0gdXRpbHM7XHJcblx0XHR0aGlzLmluaXQoKTtcclxuXHRcdC8vdGhpcy51cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9sb2dpbi9cIlxyXG5cdH0gICAgXHJcblxyXG5cdGluaXQoKSB7XHJcblx0XHQvL3RoaXMubG9naW5WaWV3LmhpZGVCdXR0b25zKCk7XHJcblx0XHR0aGlzLmZpbGxTdGFydFBhZ2VVc2VyRGF0YSgpO1xyXG5cdFx0dGhpcy5iaW5kRXZlbnRzKCk7XHJcblxyXG5cdH1cclxuXHJcblx0ZmlsbFN0YXJ0UGFnZVVzZXJEYXRhICgpe1xyXG5cdFx0bGV0IGNoZWNrQm94U3RhdHVzID0gdGhpcy5sb2dpbk1vZGVsLmdldENoZWNrYm94U3RhdHVzKCk7XHJcblx0XHRpZiAoY2hlY2tCb3hTdGF0dXMgPT0gdHJ1ZSl7XHJcblx0XHRcdHRoaXMubG9naW5Nb2RlbC5nZXREYXRhKCkudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHR0aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5jaGVja0JveFJlbWVtZW1iZXJNZS5jaGVja2VkID0gdHJ1ZTtcdFxyXG5cdFx0XHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLmVtYWlsLnZhbHVlID0gZGF0YS5sb2dpbjsgICAgXHJcblx0XHRcdFx0dGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMucGFzc3dvcmQudmFsdWUgPSBkYXRhLnBhc3N3b3JkO1xyXG5cdFx0XHR9KVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0dGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuY2hlY2tCb3hSZW1lbWVtYmVyTWUuY2hlY2tlZCA9IGZhbHNlO1x0XHJcblx0XHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLmVtYWlsLnZhbHVlID0gXCJcIjtcclxuXHRcdFx0dGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMucGFzc3dvcmQudmFsdWUgPSBcIlwiO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0XHRcclxuXHRiaW5kRXZlbnRzKCkge1xyXG5cdFx0Ly90aGlzLmxvZ2luVmlldy5ET01FbGVtZW50cy5lbnRlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5pbml0VmFsaWRhdGlvbi5iaW5kKHRoaXMpKTtcclxuXHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLnN1Ym1pdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5pbml0VmFsaWRhdGlvbi5iaW5kKHRoaXMpKTtcclxuXHRcdHRoaXMubG9naW5WaWV3LkRPTUVsZW1lbnRzLmV4aXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaW5pdExvZ091dC5iaW5kKHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdGluaXRWYWxpZGF0aW9uKGV2ZW50KXtcclxuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRpZihldmVudC50YXJnZXQuaWQgPT0gJ3N1Ym1pdEJ0bicpe1xyXG5cdFx0XHR0aGlzLmxvZ2luVmlldy5oaWRlQWxlcnRNc2dzKCk7XHJcblx0XHRcdGxldCBjcmVkZW50aWFscyA9IHRoaXMubG9naW5WaWV3LmdldExvZ0FuZFBhc3MoKTtcclxuXHRcdFx0bGV0IHZhbGlkUmVzdWx0ID0gdGhpcy5sb2dpbk1vZGVsLmNoZWNrRmllbGRzIChjcmVkZW50aWFscy5sb2dpbiwgY3JlZGVudGlhbHMucGFzc3dvcmQpO1xyXG5cdFx0XHRpZih2YWxpZFJlc3VsdCA9PSB0cnVlKXtcclxuXHRcdFx0XHR0aGlzLmxvZ2luTW9kZWwubG9nQW5kUGFzc1ZhbGlkYXRpb24oY3JlZGVudGlhbHMpXHJcblx0XHRcdFx0LnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0XHRpZiAoZGF0YS5zdGF0dXMpIHtcclxuXHRcdFx0XHRcdFx0dGhpcy5nZXRBbmRTZXRDaGVja2JveFN0YXR1cygpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLnV0aWxzLm5hdmlnYXRlVG8oXCJtYWluUGFnZVwiKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5sb2dpblZpZXcuc2hvd0J1dHRvbnMoKTtcclxuXHRcdFx0XHRcdFx0dGhpcy5sb2dpblZpZXcuaGlkZUVudGVyQnRuKCk7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdHRoaXMubG9naW5WaWV3LnNob3dFcnJvck1zZyhcIjFcIilcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmxvZ2luVmlldy5zaG93RXJyb3JNc2codmFsaWRSZXN1bHQpXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0aW5pdExvZ091dCgpe1xyXG5cdFx0dGhpcy5sb2dpbk1vZGVsLmxvZ091dCgpO1xyXG5cdFx0dGhpcy5sb2dpblZpZXcuaGlkZUJ1dHRvbnMoKTtcclxuXHRcdHRoaXMubG9naW5WaWV3LnNob3dFbnRlckJ0bigpO1xyXG5cdFx0dGhpcy51dGlscy5uYXZpZ2F0ZVRvKFwiXCIpO1xyXG5cdFx0dGhpcy5nZXRBbmRTZXRDaGVja2JveFN0YXR1cygpO1xyXG5cdH1cclxuXHRnZXRBbmRTZXRDaGVja2JveFN0YXR1cygpe1xyXG5cdFx0aWYodGhpcy5sb2dpblZpZXcuRE9NRWxlbWVudHMuY2hlY2tCb3hSZW1lbWVtYmVyTWUuY2hlY2tlZCA9PSB0cnVlKXtcclxuXHRcdFx0dGhpcy5sb2dpbk1vZGVsLnNldENoZWNrYm94U3RhdHVzKCd0cnVlJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aGlzLmxvZ2luTW9kZWwuc2V0Q2hlY2tib3hTdGF0dXMoJ2ZhbHNlJyk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0XHRjbGFzcyBMb2dpbk1vZGVsIHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMudXJsQWRtaW5Vc2VyID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvYWRtaW5Vc2VyXCI7XHJcblx0XHR0aGlzLnVybExvZ2luID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvbG9naW5cIjs7XHJcblx0fVxyXG5cdFx0XHJcblx0Z2V0RGF0YSgpIHtcclxuXHRcdHJldHVybiBmZXRjaCh0aGlzLnVybEFkbWluVXNlcikudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRjb25zb2xlLmxvZyhcIkluaXRpYWwgZGF0YSBpcyBsb2FkZWRcIik7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZGF0YSk7XHJcblx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9KSAgICAgICAgIFxyXG5cdH1cclxuXHRcdFxyXG5cdFxyXG5cdGdldENoZWNrYm94U3RhdHVzKCl7XHJcblx0XHRpZihsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInJlbWVtYmVyXCIpID09IFwidHJ1ZVwiKXtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHRcdFxyXG5cdH1cclxuXHRzZXRDaGVja2JveFN0YXR1cyhjaGVja2VkKXtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwicmVtZW1iZXJcIiwgY2hlY2tlZCApO1xyXG5cdH1cclxuXHJcblx0Y2hlY2tTZXNzaW9uKCkge1xyXG5cdFx0bGV0IGNyZWRlbnRpYWxzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NyZWRlbnRpYWxzJyk7XHJcblx0XHRpZihjcmVkZW50aWFscykge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHR9XHJcblx0XHJcblx0c2V0VXNlckluZm8ob2JqKXtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiY3JlZGVudGlhbHNcIiAsIEpTT04uc3RyaW5naWZ5KG9iaikpXHJcblx0fTtcclxuXHJcblx0bG9nT3V0KCl7XHJcblx0XHRsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnY3JlZGVudGlhbHMnKTtcclxuXHR9XHJcblxyXG5cclxuXHRsb2dBbmRQYXNzVmFsaWRhdGlvbiAoY3JlZGVudGlhbHMpIHtcclxuXHRcdGxldCB1cmwgPSB0aGlzLnVybExvZ2luO1xyXG5cdFx0bGV0IHBhcmFtcyA9IHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcblx0XHRcdH0sXHJcblx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxzKVxyXG5cdFx0fTtcclxuXHRcdFx0XHJcblx0XHRyZXR1cm4gZmV0Y2godXJsICwgcGFyYW1zKVxyXG5cdFx0LnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG5cdFx0LnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0aWYgKGRhdGEuc3RhdHVzKSB7XHJcblx0XHRcdFx0XHR0aGlzLnNldFVzZXJJbmZvKGNyZWRlbnRpYWxzKVxyXG5cdFx0XHRcdFx0XHQvL2xvY2FsU3RvcmFnZS5zZXRJdGVtKCdjcmVkZW50aWFscycsIEpTT04uc3RyaW5naWZ5KGNyZWRlbnRpYWxzKSk7XHJcblx0XHRcdFx0fSBcclxuXHRcdFx0XHRyZXR1cm4gZGF0YTtcclxuXHRcdH0pO1xyXG5cclxuXHJcblx0fTtcclxuXHJcblx0Y2hlY2tGaWVsZHMgKGVtYWlsLCBwYXNzKXtcclxuXHRcdGlmKCFlbWFpbCl7cmV0dXJuICcyJ31cclxuXHRcdGlmKCFwYXNzKXtyZXR1cm4gJzMnfVxyXG5cdFx0aWYoIXRoaXMuY2hlY2tFbWFpbChlbWFpbCkpe3JldHVybiAnNCd9XHJcblx0XHRpZighdGhpcy5jaGVja1Bhc3N3b3JkKHBhc3MpKXtyZXR1cm4gJzUnfVxyXG5cdFx0ZWxzZSB7cmV0dXJuIHRydWV9XHJcblx0fTtcclxuXHRcclxuXHRjaGVja0VtYWlsIChlbWFpbCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuXHRcdGxldCByZWcgPSAvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLztcclxuXHRcdHJldHVybiByZWcudGVzdChlbWFpbCk7XHJcblx0fTtcclxuXHRjaGVja1Bhc3N3b3JkKHBhc3N3b3JkKXtcclxuXHRcdGlmKHBhc3N3b3JkLmxlbmd0aCA+PSA4KXtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gZWxzZSB7IFxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0fTtcclxuXHRcclxuXHJcblx0c2F2ZURhdGEoaXRlbSkgeyAgICAgICAgIFxyXG5cdFx0Y29uc29sZS5sb2coXCJTYXZpbmcgaXRlbS4uLiBcIiArIGl0ZW0ubmFtZSk7XHJcblx0XHRsZXQgaXBob25lID0ge1xyXG5cdFx0XHRcIm5hbWVcIjogXCJTYXZlZCBpUGhvbmVcIixcclxuXHRcdFx0XCJwcmljZVwiOiAxMjQ1OCxcclxuXHRcdFx0XCJwb3B1bGFyXCI6IHRydWUsXHJcblx0XHRcdFwiZGF0ZVwiOiAxNDY3NDQwMjAzXHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoXHJcblx0XHRcdGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkgeyAgICAgICAgICAgIFxyXG5cdFx0XHRcdHJlc29sdmUoaXBob25lKTsgICAgICAgICAgXHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblx0fVxyXG5cdFxyXG5cdHVwZGF0ZURhdGEoY291bnRlcikge1xyXG5cdFx0Y29uc29sZS5sb2coXCJVcGRhdGluZyBpdGVtLi4uIFwiICsgY291bnRlcik7XHJcblx0XHRsZXQgc2Ftc3VuZyA9IHtcclxuXHRcdFx0XCJuYW1lXCI6IFwiU2F2ZWQgU2Ftc3VuZ1wiLFxyXG5cdFx0XHRcInByaWNlXCI6IDEyNDU4LFxyXG5cdFx0XHRcInBvcHVsYXJcIjogdHJ1ZSxcclxuXHRcdFx0XCJkYXRlXCI6IDE0Njc0NDAyMDNcclxuXHRcdH1cclxuXHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUoc2Ftc3VuZyk7XHJcblx0fVxyXG5cdHNldExvY2FsU3RvckdhbGxlcnlJbml0U3RhdHVzKHN0YXR1cyl7XHJcblx0XHRsb2NhbFN0b3JhZ2UuaXNHYWxsZXJ5SW5pdGVkID0gc3RhdHVzO1xyXG5cdH1cclxuXHRjaGFuZ2VMb2NhbFN0b3JMb2dnZWRJblN0YXR1cyhzdGF0dXMpe1xyXG5cdFx0bG9jYWxTdG9yYWdlLmlzVXNlckxvZ2dlZEluID0gc3RhdHVzO1xyXG5cdH1cclxuXHRnZXRMb2NhbFN0b3JhZ2VHYWxsZXJ5U3RhdHVzKCl7XHJcblx0XHRyZXR1cm4gbG9jYWxTdG9yYWdlLmlzR2FsbGVyeUluaXRlZDtcclxuXHR9XHJcblx0Z2V0SXNVc2VyTG9nZ2VkSW4oKXtcclxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2UuaXNVc2VyTG9nZ2VkSW47XHJcblx0fVxyXG5cclxuXHRjaGVja1VzZXIodXNlckRhdGEpe1xyXG5cdFx0bGV0IHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvbG9naW4nO1xyXG5cdFx0bGV0IHBhcmFtcyA9IHtcclxuXHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcblx0XHRcdH0sXHJcblx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KHVzZXJEYXRhKVxyXG5cdFx0fTtcclxuXHJcblx0XHRyZXR1cm4gZmV0Y2godXJsICwgcGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHRcdFxyXG5cdH1cclxuXHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0XHJcbn1cclxuXHRcclxuIFxyXG4iLCJleHBvcnQgZGVmYXVsdFx0Y2xhc3MgTG9naW5WaWV3IHtcclxuXHRjb25zdHJ1Y3RvciAoKXtcclxuXHRcdHRoaXMuRE9NRWxlbWVudHMgPSB7XHJcblx0XHRcdHN1Ym1pdEJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3VibWl0QnRuXCIpLFxyXG5cdFx0XHQvL2VudGVyQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbnRlckJ0blwiKSxcclxuXHRcdFx0ZXhpdEJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZXhpdEJ0blwiKSxcclxuXHRcdFx0ZW1haWwgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0RW1haWxcIiksXHJcblx0XHRcdHBhc3N3b3JkIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbnB1dFBhc3N3b3JkXCIpLFxyXG5cdFx0XHRjaGVja0JveFJlbWVtZW1iZXJNZSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW5wdXRSZW1lbWJlclwiKSxcclxuXHRcdFx0XHJcblx0XHRcdGxvZ2luQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsb2dpbkJ0blwiKSxcclxuXHRcdFx0bWFpblBhZ2VCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21haW5QYWdlQnRuXCIpLFxyXG5cdFx0XHRwcm9maWxlQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlQnRuXCIpLFxyXG5cdFx0XHRnYWxsZXJ5QnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnYWxsZXJ5QnRuXCIpLFxyXG5cdFx0XHRjb250YWN0c0J0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFjdHNCdG5cIiksXHJcblx0XHRcdFxyXG5cclxuXHRcdFx0c2hvd1VzZXJEYXRhQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzaG93VXNlckRhdGFCdG5cIiksXHJcblx0XHRcdHNob3dHYWxsZXJ5QnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzaG93R2FsbGVyeUJ0blwiKSxcclxuXHJcblxyXG5cdFx0XHRhbGVydE1zZyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWxlcnQtbWVzc2FnZVwiKSwgXHJcblx0XHRcdG5vdEZpbGxlZEVtYWlsTXNnIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNub3RGaWxsZWRFbWFpbE1zZ1wiKSxcclxuXHRcdFx0bm90RmlsbGVkUGFzc01zZyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbm90RmlsbGVkUGFzc01zZ1wiKSxcclxuXHRcdFx0d3JvbmdFbWFpbE1zZyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd3JvbmdFbWFpbE1zZ1wiKSxcclxuXHRcdFx0d3JvbmdQYXNzTXNnIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3cm9uZ1Bhc3NNc2dcIilcclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cdGdldExvZ0FuZFBhc3MoKXtcclxuXHRcdGxldCBjcmVkZW50aWFscyA9IHtcclxuXHRcdFx0XCJsb2dpblwiIDogdGhpcy5ET01FbGVtZW50cy5lbWFpbC52YWx1ZSxcclxuXHRcdFx0XCJwYXNzd29yZFwiIDogdGhpcy5ET01FbGVtZW50cy5wYXNzd29yZC52YWx1ZVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIGNyZWRlbnRpYWxzO1xyXG5cdH07XHJcblx0XHJcblx0c2hvd0Vycm9yTXNnKG1zZ0NvZGUpe1xyXG5cdFx0c3dpdGNoKG1zZ0NvZGUpe1xyXG5cdFx0XHRjYXNlICcxJzpcclxuXHRcdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy5hbGVydE1zZ119KTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcclxuXHRcdFx0Y2FzZSAnMic6XHJcblx0XHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMubm90RmlsbGVkRW1haWxNc2ddfSlcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRcdFxyXG5cdFx0XHRjYXNlICczJzpcclxuXHRcdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy5ub3RGaWxsZWRQYXNzTXNnXX0pXHJcblx0XHRcdGJyZWFrO1xyXG5cclxuXHRcdFx0Y2FzZSAnNCc6XHJcblx0XHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMud3JvbmdFbWFpbE1zZ119KVxyXG5cdFx0XHRicmVhaztcclxuXHJcblx0XHRcdGNhc2UgJzUnOlxyXG5cdFx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLndyb25nUGFzc01zZ119KVxyXG5cdFx0XHRicmVhaztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGhpZGVBbGVydE1zZ3MoKXtcclxuXHRcdHRoaXMuc2hvd0hpZGUoe1wiaGlkZVwiIDogW3RoaXMuRE9NRWxlbWVudHMuYWxlcnRNc2csXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubm90RmlsbGVkRW1haWxNc2csIFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLm5vdEZpbGxlZFBhc3NNc2csXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMud3JvbmdFbWFpbE1zZyxcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy53cm9uZ1Bhc3NNc2ddfSk7XHJcblx0fTtcclxuXHRcclxuXHRcclxuXHRzaG93QWxlcnRNc2coKXtcclxuXHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMuYWxlcnRNc2ddfSlcclxuXHR9XHJcblx0c2hvd05vdEZpbGxlZEVtYWlsTXNnKCl7XHJcblx0XHR0aGlzLnNob3dIaWRlKHtcInNob3dcIiA6IFt0aGlzLkRPTUVsZW1lbnRzLm5vdEZpbGxlZEVtYWlsTXNnXX0pXHJcblx0fVxyXG5cdHNob3dOb3RGaWxsZWRQYXNzd29yZE1zZygpe1xyXG5cdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy5ub3RGaWxsZWRQYXNzTXNnXX0pXHJcblx0fVxyXG5cdHNob3dCYWRMb2dpbk1zZygpe1xyXG5cdFx0dGhpcy5zaG93SGlkZSh7XCJzaG93XCIgOiBbdGhpcy5ET01FbGVtZW50cy53cm9uZ0VtYWlsTXNnXX0pXHJcblx0fTtcclxuXHRcclxuXHRzaG93QmFkUGFzc3dvcmRNc2coKXtcclxuXHRcdHRoaXMuc2hvd0hpZGUoe1wic2hvd1wiIDogW3RoaXMuRE9NRWxlbWVudHMud3JvbmdQYXNzTXNnXX0pXHJcblx0fTtcclxuXHQvKlxyXG5cdG1haW5QYWdlQnRuIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNtYWluUGFnZVwiKSxcclxuXHRcdFx0cHJvZmlsZUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjcHJvZmlsZUJ0blwiKSxcclxuXHRcdFx0Z2FsbGVyeUJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIjZ2FsbGVyeUJ0blwiKSxcclxuXHRcdFx0Y29udGFjdHNCdG4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI2NvbnRhY3RzQnRuXCIpLFxyXG5cdCovXHJcblx0c2hvd0J1dHRvbnMoKXtcclxuXHRcdHRoaXMuc2hvd0VscyhbdGhpcy5ET01FbGVtZW50cy5tYWluUGFnZUJ0bixcclxuXHRcdHRoaXMuRE9NRWxlbWVudHMucHJvZmlsZUJ0bixcclxuXHRcdHRoaXMuRE9NRWxlbWVudHMuZ2FsbGVyeUJ0bixcclxuXHRcdHRoaXMuRE9NRWxlbWVudHMuY29udGFjdHNCdG4sXHJcblx0XHR0aGlzLkRPTUVsZW1lbnRzLmV4aXRCdG5dKVxyXG5cdH1cclxuXHRcclxuXHRoaWRlQnV0dG9ucygpe1xyXG5cdFx0dGhpcy5oaWRlRWxzKFt0aGlzLkRPTUVsZW1lbnRzLm1haW5QYWdlQnRuLFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnByb2ZpbGVCdG4sXHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuZ2FsbGVyeUJ0bixcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5jb250YWN0c0J0bixcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5leGl0QnRuXSlcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0aGlkZUVudGVyQnRuKCl7XHJcblx0XHR0aGlzLmhpZGVFbHMoW3RoaXMuRE9NRWxlbWVudHMubG9naW5CdG5dKTtcclxuXHR9XHJcblx0c2hvd0VudGVyQnRuKCl7XHJcblx0XHR0aGlzLnNob3dFbHMoW3RoaXMuRE9NRWxlbWVudHMubG9naW5CdG5dKTtcclxuXHR9XHJcblx0c2hvd0hpZGUob2JqZWN0KXsgICAgXHJcblx0XHRmb3IodmFyIGtleSBpbiBvYmplY3QpIHsgXHJcblx0XHRcdHZhciBrZXkgPSBrZXk7XHJcblx0XHRcdHZhciB2YWx1ZSA9IG9iamVjdFtrZXldOyBcclxuXHRcdFx0dmFsdWUuZm9yRWFjaChET01FbGVtID0+IHtcclxuXHRcdFx0XHRET01FbGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIgLCBcImhpZGVcIik7XHJcblx0XHRcdFx0RE9NRWxlbS5jbGFzc0xpc3QuYWRkKGtleSk7XHJcblx0XHRcdH0pXHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0c2hvd0VscyhhcnIpe1xyXG5cdFx0YXJyLmZvckVhY2goRE9NRWxlbSA9PiB7XHJcblx0XHRcdFx0RE9NRWxlbS5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcclxuXHRcdH0pXHJcblx0fVxyXG5cdGhpZGVFbHMoYXJyKXtcclxuXHRcdGFyci5mb3JFYWNoKERPTUVsZW0gPT4ge1xyXG5cdFx0XHRcdERPTUVsZW0uY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XHJcblx0XHR9KVxyXG5cdH1cclxuXHJcblxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5Db250cm9sbGVyIHsgXHJcbiAgICBjb25zdHJ1Y3Rvcihtb2RlbCwgdmlldywgdXRpbHMpIHtcclxuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWw7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcclxuXHRcdFx0XHR0aGlzLnV0aWxzID0gdXRpbHM7XHJcblx0XHRcdFx0dGhpcy5pbml0KCk7XHJcblx0XHRcdFx0dGhpcy51c2Vyc0F2YXRhcnMgPSB7fTtcclxuXHRcdFx0XHRcclxuICAgIH0gICAgICAgIFxyXG5cclxuXHRcclxuXHRpbml0KCl7XHJcblx0XHRjb25zb2xlLmxvZyhcIm1haW4gaW5pdGVkXCIpXHJcblx0XHRcclxuXHRcdHRoaXMubW9kZWwuZ2V0UHJvZmlsZURhdGEoKS50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHR0aGlzLnZpZXcucHJvZmlsZURhdGEgPSBkYXRhWzBdO1xyXG5cdFx0fSk7IFx0XHJcblx0XHR0aGlzLm1vZGVsLmdldERhdGEoKS50aGVuKChkYXRhKSA9PiB7XHJcblx0XHRcdHRoaXMudmlldy5pbml0KGRhdGEpO1xyXG5cdFx0XHRjb25zb2xlLmxvZyhcIm1haW4tcG9zdHM6IFwiLCBkYXRhKVxyXG5cdFx0fSk7IFxyXG5cdFx0dGhpcy5tb2RlbC5nZXRBdmF0YXJzKClcclxuXHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHR0aGlzLnVzZXJzQXZhdGFycyA9IGRhdGE7XHJcblx0XHR9KTsgXHJcblx0XHR0aGlzLmJpbmRFdmVudHMoKTtcclxuXHR9XHJcblxyXG5cdGJpbmRFdmVudHMoKXtcclxuXHRcdHRoaXMudmlldy5ET01FbGVtZW50cy5hZGRQb3N0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiICwgdGhpcy5hZGRQb3N0LmJpbmQodGhpcykpXHJcblx0XHRcclxuXHR9XHJcblx0XHJcblx0YWRkUG9zdCAoKXtcclxuXHRcdGxldCBhdXRob3JOZXdQb3N0ID0gXHR0aGlzLnZpZXcuRE9NRWxlbWVudHMuYXV0aG9yTmV3UG9zdC52YWx1ZTtcclxuXHRcdGxldCB0ZXh0TmV3UG9zdCA9IHRoaXMudmlldy5ET01FbGVtZW50cy50ZXh0TmV3UG9zdC52YWx1ZTtcclxuXHRcdGxldCBuZXdEYXRlID0gbW9tZW50KCk7XHJcblx0XHRsZXQgYXZhdGFyID0gdGhpcy5jaG9vc2VBdmF0YXIodGhpcy52aWV3LkRPTUVsZW1lbnRzLmF1dGhvck5ld1Bvc3QudmFsdWUgLCB0aGlzLnVzZXJzQXZhdGFycyk7XHJcblx0XHRsZXQgcmUgPSAvXFxzKy87XHJcblx0XHRcclxuXHRcdGxldCBuZXdJbWFnZSA9IHRoaXMudmlldy5ET01FbGVtZW50cy5uZXdJbWFnZS52YWx1ZS5zcGxpdChyZSk7O1xyXG5cdFx0Ly9sZXQgbmFtZUxpc3QgPSBuYW1lcy5zcGxpdChyZSk7XHJcblxyXG5cdFx0XHJcblx0XHRcclxuXHRcdGxldCBwb3N0RGF0YSA9IHtcclxuXHRcdFx0XCJuYW1lXCIgOiBhdXRob3JOZXdQb3N0LFxyXG5cdFx0XHRcImRhdGVcIiA6IG5ld0RhdGUsXHJcblx0XHRcdFwidXJsXCIgOiBhdmF0YXIsXHJcblx0XHRcdFwidGV4dFwiOiB0ZXh0TmV3UG9zdCwgXHJcblx0XHRcdFwiaW1hZ2VzXCIgOiBuZXdJbWFnZVxyXG5cdFx0fVxyXG5cdFx0Y29uc29sZS5sb2coXCJwb3N0RGF0YVwiLCBwb3N0RGF0YSlcclxuXHRcdHRoaXMubW9kZWwuc2F2ZVBvc3QocG9zdERhdGEpXHJcblx0fTtcclxuXHJcblx0Y2hvb3NlQXZhdGFyKHZhbHVlICwgb2JqKXtcclxuXHRcdGNvbnNvbGUubG9nKFwidXNlckF2ZXRhcnNcIiwgb2JqKVxyXG5cdFx0Zm9yKGxldCBrZXkgaW4gb2JqKXtcclxuXHRcdFx0aWYgKGtleSA9PSB2YWx1ZSl7XHJcblx0XHRcdFx0cmV0dXJuIG9ialtrZXldO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdC8vIGlmKHZhbHVlID09IFwiSm9obnlcIil7cmV0dXJuIFwiaW1nL2F2YXRhci1kaGcucG5nXCJ9XHJcblx0XHQvLyBpZih2YWx1ZSA9PSBcIkdhcnJ5XCIpe3JldHVybiBcImltZy9hdmF0YXItZmF0LmpwZ1wifVxyXG5cdFx0Ly8gaWYodmFsdWUgPT0gXCJKYWNvYiBUaG9ybnRvblwiKXtyZXR1cm4gXCJpbWcvYXZhdGFyLW1kby5wbmdcIn1cclxuXHRcdC8vIGlmKHZhbHVlID09IFwiQ2FybG9zXCIpe3JldHVybiBcImltZy9zY3VsbC5qcGdcIn1cclxuXHR9O1xyXG5cclxuXHQvLyB7XHJcblx0Ly8gXHRcdFwiSm9obnlcIiA6IFwiaW1nL2F2YXRhci1kaGcucG5nXCIsXHJcblx0Ly8gXHRcIkdhcnJ5XCIgOiBcImltZy9hdmF0YXItZmF0LmpwZ1wiLFxyXG5cdC8vIFx0XCJKYWNvYiBUaG9ybnRvblwiIDogXCJpbWcvYXZhdGFyLW1kby5wbmdcIixcclxuXHQvLyBcdFwiQ2FybG9zXCIgOiBcImltZy9zY3VsbC5qcGdcIlxyXG5cdC8vIH1cclxuXHJcblxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblx0XHRcdHRoaXMuZ2V0VXJsID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wb3N0cyc7XHJcblx0XHRcdHRoaXMuYXZhdGFyc1VybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXZhdGFycyc7IFxyXG5cdFx0XHR0aGlzLnByb2ZpbGVVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2ZpbGUnOyBcclxuICAgIH1cclxuXHJcblx0XHRnZXREYXRhKCkge1xyXG5cdFx0XHRyZXR1cm4gZmV0Y2godGhpcy5nZXRVcmwpLnRoZW4ocmVzcG9uY2UgPT4gcmVzcG9uY2UuanNvbigpKVxyXG5cdFx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiR2FsbGVyeSBpcyBsb2FkZWRcIik7XHJcblx0XHRcdFx0XHR0aGlzLnVzZXJzTGlzdERhdGEgPSBkYXRhO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH0pICAgICAgICAgXHJcblx0fVxyXG5cclxuXHRnZXRBdmF0YXJzKCl7XHJcblx0XHRyZXR1cm4gZmV0Y2godGhpcy5hdmF0YXJzVXJsKS50aGVuKHJlc3BvbmNlID0+IHJlc3BvbmNlLmpzb24oKSlcclxuXHR9XHJcblxyXG5cdGdldFByb2ZpbGVEYXRhKCl7XHJcblx0XHRyZXR1cm4gZmV0Y2godGhpcy5wcm9maWxlVXJsKS50aGVuKHJlc3BvbmNlID0+IHJlc3BvbmNlLmpzb24oKSlcclxuXHR9XHJcblxyXG5cdHNhdmVQb3N0KHBvc3REYXRhKXtcclxuXHRcdGxldCB1cmwgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9wb3N0c1wiO1xyXG5cdFx0bGV0IHBhcmFtcyA9IHtcclxuXHRcdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxyXG5cdFx0XHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkocG9zdERhdGEpXHJcblx0XHR9O1xyXG5cdFx0cmV0dXJuIGZldGNoKHVybCAsIHBhcmFtcykudGhlbihyZXNwb25jZSA9PiByZXNwb25jZS5qc29uKCkpXHJcblx0XHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJzYXZlZCBwb3N0XCIgLCBkYXRhKVxyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHRcdH0pICAgXHJcblx0fVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5WaWV3IHsgICAgICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5ET01FbGVtZW50cyA9IHtcclxuXHRcdFx0XHRcdHJlc3VsdEJsb2NrIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNyZXN1bHQtbWFpblwiKSxcclxuXHRcdFx0XHRcdGFkZE5ld1Bvc3RJbnB1dCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkTmV3UG9zdElucHV0XCIpLFxyXG5cdFx0XHRcdFx0YWRkTmV3Rm9ybSA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybS1hZGQtbmV3XCIpLFxyXG5cdFx0XHRcdFx0YWRkUG9zdEJ0biA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkUG9zdG5CdG5cIiksXHJcblx0XHRcdFx0XHQvL25hbWVOZXdQb3N0IDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctbmFtZVwiKSxcclxuXHRcdFx0XHRcdGF1dGhvck5ld1Bvc3QgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1wb3N0LWF1dGhvclwiKSxcclxuXHRcdFx0XHRcdHRleHROZXdQb3N0IDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctdGV4dFwiKSxcclxuXHRcdFx0XHRcdG5ld0ltYWdlIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctaW1hZ2VcIiksXHJcblx0XHRcdFx0XHRlbXB0eXNwYWNlIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIiksXHJcblx0XHRcdFx0XHR3ZW50VG9MaW5rIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3ZW50VG9cIiksXHJcblx0XHRcdFx0XHRmcmllbmRzV2l0aExpbmsgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZyaWVuZHNXaXRoXCIpLFxyXG5cdFx0XHRcdFx0d29ya2VkQXRMaW5rIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN3b3JrZWRBdFwiKSxcclxuXHRcdFx0XHRcdGxpdmVzSW5MaW5rIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsaXZlc0luXCIpLFxyXG5cdFx0XHRcdFx0ZnJvbUxpbmsgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zyb21cIiksXHJcblx0XHRcdFx0XHQvL2ZyaWVuZHNXaXRoTGluayA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZnJpZW5kc1dpdGhcIiksXHJcblxyXG5cdFx0XHRcdH07IFxyXG5cdFx0XHRcdHRoaXMudXRpbHMgPSB1dGlsczsgICAgXHJcblx0XHRcdFx0dGhpcy5yZWFkeURhdGEgPSBbXTtcclxuXHRcdFx0XHR0aGlzLnByb2ZpbGVEYXRhID0ge307XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGluaXQoZGF0YSl7XHJcblx0XHRcdHRoaXMuaW5pdExpc3RlbmVycygpO1xyXG5cdFx0XHR0aGlzLnJlZnJlc2hQb3N0cyhkYXRhKTtcclxuXHRcdFx0dGhpcy5maWxsQWJvdXQodGhpcy5wcm9maWxlRGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aW5pdExpc3RlbmVycygpe1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmFkZE5ld1Bvc3RJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiAsIHRoaXMuc2hvd0Zvcm1Gb3JBZGRpbmcuYmluZCh0aGlzKSlcclxuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiICwgdGhpcy5oaWRlRm9ybUZvckFkZGluZy5iaW5kKHRoaXMpKVxyXG5cdFx0fVxyXG5cclxuXHRcdHNob3dGb3JtRm9yQWRkaW5nKGV2ZW50KXtcclxuXHRcdFx0aWYoZXZlbnQudGFyZ2V0LmlkID09IFwiYWRkTmV3UG9zdElucHV0XCIpe1xyXG5cdFx0XHRcdC8vdGhpcy5jbGVhckZvcm1Gb3JBZGQoKTtcclxuXHRcdFx0XHR0aGlzLnV0aWxzLnNob3dFbCh0aGlzLkRPTUVsZW1lbnRzLmFkZE5ld0Zvcm0pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0aGlkZUZvcm1Gb3JBZGRpbmcoZXZlbnQpe1xyXG5cdFx0XHRpZihldmVudC50YXJnZXQuaWQgPT0gXCJlbXB0eXNwYWNlXCIpe1xyXG5cdFx0XHRcdHRoaXMuY2xlYXJGb3JtRm9yQWRkKCk7XHJcblx0XHRcdFx0dGhpcy51dGlscy5oaWRlRWwodGhpcy5ET01FbGVtZW50cy5hZGROZXdGb3JtKTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHRcdGNsZWFyRm9ybUZvckFkZCgpe1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmF1dGhvck5ld1Bvc3QudmFsdWUgPSBcIlwiO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnRleHROZXdQb3N0LnZhbHVlID0gXCJcIjtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5uZXdJbWFnZS52YWx1ZSA9IFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVmcmVzaFBvc3RzKGRhdGEpe1xyXG5cdFx0XHR0aGlzLnJlYWR5RGF0YSA9IGRhdGE7XHJcblx0XHRcdHRoaXMuYml1bGRWaWV3KHRoaXMucmVhZHlEYXRhKTtcclxuXHRcdH07XHJcblx0XHRcclxuXHRcclxuXHRcdGJpdWxkVmlldyAocmVhZHlEYXRhKXsgIFxyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLnJlc3VsdEJsb2NrLmlubmVySFRNTCA9IFwiXCI7XHJcblx0XHRcdGZvciAobGV0IGkgPSByZWFkeURhdGEubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkgeyAgICBcclxuXHRcdFx0XHRcdHRoaXMuRE9NRWxlbWVudHMucmVzdWx0QmxvY2suaW5uZXJIVE1MICs9IHRoaXMuY3JlYXRlUG9zdChyZWFkeURhdGFbaV0pOyBcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0XHRjcmVhdGVQb3N0IChpdGVtKSB7XHJcblx0XHRcdGxldCBpbWdzID0gYGA7XHJcblx0XHRcdGl0ZW0uaW1hZ2VzLmZvckVhY2goZWxlbWVudCA9PiB7XHJcblx0XHRcdFx0aW1ncyArPSBcclxuXHRcdFx0XHRcdGA8aW1nIHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrOyAgbWFyZ2luOiAxMHB4OyB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1wiIGRhdGEtd2lkdGg9XCI2NDBcIiBkYXRhLWhlaWdodD1cIjY0MFwiIGRhdGEtYWN0aW9uPVwiem9vbVwiIHNyYz1cIiR7ZWxlbWVudH1cIj5cclxuXHRcdFx0XHRgXHJcblx0XHR9KTtcclxuXHJcblx0XHRcdHJldHVybiBcdGA8bGkgY2xhc3M9XCJydiBiIGFnelwiPlxyXG5cdFx0XHQ8aW1nIGNsYXNzPVwiYm9zIHZiIHliIGFmZlwiICBzcmM9ICR7aXRlbS51cmx9PlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwicndcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYnBkXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYnBiXCI+XHJcblx0XHRcdFx0XHRcdDxzbWFsbCBjbGFzcz1cImFjeCBheGNcIj4ke2l0ZW0uZGF0ZX08L3NtYWxsPlxyXG5cdFx0XHRcdFx0XHQ8aDY+JHtpdGVtLm5hbWV9PC9oNj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PHAgY2xhc3M9XCJ0ZXh0LWxlZnRcIj4ke2l0ZW0udGV4dH08L3A+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm95XCIgZGF0YS1ncmlkPVwiaW1hZ2VzXCI+JHtpbWdzfTwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0PC9saT5gXHJcblx0XHR9O1xyXG5cclxuXHRcdGZpbGxBYm91dChvYmope1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLndlbnRUb0xpbmsuaW5uZXJIVE1MID0gb2JqLndlbnRUbztcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5mcmllbmRzV2l0aExpbmsuaW5uZXJIVE1MID0gb2JqLmZyaWVuZHM7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMud29ya2VkQXRMaW5rLmlubmVySFRNTCA9IG9iai53b3JrUGxhY2U7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubGl2ZXNJbkxpbmsuaW5uZXJIVE1MID0gb2JqLmNvdW50cnk7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuZnJvbUxpbmsuaW5uZXJIVE1MID0gb2JqLnN0YXRlO1xyXG5cdFx0fVxyXG5cclxuLypcclxue1xyXG4gICAgICBcIm5hbWVcIjogXCJEYXZlXCIsXHJcbiAgICAgIFwibGFzdE5hbWVcIjogXCJHYW1hY2hlXCIsXHJcbiAgICAgIFwidXNlck5hbWVcIjogXCJSZWFjaHlcIixcclxuICAgICAgXCJlbWFpbFwiOiBcImRhdmUuZ2FtYWNoZUBnbWFpbC5jb21cIixcclxuICAgICAgXCJhZHJlc3NcIjogXCJGaXJzdCBhdmUsIGJsZCAxMiwgYXBwIDNcIixcclxuICAgICAgXCJhZHJlc3MyXCI6IFwiaG9zdGVsXCIsc3RhdGVcclxuICAgICAgXCJ3b3JrUGxhY2VcIjogXCJHaXRodWJcIixcclxuICAgICAgXCJjb3VudHJ5XCI6IFwiQ2FuYWRhXCIsXHJcbiAgICAgIFwiXCI6IFwiVG9yb250b1wiLFxyXG4gICAgICBcInppcFwiOiBcIjIyMzMyMlwiLFxyXG4gICAgICBcImZyaWVuZHNcIjogXCJPYmFtYVwiXHJcbiAgICB9XHJcbiovXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFByb2ZpbGVDb250cm9sbGVyIHsgXHJcblx0Y29uc3RydWN0b3IobW9kZWwsIHZpZXcsIHV0aWxzKSB7XHJcblx0XHRcdHRoaXMubW9kZWwgPSBtb2RlbDtcclxuXHRcdFx0dGhpcy52aWV3ID0gdmlldztcclxuXHRcdFx0dGhpcy51dGlscyA9IHV0aWxzO1xyXG5cdFx0XHR0aGlzLmluaXQoKTtcclxuXHRcdFx0XHJcblx0fVxyXG4gICBcclxuXHRcdGluaXQoKXtcclxuXHRcdGNvbnNvbGUubG9nKFwicHJvZmlsZSBpbml0ZWRcIik7XHJcbiAgICAgICAgdGhpcy5tb2RlbC5nZXRQcm9maWxlRGF0YSgpLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgLy90aGlzLmluaXRMaXN0ZW5lcnMoKVxyXG4gICAgICAgICAgICB0aGlzLnZpZXcuaW5pdChkYXRhKTtcclxuICAgICAgICAgICAgLy90aGlzLmlzTGFzdFBhZ2UoKTtcclxuICAgICAgICB9KTsgXHRcclxuXHR9XHJcbiAgICBcclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZmlsZU1vZGVsIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG5cdFx0XHR0aGlzLnVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL3Byb2ZpbGVcIlxyXG4gICAgfVxyXG5cclxuXHRcdGdldFByb2ZpbGVEYXRhKCl7XHJcblx0XHRcdHJldHVybiBmZXRjaCh0aGlzLnVybCkudGhlbihyZXNwb25jZSA9PiByZXNwb25jZS5qc29uKCkpXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIlByb2ZpbGVEYXRhIGlzIGxvYWRlZFwiKTtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG4gICAgICAgIH0pIFxyXG5cdFx0fVxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9maWxlVmlldyB7ICAgICAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuRE9NRWxlbWVudHMgPSB7XHJcblx0XHRcdFx0XHRmaXJzdE5hbWUgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ZpcnN0TmFtZVwiKSxcclxuXHRcdFx0XHRcdGxhc3ROYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsYXN0TmFtZVwiKSxcclxuXHRcdFx0XHRcdHVzZXJOYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN1c2VybmFtZVwiKSxcclxuXHRcdFx0XHRcdGVtYWlsIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlbWFpbFByb2ZpbGVcIiksXHJcblx0XHRcdFx0XHRhZGRyZXNzIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGRyZXNzUHJvZmlsZVwiKSxcclxuXHRcdFx0XHRcdGFkZHJlc3MyIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGRyZXNzMlByb2ZpbGVcIiksXHJcblx0XHRcdFx0XHRjb3VudHJ5IDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb3VudHJ5UHJvZmlsZVwiKSxcclxuXHRcdFx0XHRcdHN0YXRlIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzdGF0ZVByb2ZpbGVcIiksXHRcclxuXHRcdFx0XHRcdHppcCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjemlwXCIpXHJcbiAgICAgICAgfTsgICAgIFxyXG4gICAgICAgIHRoaXMucmVhZHlEYXRhO1xyXG4gICAgfVxyXG5cclxuXHRcdGluaXQoZGF0YSl7XHJcblx0XHRcdHRoaXMucmVhZHlEYXRhID0gZGF0YVswXTtcclxuXHRcdFx0dGhpcy5idWlsZFZpZXcodGhpcy5yZWFkeURhdGEpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGJ1aWxkVmlldyhkYXRhKXtcclxuXHRcdFx0Y29uc29sZS5sb2codGhpcy5ET01FbGVtZW50cyk7XHJcblx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmZpcnN0TmFtZS52YWx1ZSA9IGRhdGEubmFtZTtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5sYXN0TmFtZS52YWx1ZSA9IGRhdGEubGFzdE5hbWU7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMudXNlck5hbWUudmFsdWUgPSBkYXRhLnVzZXJOYW1lO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmVtYWlsLnZhbHVlID0gZGF0YS5lbWFpbDtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5hZGRyZXNzLnZhbHVlID0gZGF0YS5hZHJlc3M7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuYWRkcmVzczIudmFsdWUgPSBkYXRhLmFkcmVzczI7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMuY291bnRyeS52YWx1ZSA9IGRhdGEuY291bnRyeTtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5zdGF0ZS52YWx1ZSA9IGRhdGEuc3RhdGU7XHRcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy56aXAudmFsdWUgPSBkYXRhLnppcDtcclxuXHRcdH1cclxuICAgIFxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZXZlbnRzID0ge307XG4gICAgfVxuXG4gICAgc3Vic2NyaWJlRXZlbnQobmFtZSwgZnVuYykge1xuICAgICAgICB0aGlzLmV2ZW50c1tuYW1lXSA9IGZ1bmM7XG4gICAgfVxuICAgIFxuICAgIGNhbGxFdmVudChuYW1lLCBhcmcpIHtcbiAgICAgICAgaWYgKHRoaXMuZXZlbnRzW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50c1tuYW1lXShhcmcpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FsbGVyeUNvbnRyb2xsZXIgeyBcclxuXHRjb25zdHJ1Y3Rvcihtb2RlbCwgdmlldywgb2JzZXJ2ZXIsIHV0aWxzKSB7XHJcblx0XHR0aGlzLm1vZGVsID0gbW9kZWw7XHJcblx0XHR0aGlzLnZpZXcgPSB2aWV3O1xyXG5cdFx0dGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1x0XHJcblx0XHR0aGlzLnV0aWxzID0gdXRpbHM7XHJcblx0XHR0aGlzLmluaXQoKTtcclxuICAgIH0gICAgICAgIFxyXG5cdFx0XHJcblx0XHRpbml0KCl7XHJcblx0XHRcdGNvbnNvbGUubG9nKFwiZ2FsbGVyeSBpbml0ZWRcIilcclxuXHRcdFx0XHR0aGlzLm1vZGVsLmdldERhdGEoKS50aGVuKChkYXRhKSA9PiB7XHJcblx0XHRcdFx0XHR0aGlzLnZpZXcuaW5pdChkYXRhKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiZ2FsbGVyeS1kYXRhOiBcIiwgZGF0YSlcclxuXHRcdFx0XHR9KTsgXHRcclxuXHRcdFx0XHR0aGlzLmluaXRMaXN0ZW5lcnMoKVxyXG5cdFx0fVxyXG5cdFx0XHJcblx0XHRpbml0TGlzdGVuZXJzKCkge1xyXG5cdFx0XHR0aGlzLnZpZXcuRE9NRWxlbWVudHMuYWRkSW1nQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmFkZEltYWdlLmJpbmQodGhpcykpO1xyXG5cdFx0XHR0aGlzLnZpZXcuRE9NRWxlbWVudHMuZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5lZGl0Q2FyZC5iaW5kKHRoaXMpKTtcclxuXHRcdFx0dGhpcy52aWV3LkRPTUVsZW1lbnRzLnJlc3VsdEJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnNob3dGb3JtRm9yRWRpdGluZy5iaW5kKHRoaXMpKTtcclxuXHRcdFx0dGhpcy52aWV3LkRPTUVsZW1lbnRzLnJlc3VsdEJsb2NrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRlbGV0ZUltYWdlLmJpbmQodGhpcykpOyBcclxuXHRcdFxyXG5cdFx0fVxyXG5cclxuXHRcdGFkZEltYWdlIChldmVudCl7XHJcblx0XHRcdGlmKGV2ZW50LnRhcmdldC5pZCA9PSBcImFkZC1pbWdcIiApe1xyXG5cdFx0XHRcdGxldCBpdGVtID0gdGhpcy52aWV3LmNyZWF0ZUl0ZW1Gb3JBZGQoKTtcclxuXHRcdFx0XHR0aGlzLm1vZGVsLnNhdmVEYXRhKGl0ZW0pXHJcblx0XHRcdFx0LnRoZW4oZGF0YSA9PiB0aGlzLnZpZXcucmVmcmVzaEdhbGxlcnkoZGF0YSkpIFxyXG5cdFx0XHRcdHRoaXMudmlldy5oaWRlRm9ybUZvckFkZGluZygpO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cclxuXHRcdHNob3dGb3JtRm9yRWRpdGluZyhldmVudCl7ICAvL1xyXG5cdFx0XHRpZihldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiZWRpdFwiKSl7XHJcblx0XHRcdFx0XHRzY3JvbGwoMCwwKTtcclxuXHRcdFx0XHRcdHRoaXMudmlldy50b2dnbGVBZGRFZGl0QnRuKCk7XHJcblx0XHRcdFx0XHRsZXQgaXRlbUlkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIuZ2FsbGVyeS1jYXJkXCIpLmlkO1xyXG5cdFx0XHRcdFx0dGhpcy5tb2RlbC5nZXRJdGVtKGl0ZW1JZClcclxuXHRcdFx0XHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnZpZXcuZmlsbEZvcm1Gb3JFZGl0KGRhdGEpO1xyXG5cdFx0XHRcdFx0XHR0aGlzLm9iamVjdEZyb21yZXNwb25zZSA9IGRhdGE7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0LmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycm9yKTtcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH07XHJcblx0XHR9O1xyXG5cclxuXHRcdFxyXG5cdFx0ZWRpdENhcmQoZXZlbnQpe1xyXG5cdFx0XHRpZihldmVudC50YXJnZXQuaWQgPT0gXCJlZGl0LWltZ1wiICl7XHJcblx0XHRcdFx0bGV0IGl0ZW0gPSB0aGlzLnZpZXcuY3JlYXRlSXRlbUZvckFkZCgpO1xyXG5cdFx0XHRcdGxldCBpZCA9XHR0aGlzLm9iamVjdEZyb21yZXNwb25zZS5pZDtcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcclxuXHRcdFx0XHR0aGlzLm1vZGVsLmVkaXRHYWxsZXJ5KGlkICwgaXRlbSlcclxuXHRcdFx0XHQudGhlbihkYXRhID0+IHRoaXMudmlldy5yZWZyZXNoR2FsbGVyeShkYXRhKSkgXHJcblx0XHRcdFx0dGhpcy52aWV3LmhpZGVGb3JtRm9yQWRkaW5nKCk7XHJcblx0XHRcdH1cdFxyXG5cdFx0fTtcclxuXHRcclxuXHRcdGRlbGV0ZUltYWdlKGV2ZW50KXtcclxuXHRcdFx0aWYoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInJlbW92ZVwiKSl7XHJcblx0XHRcdFx0bGV0IGlkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIuZ2FsbGVyeS1jYXJkXCIpLmlkO1xyXG5cdFx0XHRcdHRoaXMubW9kZWwucmVtb3ZlSXRlbShpZClcclxuXHRcdFx0XHQudGhlbihkYXRhID0+IHRoaXMudmlldy5yZWZyZXNoR2FsbGVyeShkYXRhKSkgXHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0XHRcclxuXHRcclxuICAgIFxyXG59XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHYWxsZXJ5TW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRVcmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2dhbGxlcnknO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuZ2V0VXJsKS50aGVuKHJlc3BvbmNlID0+IHJlc3BvbmNlLmpzb24oKSlcclxuICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJHYWxsZXJ5IGlzIGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgdGhpcy51c2Vyc0xpc3REYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSkgICAgICAgICBcclxuXHRcdH1cclxuXHRcdGdldEl0ZW0oaXRlbUlkKXtcclxuXHRcdFx0bGV0IHVybCA9IGBodHRwOi8vbG9jYWxob3N0OjMwMDAvZ2FsbGVyeS8ke2l0ZW1JZH1gO1xyXG5cdFx0XHRyZXR1cm4gZmV0Y2godXJsKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHRcdH1cclxuXHRcdHNhdmVEYXRhKGRhdGEpIHtcclxuXHRcdFx0bGV0IHVybCA9IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2dhbGxlcnlcIjtcclxuXHRcdFx0bGV0IHBhcmFtcyA9IHtcclxuXHRcdFx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0XHRcdGhlYWRlcnM6IHtcclxuXHRcdFx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcblx0XHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRcdGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRcdHJldHVybiBmZXRjaCh1cmwgLCBwYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxyXG5cdFx0fTtcclxuXHJcblx0XHRlZGl0R2FsbGVyeShpZCAsIGl0ZW0pe1xyXG5cdFx0XHRsZXQgdXJsID0gYGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9nYWxsZXJ5LyR7aWR9YDtcclxuXHRcdFx0bGV0IHBhcmFtcyA9IHtcclxuXHRcdFx0XHRcdFx0bWV0aG9kOiAnUFVUJyxcclxuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9LFxyXG5cdFx0XHRcdFx0XHRib2R5OiBKU09OLnN0cmluZ2lmeShpdGVtKVxyXG5cdFx0XHR9O1xyXG5cdFx0XHRyZXR1cm4gZmV0Y2godXJsICwgcGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHRcdCBcclxuXHQgfTtcclxuXHJcblx0IHJlbW92ZUl0ZW0oaWQpe1xyXG5cdFx0bGV0IHVybCA9IGBodHRwOi8vbG9jYWxob3N0OjMwMDAvZ2FsbGVyeS8ke2lkfWA7XHJcblx0XHRsZXQgcGFyYW1zID0ge1xyXG5cdFx0XHRtZXRob2Q6ICdERUxFVEUnLFxyXG5cdFx0XHRoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ31cclxuXHRcdH07XHJcblx0XHRyZXR1cm4gZmV0Y2godXJsICwgcGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuXHQgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbGxlcnlWaWV3IHsgICAgICAgIFxyXG4gICAgY29uc3RydWN0b3IodXRpbHMpIHtcclxuICAgICAgICB0aGlzLkRPTUVsZW1lbnRzID0ge1xyXG5cdFx0XHRcdFx0cmVzdWx0QmxvY2s6ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc3VsdCcpLFxyXG5cdFx0XHRcdFx0Zm9ybUZvckFkZGluZzogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb3JtLWFkZC1uZXdcIiksXHJcblx0XHRcdFx0XHRhZGROZXdJbWdCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLW5ldy1pbWdcIiksXHJcblx0XHRcdFx0XHRhZGRJbWdCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWltZ1wiKSxcclxuXHRcdFx0XHRcdGVkaXRCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1pbWdcIiksXHJcblx0XHRcdFx0XHRuZXdOYW1lOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy1uYW1lXCIpLFxyXG5cdFx0XHRcdFx0bmV3VXJsOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ldy11cmxcIiksXHJcblx0XHRcdFx0XHRuZXdEZXNjcmlwdGlvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXctZGVzY3JcIiksXHJcblx0XHRcdFx0fTsgIFxyXG5cdFx0XHRcdHRoaXMudXRpbHMgPSB1dGlsczsgICBcclxuXHRcdFx0IFx0dGhpcy5yZWFkeURhdGFGb3JHYWxsZXJ5ID0gW107XHJcblx0XHRcdCBcdHRoaXMudmlzaWJsZURhdGEgPSBbXTtcclxuICAgICAgICBcclxuXHRcdH1cclxuXHRcdFxyXG5cdFx0aW5pdChkYXRhKXtcclxuXHRcdFx0dGhpcy5pbml0TGlzdGVuZXJzKCk7XHJcblx0XHRcdHRoaXMucmVmcmVzaEdhbGxlcnkoZGF0YSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aW5pdExpc3RlbmVycygpe1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLmFkZE5ld0ltZ0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5zaG93Rm9ybUZvckFkZGluZy5iaW5kKHRoaXMpKTtcclxuXHRcdFx0XHJcblx0XHR9XHJcblx0XHRzaG93Rm9ybUZvckFkZGluZyhldmVudCl7XHJcblx0XHRcdGlmKGV2ZW50LnRhcmdldC5pZCA9PSBcImFkZC1uZXctaW1nXCIpe1xyXG5cdFx0XHRcdHRoaXMuY2xlYXJGb3JtRm9yQWRkKCk7XHJcblx0XHRcdFx0dGhpcy51dGlscy5zaG93RWwodGhpcy5ET01FbGVtZW50cy5mb3JtRm9yQWRkaW5nKTtcclxuXHRcdFx0XHR0aGlzLnV0aWxzLmhpZGVFbCh0aGlzLkRPTUVsZW1lbnRzLmVkaXRCdG4pO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y2xlYXJGb3JtRm9yQWRkKCl7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubmV3TmFtZS52YWx1ZSA9IFwiXCI7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubmV3VXJsLnZhbHVlID0gXCJcIjtcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5uZXdEZXNjcmlwdGlvbi52YWx1ZSA9IFwiXCI7XHJcblx0XHR9XHJcblx0XHRmaWxsRm9ybUZvckVkaXQoZGF0YSl7XHJcblx0XHRcdGxldCByZXNwb25zZSA9IGRhdGE7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubmV3TmFtZS52YWx1ZSA9IHJlc3BvbnNlLm5hbWU7XHJcblx0XHRcdHRoaXMuRE9NRWxlbWVudHMubmV3VXJsLnZhbHVlID0gcmVzcG9uc2UudXJsO1xyXG5cdFx0XHR0aGlzLkRPTUVsZW1lbnRzLm5ld0Rlc2NyaXB0aW9uLnZhbHVlID0gcmVzcG9uc2UuZGVzY3JpcHRpb247XHJcblx0XHR9O1xyXG5cdFx0XHJcblx0XHRoaWRlRm9ybUZvckFkZGluZygpe1xyXG5cdFx0XHR0aGlzLnV0aWxzLmhpZGVFbCh0aGlzLkRPTUVsZW1lbnRzLmZvcm1Gb3JBZGRpbmcpXHJcblx0XHR9XHJcblx0XHRcclxuXHRcdHRvZ2dsZUFkZEVkaXRCdG4oKXtcclxuXHRcdFx0dGhpcy51dGlscy5zaG93RWwodGhpcy5ET01FbGVtZW50cy5mb3JtRm9yQWRkaW5nKTtcclxuXHRcdFx0dGhpcy51dGlscy5oaWRlRWwodGhpcy5ET01FbGVtZW50cy5hZGRJbWdCdG4pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJlZnJlc2hHYWxsZXJ5KGRhdGEpe1xyXG5cdFx0XHR0aGlzLnByZXBhcmVEYXRhKGRhdGEpO1xyXG5cdFx0XHR0aGlzLmJpdWxkR2FsbGVyeSh0aGlzLnZpc2libGVEYXRhKTtcclxuXHRcdH07XHJcblxyXG5cdFx0cHJlcGFyZURhdGEgKGRhdGEpIHtcclxuXHRcdFx0dGhpcy52aXNpYmxlRGF0YSA9IFtdO1xyXG5cdFx0XHR0aGlzLnJlYWR5RGF0YUZvckdhbGxlcnkgPSBbXTtcclxuXHRcdFx0ZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG5cdFx0XHRcdGlmKCFlbGVtZW50Lm5hbWUpe3JldHVybiBmYWxzZX1cclxuXHRcdFx0XHRlbHNle3RoaXMucmVhZHlEYXRhRm9yR2FsbGVyeS5wdXNoKGVsZW1lbnQpIH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdFxyXG5cdFx0XHR0aGlzLnJlYWR5RGF0YUZvckdhbGxlcnkubWFwKChpdGVtLCBpbmRleCkgPT4ge1xyXG5cdFx0XHQgICAgICAgICAgICAgICAgIFxyXG5cdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdHVybDogdGhpcy51cmxGb21hdChpdGVtLnVybCksXHJcblx0XHRcdFx0XHRcdFx0XHRcdG5hbWU6IHRoaXMubmFtZUZvcm1hdChpdGVtLm5hbWUpLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjogaXRlbS5kZXNjcmlwdGlvbixcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXRlbUlEOiBpdGVtLmlkXHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHRoaXMudmlzaWJsZURhdGEucHVzaC5hcHBseSh0aGlzLnZpc2libGVEYXRhLFx0dGhpcy5yZWFkeURhdGFGb3JHYWxsZXJ5KTtcclxuXHRcdH07XHJcblxyXG5cdFx0Yml1bGRHYWxsZXJ5ICh2aXNpYmxlRGF0YSl7ICBcclxuXHRcdFx0dGhpcy5ET01FbGVtZW50cy5yZXN1bHRCbG9jay5pbm5lckhUTUwgPSBcIlwiO1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHZpc2libGVEYXRhLmxlbmd0aDsgaSsrKSB7ICAgIFxyXG5cdFx0XHRcdFx0dGhpcy5ET01FbGVtZW50cy5yZXN1bHRCbG9jay5pbm5lckhUTUwgKz0gdGhpcy5jcmVhdGVHYWxsZXJ5SXRlbSh2aXNpYmxlRGF0YVtpXSk7IFxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdFx0Y3JlYXRlR2FsbGVyeUl0ZW0gKGl0ZW0pIHtcclxuXHRcdFx0cmV0dXJuIFx0YDxkaXYgY2xhc3M9XCJjb2wtbWQtNCBnYWxsZXJ5LWNhcmRcIiBpZCA9ICR7aXRlbS5pZH0+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZCBtYi00IGJveC1zaGFkb3cgZ2FsbGVyeS1pdGVtXCIgPlxyXG5cdFx0XHRcdFx0XHRcdDxpbWcgc3JjPVwiJHtpdGVtLnVybH1cIiBhbHQ9XCIke2l0ZW0ubmFtZX1cIiBjbGFzcz1cImNhcmQtaW1nLXRvcFwiIGRhdGEtc3JjPVwiaG9sZGVyLmpzLzEwMHB4MjI1P3RoZW1lPXRodW1iJmFtcDtiZz01NTU5NWMmYW1wO2ZnPWVjZWVlZiZhbXA7dGV4dD1UaHVtYm5haWxcIiBkYXRhLWhvbGRlci1yZW5kZXJlZD1cInRydWVcIiBzdHlsZT1cImhlaWdodDogMjI1cHg7IHdpZHRoOiAxMDAlOyBkaXNwbGF5OiBibG9jaztcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkLXRleHQgbWItNFwiPiR7aXRlbS5uYW1lfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC10ZXh0IG1iLTRcIj4ke3RoaXMuZGVzY3JGb3JtYXQoaXRlbS5kZXNjcmlwdGlvbil9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgbmFtZSA9IFwiZWRpdC1pbWdcIiBjbGFzcz1cImJ0biBidG4td2FybmluZyBlZGl0XCIgIHRpdGxlID0gXCLQoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjCDQtNCw0L3QvdC+0LUg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiPtCg0LXQtNCw0LrRgtC40YDQvtCy0LDRgtGMPC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgIG5hbWUgPSBcImRlbGV0ZS1pbWdcIiBjbGFzcyA9IFwiYnRuIGJ0bi1kYW5nZXIgcmVtb3ZlXCIgIHRpdGxlID0gXCLQo9C00LDQu9C40YLRjCDQtNCw0L3QvdC+0LUg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiPiDQo9C00LDQu9C40YLRjCA8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImJ0bi1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PmA7XHJcblx0XHR9O1xyXG5cclxuXHRcdGNyZWF0ZUl0ZW1Gb3JBZGQoKXtcclxuXHRcdFx0bGV0IGl0ZW0gPSB7XHJcblx0XHRcdFx0XCJ1cmxcIiA6IHRoaXMudXJsRm9tYXQodGhpcy5ET01FbGVtZW50cy5uZXdVcmwudmFsdWUpLFxyXG5cdFx0XHRcdFwibmFtZVwiOiB0aGlzLm5hbWVGb3JtYXQodGhpcy5ET01FbGVtZW50cy5uZXdOYW1lLnZhbHVlKSxcclxuXHRcdFx0XHRcImRlc2NyaXB0aW9uXCI6IHRoaXMuRE9NRWxlbWVudHMubmV3RGVzY3JpcHRpb24udmFsdWUsXHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGl0ZW07XHJcblx0XHR9XHJcblxyXG5cdFx0bmFtZUZvcm1hdCAobmFtZSl7XHJcblx0XHRcdHJldHVybiAgbmFtZSA/IG5hbWVbMF0udG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyaW5nKDEpLnRvTG93ZXJDYXNlKCkgOiBcIkxvaG4gRG9oXCI7XHJcblx0XHR9O1xyXG5cdFx0dXJsRm9tYXQgICh1cmwpe1xyXG5cdFx0XHRcdHJldHVybiAgKHVybC5pbmRleE9mKFwiaHR0cHM6Ly9cIikpID09PSAtMSA/IGBodHRwczovLyR7dXJsfWAgOiAgdXJsOyBcclxuXHRcdH07XHJcblx0XHRkZXNjckZvcm1hdChkKXtcclxuXHRcdFx0aWYgKCFkKSB7XHJcblx0XHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHRcdH0gZWxzZSB7cmV0dXJuICBkfVxyXG5cdFx0fVxyXG5cclxufVxyXG5cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29udGFjdHNDb250cm9sbGVyIHsgXHJcblx0Y29uc3RydWN0b3IobW9kZWwsIHZpZXcsIHV0aWxzKSB7XHJcblx0XHRcdHRoaXMubW9kZWwgPSBtb2RlbDtcclxuXHRcdFx0dGhpcy52aWV3ID0gdmlldztcclxuXHRcdFx0dGhpcy51dGlscyA9IHV0aWxzO1xyXG5cdFx0XHR0aGlzLmluaXQoKTtcclxuXHRcdFx0XHJcblx0fVxyXG5cdCBcdFxyXG5cdGluaXQoKXtcclxuXHRcdGNvbnNvbGUubG9nKFwiY29udGFjdHMgaW5pdGVkXCIpO1xyXG5cdFx0dGhpcy52aWV3LmluaXQoKTtcclxuXHRcdHRoaXMuaW5pdExpc3RlbmVycygpO1xyXG5cdFx0dGhpcy5tb2RlbC5nZXREYXRhKCkudGhlbigoZGF0YSkgPT4ge1xyXG5cdFx0XHRcdHRoaXMudmlldy5idWlsZFdhbGwoZGF0YSk7XHJcblx0XHR9KTsgXHRcclxuXHQgfVxyXG5cdCBcclxuXHQgaW5pdExpc3RlbmVycygpe1xyXG5cdFx0dGhpcy52aWV3LkRPTUVsZW1lbnRzLnNlbmRJbmZvQlROLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiICwgdGhpcy5zZW5kSW5mby5iaW5kKHRoaXMpKVxyXG5cdH1cclxuXHJcblx0c2VuZEluZm8oKXtcclxuXHRcdGxldCBvYmogPSB7XHJcblx0XHRcdG5hbWUgOiB0aGlzLnZpZXcuRE9NRWxlbWVudHMubmFtZS52YWx1ZSxcclxuXHRcdFx0ZW1haWwgOiB0aGlzLnZpZXcuRE9NRWxlbWVudHMuZW1haWwudmFsdWUsXHJcblx0XHRcdHBob25lIDogdGhpcy52aWV3LkRPTUVsZW1lbnRzLnBob25lLnZhbHVlLFxyXG5cdFx0XHRtc2cgOiB0aGlzLnZpZXcuRE9NRWxlbWVudHMubXNnLnZhbHVlLFxyXG5cdFx0XHRkYXRlOiBtb21lbnQoKVxyXG5cdFx0fVxyXG5cdFx0Y29uc29sZS5sb2cob2JqKTtcclxuXHRcdHRoaXMubW9kZWwuc2F2ZU1zZyhvYmopO1xyXG5cdH1cclxuXHJcbn1cclxuXHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnRhY3RzTW9kZWwge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcblx0XHRcdHRoaXMudXJsID0gXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvd2FsbFwiXHJcbiAgICB9XHJcblxyXG5cdFx0Z2V0RGF0YSgpe1xyXG5cdFx0XHRyZXR1cm4gZmV0Y2godGhpcy51cmwpLnRoZW4ocmVzcG9uY2UgPT4gcmVzcG9uY2UuanNvbigpKVxyXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGE7XHJcbiAgICAgICAgfSkgXHJcblx0XHR9XHJcblxyXG5cdFx0c2F2ZU1zZyhvYmope1xyXG5cdFx0XHRjb25zb2xlLmxvZyhvYmopO1xyXG5cdFx0XHRsZXQgdXJsID0gdGhpcy51cmw7XHJcblx0XHRcdGxldCBwYXJhbXMgPSB7XHJcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXHJcblx0XHRcdFx0aGVhZGVyczoge1xyXG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkob2JqKVxyXG5cdH07XHJcblxyXG5cdFx0cmV0dXJuIGZldGNoKHVybCAsIHBhcmFtcykudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcblxyXG5cdFx0fVxyXG5cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDb250YWN0c1ZpZXcgeyAgICAgICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLkRPTUVsZW1lbnRzID0ge1xyXG5cdFx0XHRcdFx0Z29vZ2xlTWFwIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNnb29nbGVNYXBcIiksXHJcblx0XHRcdFx0XHRuYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250YWN0c05hbWVcIiksXHJcblx0XHRcdFx0XHRlbWFpbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFjdHNFbWFpbFwiKSxcclxuXHRcdFx0XHRcdHBob25lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250YWN0c1RlbFwiKSxcclxuXHRcdFx0XHRcdG1zZyA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGFjdHNNZXNzYWdlXCIpLFxyXG5cdFx0XHRcdFx0c2VuZEluZm9CVE4gOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3NlbmRJbmZvQlROXCIpLFxyXG5cdFx0XHRcdFx0d2FsbCA6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjd2FsbFwiKSxcclxuXHRcdFx0XHRcdC8vIGxhc3ROYW1lIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsYXN0TmFtZVwiKSxcclxuXHRcdFx0XHRcdC8vIGFkZHJlc3MgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZHJlc3NQcm9maWxlXCIpLFxyXG5cdFx0XHRcdFx0Ly8gYWRkcmVzczIgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZHJlc3MyUHJvZmlsZVwiKSxcclxuXHRcdFx0XHRcdC8vIGNvdW50cnkgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NvdW50cnlQcm9maWxlXCIpLFxyXG5cdFx0XHRcdFx0Ly8gc3RhdGUgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3N0YXRlUHJvZmlsZVwiKSxcdFxyXG5cdFx0XHRcdFx0Ly8gemlwIDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN6aXBcIilcclxuICAgICAgICB9OyAgICAgXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG5cdFx0aW5pdCgpe1xyXG5cdFx0XHR0aGlzLmJ1aWxkR29vZ2xlTWFwKCk7XHJcblx0XHRcdFxyXG5cdFx0fVxyXG5cdFx0XHJcblxyXG5cdFx0YnVpbGRHb29nbGVNYXAoKXtcclxuXHRcdFx0dmFyIG1hcENhbnZhcyA9IHRoaXMuRE9NRWxlbWVudHMuZ29vZ2xlTWFwO1xyXG4gIFx0XHR2YXIgbWFwT3B0aW9ucyA9IHtcclxuICAgIFx0XHRjZW50ZXI6IG5ldyBnb29nbGUubWFwcy5MYXRMbmcoNDMuNiwgLTc5LjMpLCB6b29tOiA4XHJcbiAgXHRcdH07XHJcbiAgXHRcdHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKG1hcENhbnZhcywgbWFwT3B0aW9ucyk7XHJcblx0XHR9XHJcblxyXG5cdFx0YnVpbGRXYWxsKGRhdGEpe1xyXG5cdFx0XHRsZXQgd2FsbERhdGEgPSBkYXRhO1xyXG5cdFx0XHRjb25zb2xlLmxvZyh3YWxsRGF0YSk7XHJcblx0XHRcdGZvciAobGV0IGkgPSB3YWxsRGF0YS5sZW5ndGggLTE7IGkgPj0gMDsgaS0tKSB7ICAgIFxyXG5cdFx0XHRcdHRoaXMuRE9NRWxlbWVudHMud2FsbC5pbm5lckhUTUwgKz0gdGhpcy5jcmVhdGVXYWxsSXRlbSh3YWxsRGF0YVtpXSk7IFxyXG5cdFx0fVxyXG5cdFx0XHQvL3RoaXMuRE9NRWxlbWVudHMud2FsbC5pbm5lckhUTUwgKz0gZGF0YTtcclxuXHRcdH1cclxuXHJcblx0XHRjcmVhdGVXYWxsSXRlbShpdGVtKXtcclxuXHRcdFx0cmV0dXJuIFx0YDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIiBpZCA9ICR7aXRlbS5pZH0+XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIndhbGwtaXRlbVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzID1cImNvbC1tZC00XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtbGVmdFwiPjxiPlVzZXI8L2I+OiAke2l0ZW0ubmFtZX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC1sZWZ0XCI+PGI+RW1haWw8L2I+OiAke2l0ZW0uZW1haWx9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInRleHQtbGVmdFwiPjxiPlBob25lPC9iPjogJHtpdGVtLnBob25lfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0ZXh0LWxlZnRcIj48Yj5EYXRlPC9iPjogJHtpdGVtLmRhdGV9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGV4dC1sZWZ0IGNvbC1tZC04XCI+IDxzdHJvbmc+JHtpdGVtLm1zZ308L3N0cm9uZz48L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PGhyIGNsYXNzPVwibWItNFwiPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PmA7XHJcblx0XHR9XHJcbiAgICBcclxufVxyXG5cclxuIiwiaW1wb3J0IHt1cGRhdGVSb3V0ZX0gZnJvbSAnLi9yb3V0ZXIuanMnXG5cblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB1cGRhdGVSb3V0ZSk7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHVwZGF0ZVJvdXRlKTtcblxuIl19
